import{d as M,r as w,b as T,p as ee,e as te,f as se,w as ae,K as F,i as ie,o as _,c as S,a as g,y as C,v as A,z as L,A as le,j as H,T as ne,F as N,x as j,s as oe,n as I,k as re,l as ue,m as x,q as $}from"./index-e786ad72.js";import{F as de,w as ce,h as fe,o as y,c as pe,u as ve,l as B,H as O,t as z,b as he,p as me,N as U,a as m,v as ge,d as W,_ as Y,O as ye}from"./use-outside-click-a915c15b.js";import{o as be,q as _e,x as Se,r as k,s as ke,t as we,v as G,w as Ie,y as q,C as Te,z as E,A as P,V as xe,D as Me,E as J,G as Fe,H as Q,J as Re}from"./parcelData-248bc9cc.js";import{p as Ce}from"./use-tree-walker-8d20aaf1.js";var Ae=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(Ae||{}),Le=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Le||{});function Ee(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let Z=Symbol("MenuContext");function V(a){let e=ie(Z,null);if(e===null){let i=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,V),i}return e}let Pe=M({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:e,attrs:i}){let o=w(1),t=w(null),d=w(null),r=w([]),p=w(""),c=w(null),n=w(1);function s(u=v=>v){let v=c.value!==null?r.value[c.value]:null,h=ye(u(r.value.slice()),b=>y(b.dataRef.domRef)),l=v?h.indexOf(v):null;return l===-1&&(l=null),{items:h,activeItemIndex:l}}let f={menuState:o,buttonRef:t,itemsRef:d,items:r,searchQuery:p,activeItemIndex:c,activationTrigger:n,closeMenu:()=>{o.value=1,c.value=null},openMenu:()=>o.value=0,goToItem(u,v,h){let l=s(),b=Se(u===k.Specific?{focus:k.Specific,id:v}:{focus:u},{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});p.value="",c.value=b,n.value=h??1,r.value=l.items},search(u){let v=p.value!==""?0:1;p.value+=u.toLowerCase();let h=(c.value!==null?r.value.slice(c.value+v).concat(r.value.slice(0,c.value+v)):r.value).find(b=>b.dataRef.textValue.startsWith(p.value)&&!b.dataRef.disabled),l=h?r.value.indexOf(h):-1;l===-1||l===c.value||(c.value=l,n.value=1)},clearSearch(){p.value=""},registerItem(u,v){let h=s(l=>[...l,{id:u,dataRef:v}]);r.value=h.items,c.value=h.activeItemIndex,n.value=1},unregisterItem(u){let v=s(h=>{let l=h.findIndex(b=>b.id===u);return l!==-1&&h.splice(l,1),h});r.value=v.items,c.value=v.activeItemIndex,n.value=1}};return de([t,d],(u,v)=>{var h;f.closeMenu(),ce(v,fe.Loose)||(u.preventDefault(),(h=y(t))==null||h.focus())},T(()=>o.value===0)),ee(Z,f),pe(T(()=>ve(o.value,{[0]:B.Open,[1]:B.Closed}))),()=>{let u={open:o.value===0,close:f.closeMenu};return O({ourProps:{},theirProps:a,slot:u,slots:e,attrs:i,name:"Menu"})}}}),De=M({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${z()}`}},setup(a,{attrs:e,slots:i,expose:o}){let t=V("MenuButton");o({el:t.buttonRef,$el:t.buttonRef});function d(n){switch(n.key){case m.Space:case m.Enter:case m.ArrowDown:n.preventDefault(),n.stopPropagation(),t.openMenu(),F(()=>{var s;(s=y(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(k.First)});break;case m.ArrowUp:n.preventDefault(),n.stopPropagation(),t.openMenu(),F(()=>{var s;(s=y(t.itemsRef))==null||s.focus({preventScroll:!0}),t.goToItem(k.Last)});break}}function r(n){switch(n.key){case m.Space:n.preventDefault();break}}function p(n){a.disabled||(t.menuState.value===0?(t.closeMenu(),F(()=>{var s;return(s=y(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(n.preventDefault(),t.openMenu(),Ee(()=>{var s;return(s=y(t.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let c=he(T(()=>({as:a.as,type:e.type})),t.buttonRef);return()=>{var n;let s={open:t.menuState.value===0},{id:f,...u}=a,v={ref:t.buttonRef,id:f,type:c.value,"aria-haspopup":"menu","aria-controls":(n=y(t.itemsRef))==null?void 0:n.id,"aria-expanded":a.disabled?void 0:t.menuState.value===0,onKeydown:d,onKeyup:r,onClick:p};return O({ourProps:v,theirProps:u,slot:s,attrs:e,slots:i,name:"MenuButton"})}}}),Be=M({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${z()}`}},setup(a,{attrs:e,slots:i,expose:o}){let t=V("MenuItems"),d=w(null);o({el:t.itemsRef,$el:t.itemsRef}),Ce({container:T(()=>y(t.itemsRef)),enabled:T(()=>t.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function r(s){var f;switch(d.value&&clearTimeout(d.value),s.key){case m.Space:if(t.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),t.search(s.key);case m.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeItemIndex.value!==null){let u=t.items.value[t.activeItemIndex.value];(f=y(u.dataRef.domRef))==null||f.click()}t.closeMenu(),Y(y(t.buttonRef));break;case m.ArrowDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(k.Next);case m.ArrowUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(k.Previous);case m.Home:case m.PageUp:return s.preventDefault(),s.stopPropagation(),t.goToItem(k.First);case m.End:case m.PageDown:return s.preventDefault(),s.stopPropagation(),t.goToItem(k.Last);case m.Escape:s.preventDefault(),s.stopPropagation(),t.closeMenu(),F(()=>{var u;return(u=y(t.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case m.Tab:s.preventDefault(),s.stopPropagation(),t.closeMenu(),F(()=>ge(y(t.buttonRef),s.shiftKey?W.Previous:W.Next));break;default:s.key.length===1&&(t.search(s.key),d.value=setTimeout(()=>t.clearSearch(),350));break}}function p(s){switch(s.key){case m.Space:s.preventDefault();break}}let c=me(),n=T(()=>c!==null?(c.value&B.Open)===B.Open:t.menuState.value===0);return()=>{var s,f;let u={open:t.menuState.value===0},{id:v,...h}=a,l={"aria-activedescendant":t.activeItemIndex.value===null||(s=t.items.value[t.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(f=y(t.buttonRef))==null?void 0:f.id,id:v,onKeydown:r,onKeyup:p,role:"menu",tabIndex:0,ref:t.itemsRef};return O({ourProps:l,theirProps:h,slot:u,attrs:e,slots:i,features:U.RenderStrategy|U.Static,visible:n.value,name:"MenuItems"})}}}),Oe=M({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${z()}`}},setup(a,{slots:e,attrs:i,expose:o}){let t=V("MenuItem"),d=w(null);o({el:d,$el:d});let r=T(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===a.id:!1),p=be(d),c=T(()=>({disabled:a.disabled,get textValue(){return p()},domRef:d}));te(()=>t.registerItem(a.id,c)),se(()=>t.unregisterItem(a.id)),ae(()=>{t.menuState.value===0&&r.value&&t.activationTrigger.value!==0&&F(()=>{var l,b;return(b=(l=y(d))==null?void 0:l.scrollIntoView)==null?void 0:b.call(l,{block:"nearest"})})});function n(l){if(a.disabled)return l.preventDefault();t.closeMenu(),Y(y(t.buttonRef))}function s(){if(a.disabled)return t.goToItem(k.Nothing);t.goToItem(k.Specific,a.id)}let f=_e();function u(l){f.update(l)}function v(l){f.wasMoved(l)&&(a.disabled||r.value||t.goToItem(k.Specific,a.id,0))}function h(l){f.wasMoved(l)&&(a.disabled||r.value&&t.goToItem(k.Nothing))}return()=>{let{disabled:l}=a,b={active:r.value,disabled:l,close:t.closeMenu},{id:R,...X}=a;return O({ourProps:{id:R,ref:d,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,disabled:void 0,onClick:n,onFocus:s,onPointerenter:u,onMouseenter:u,onPointermove:v,onMousemove:v,onPointerleave:h,onMouseleave:h},theirProps:{...i,...X},slot:b,attrs:i,slots:e,name:"MenuItem"})}}});function Ve(a,e){return _(),S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[g("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}const $e={class:"relative z-10 flex"},He={class:"px-1 py-1"},Ne=["onClick"],ot=M({__name:"BfTopTileDropdown",props:{values:{default:()=>[]},curValue:{default:null}},emits:["update"],setup(a,{emit:e}){return(i,o)=>(_(),S("div",$e,[C(L(Pe),{as:"div",class:"relative inline-block text-left"},{default:A(()=>[g("div",null,[C(L(De),{class:"transition-colors-default group inline-flex w-full justify-center rounded-md bg-gray-100 px-4 py-2 text-sm font-medium hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-100"},{default:A(()=>[le(H(i.curValue?i.curValue:"Seleziona")+" ",1),C(L(Ve),{class:"text-gray-400 group-hover:text-gray-600 -mr-1 ml-2 h-5 w-5 transition-colors-default","aria-hidden":"true"})]),_:1})]),C(ne,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:A(()=>[C(L(Be),{class:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-bg-100 shadow-lg ring-1 ring-green-400 ring-opacity-10 focus:outline-none"},{default:A(()=>[g("div",He,[(_(!0),S(N,null,j(i.values,(t,d)=>(_(),oe(L(Oe),null,{default:A(({active:r})=>[g("button",{onClick:p=>e("update",t),type:"button",class:I([i.curValue&&i.curValue===t?"bg-blue-500 text-blue-50":r?"bg-blue-50 text-blue-800":"","group flex w-full items-center rounded-md px-2 py-2 text-sm font-medium"])},H(t),11,Ne)]),_:2},1024))),256))])]),_:1})]),_:1})]),_:1})]))}}),je={class:"flex flex-shrink-0 space-x-1 rounded-md bg-gray-100 p-1",role:"tablist"},ze=["aria-selected","onClick"],Ke={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"svg-image filled h-6 w-6"},Ue=g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"},null,-1),We=g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"},null,-1),Ge=[Ue,We],qe={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",class:"svg-image stroked h-5 w-5"},Je=g("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),Qe=[Je],Ye={class:"sr-only"},rt=M({__name:"BfTopTileViewTab",props:{values:{default:()=>[]},curValue:{default:null}},emits:["update"],setup(a,{emit:e}){const i=[{id:"chart",description:"Grafico",icon:"fa-chart-pie-simple"},{id:"list",description:"Lista",icon:"fa-bars"}];return(o,t)=>{const d=re("bf-tooltip");return _(),S("div",je,[(_(),S(N,null,j(i,r=>ue(g("button",{class:I(["transition-colors-default flex flex-shrink-0 h-7 w-10 items-center justify-center rounded text-gray-400 hover:bg-bg-100/50",o.curValue===r.id?"!bg-bg-100":""]),role:"tab",type:"button","aria-selected":o.curValue===r.id,onClick:p=>e("update",r.id)},[r.id==="chart"?(_(),S("svg",Ke,Ge)):(_(),S("svg",qe,Qe)),g("span",Ye,H(r.description),1)],10,ze),[[d,r.description]])),64))])}}});const Ze={key:0,class:"flex w-full border-t"},Xe={class:"divide-y divide-border bg-bg-100"},ut=M({__name:"BfTable",props:{stickyHeader:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1},isEmbedded:{type:Boolean,default:!1},isLight:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!1},hasBottomSection:{type:Boolean,default:!1},hasTopSection:{type:Boolean,default:!1},items:{}},setup(a){return(e,i)=>(_(),S("div",{class:I(["-my-2 overflow-x-auto",{"-mx-4 sm:-mx-6 lg:-mx-8":e.isEmbedded}])},[g("div",{class:I(["inline-block min-w-full py-2 align-middle",{"md:px-6 lg:px-8":!e.fullWidth&&!e.stickyHeader&&e.isEmbedded}])},[g("div",{class:I(["ring-1 ring-bg-900 ring-opacity-5",{"overflow-hidden":!e.stickyHeader,"shadow-sma":e.fullWidth||e.stickyHeader,"mr-px ml-px shadow md:rounded-lg":!e.fullWidth&&!e.stickyHeader}])},[e.hasTopSection?(_(),S("div",Ze,[x(e.$slots,"topSection")])):$("",!0),g("table",{class:I(["bf-table min-w-full",{"bf-table-full-width":e.fullWidth||e.stickyHeader,"bf-table-sticky-header border-separate":e.stickyHeader,"divide-y divide-border":!e.stickyHeader,"bf-table-compact":e.isCompact,"bf-table-light":e.isLight}])},[g("thead",{class:I({"bg-gray-50":!e.isLight})},[g("tr",null,[x(e.$slots,"header")])],2),g("tbody",Xe,[x(e.$slots,"before-items"),(_(!0),S(N,null,j(e.items,(o,t)=>(_(),S("tr",{class:I({"bf-table-light-row-with-spacers":e.isLight&&t!==0})},[x(e.$slots,"rows",{item:o,index:t})],2))),256)),x(e.$slots,"after-items")])],2),e.hasBottomSection?(_(),S("div",{key:1,class:I(["flex w-full border-b bf-table-section",{"bf-table-section-compact":e.isCompact}])},[x(e.$slots,"bottomSection")],2)):$("",!0),e.hasFooter?x(e.$slots,"footer",{key:2}):$("",!0)],2)],2)],2))}}),et={SELECT:"select"};class tt extends Re{constructor(e,i,o,t){super(e),this.selected=i,this.deselected=o,this.mapBrowserEvent=t}}const D={};class K extends ke{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:we,this.addCondition_=e.addCondition?e.addCondition:G,this.removeCondition_=e.removeCondition?e.removeCondition:G,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Ie,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:q,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:st(),this.features_=e.features||new Te;let i;if(e.layers)if(typeof e.layers=="function")i=e.layers;else{const o=e.layers;i=function(t){return o.includes(t)}}else i=q;this.layerFilter_=i,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,i){this.featureLayerAssociation_[E(e)]=i}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[E(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(P.ADD,this.boundAddFeature_),this.features_.addEventListener(P.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(P.ADD,this.boundAddFeature_),this.features_.removeEventListener(P.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const i=e.element;if(this.style_&&this.applySelectedStyle_(i),!this.getLayer(i)){const o=this.getMap().getAllLayers().find(function(t){if(t instanceof xe&&t.getSource()&&t.getSource().hasFeature(i))return t});o&&this.addFeatureLayerAssociation_(i,o)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const i=E(e);i in D||(D[i]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const i=this.getMap().getInteractions().getArray();for(let t=i.length-1;t>=0;--t){const d=i[t];if(d!==this&&d instanceof K&&d.getStyle()&&d.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(d.getStyle());return}}const o=E(e);e.setStyle(D[o]),delete D[o]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[E(e)]}handleEvent(e){if(!this.condition_(e))return!0;const i=this.addCondition_(e),o=this.removeCondition_(e),t=this.toggleCondition_(e),d=!i&&!o&&!t,r=e.map,p=this.getFeatures(),c=[],n=[];if(d){Me(this.featureLayerAssociation_),r.forEachFeatureAtPixel(e.pixel,(s,f)=>{if(!(!(s instanceof J)||!this.filter_(s,f)))return this.addFeatureLayerAssociation_(s,f),n.push(s),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let s=p.getLength()-1;s>=0;--s){const f=p.item(s),u=n.indexOf(f);u>-1?n.splice(u,1):(p.remove(f),c.push(f))}n.length!==0&&p.extend(n)}else{r.forEachFeatureAtPixel(e.pixel,(s,f)=>{if(!(!(s instanceof J)||!this.filter_(s,f)))return(i||t)&&!p.getArray().includes(s)?(this.addFeatureLayerAssociation_(s,f),n.push(s)):(o||t)&&p.getArray().includes(s)&&(c.push(s),this.removeFeatureLayerAssociation_(s)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let s=c.length-1;s>=0;--s)p.remove(c[s]);p.extend(n)}return(n.length>0||c.length>0)&&this.dispatchEvent(new tt(et.SELECT,n,c,e)),!0}}function st(){const a=Fe();return Q(a.Polygon,a.LineString),Q(a.GeometryCollection,a.LineString),function(e){return e.getGeometry()?a[e.getGeometry().getType()]:null}}const dt=K;export{Pe as M,De as R,dt as S,ot as _,rt as a,ut as b,Be as h,Oe as y};
