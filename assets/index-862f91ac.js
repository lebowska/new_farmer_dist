import{d as We,k as H,c as se,q as Il,y as El,s as Yt,L as bt,z as tr,F as wt,x as Ag,v as Ig,o as D,b as z,e as m,u as xs,a as Ve,w as G,g as wl,f as we,l as B,m as Y,n as me,t as be,T as Vt,r as sn,U as Tg,G as Cg,D as an,N as Eg,h as bs,i as ws,j as ys,O as Ss,p as Zn}from"./index-47e0eb5e.js";import{_ as Lg}from"./MainTile-890f7f88.js";import{T as Rg,B as Dg,u as $g,a as Mg,p as Og,C as Bg,W as Pg,V as yl,b as us,c as ss,S as os,e as fs,f as cs,F as Sl,h as Fg,P as ds,I as Vg,j as Al,i as Wg,k as Ug,l as Ng,m as kg}from"./parcelData-d7f0a92f.js";import{w as hs}from"./waterBalanceData-04604941.js";import{a as rt}from"./Colors-74604422.js";import{K as Gg,r as zg,N as Hg,H as qg,F as Kg,_ as jn}from"./BfFormSelect-5ede5950.js";import{r as Yg,c as Xn,a as As,b as un,u as Is,d as Ft,_ as Ts,f as ps,e as Jn}from"./BfFormGroup-f82572ba.js";import{H as nr,t as Cs,b as Es,o as ke,K as Zg,e as Ls,a as dt,O as Qn,u as Jr,T as Zr,m as Xg,P as In,d as It}from"./use-outside-click-da6ff33c.js";import{M as Jg,f as Rs,a as Ds}from"./description-8d21d89b.js";import{t as Qg}from"./micro-task-89dcd6af.js";import{K as jg,d as ev,T as tv,p as nv,r as rv}from"./CheckCircleIcon-727372cf.js";import{c as iv,a as lv}from"./cicciotto-25d2cff1.js";import{D as av}from"./DateUtils-c1a87f7b.js";import{_ as er}from"./BfButton-5ec604ea.js";import{_ as gs}from"./BfToolButton-7a98d85d.js";import{_ as vs}from"./BfFormInput-c1600de1.js";import"./use-text-value-36758152.js";let $s=Symbol("GroupContext"),Ms=We({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(f,{slots:w,attrs:u}){let T=H(null),S=jg({name:"SwitchLabel",props:{htmlFor:se(()=>{var R;return(R=T.value)==null?void 0:R.id}),onClick(R){T.value&&(R.currentTarget.tagName==="LABEL"&&R.preventDefault(),T.value.click(),T.value.focus({preventScroll:!0}))}}}),b=Jg({name:"SwitchDescription"});return Il($s,{switchRef:T,labelledby:S,describedby:b}),()=>nr({theirProps:f,ourProps:{},slot:{},slots:w,attrs:u,name:"SwitchGroup"})}}),Os=We({name:"Switch",emits:{"update:modelValue":f=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Cs()}`}},inheritAttrs:!1,setup(f,{emit:w,attrs:u,slots:T,expose:S}){let b=El($s,null),[R,C]=ev(se(()=>f.modelValue),_=>w("update:modelValue",_),se(()=>f.defaultChecked));function I(){C(!R.value)}let re=H(null),q=b===null?re:b.switchRef,O=Es(se(()=>({as:f.as,type:u.type})),q);S({el:q,$el:q});function Be(_){_.preventDefault(),I()}function Le(_){_.key===dt.Space?(_.preventDefault(),I()):_.key===dt.Enter&&nv(_.currentTarget)}function De(_){_.preventDefault()}let A=se(()=>{var _,L;return(L=(_=ke(q))==null?void 0:_.closest)==null?void 0:L.call(_,"form")});return Yt(()=>{bt([A],()=>{if(!A.value||f.defaultChecked===void 0)return;function _(){C(f.defaultChecked)}return A.value.addEventListener("reset",_),()=>{var L;(L=A.value)==null||L.removeEventListener("reset",_)}},{immediate:!0})}),()=>{let{id:_,name:L,value:U,form:fe,...ce}=f,le={checked:R.value},Re={id:_,ref:q,role:"switch",type:O.value,tabIndex:0,"aria-checked":R.value,"aria-labelledby":b?.labelledby.value,"aria-describedby":b?.describedby.value,onClick:Be,onKeyup:Le,onKeypress:De};return tr(wt,[L!=null&&R.value!=null?tr(Rs,Zg({features:Ds.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:R.value,form:fe,name:L,value:U})):null,nr({ourProps:Re,theirProps:{...u,...Ls(ce,["modelValue","defaultChecked"])},slot:le,attrs:u,slots:T,name:"Switch"})])}}}),Tl=tv,uv=We({props:{onFocus:{type:Function,required:!0}},setup(f){let w=H(!0);return()=>w.value?tr(Rs,{as:"button",type:"button",features:Ds.Focusable,onFocus(u){u.preventDefault();let T,S=50;function b(){var R;if(S--<=0){T&&cancelAnimationFrame(T);return}if((R=f.onFocus)!=null&&R.call(f)){w.value=!1,cancelAnimationFrame(T);return}T=requestAnimationFrame(b)}T=requestAnimationFrame(b)}}):null}});var sv=(f=>(f[f.Forwards=0]="Forwards",f[f.Backwards=1]="Backwards",f))(sv||{}),ov=(f=>(f[f.Less=-1]="Less",f[f.Equal=0]="Equal",f[f.Greater=1]="Greater",f))(ov||{});let Bs=Symbol("TabsContext");function Ll(f){let w=El(Bs,null);if(w===null){let u=new Error(`<${f} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,Ll),u}return w}let Ps=Symbol("TabsSSRContext"),fv=We({name:"TabGroup",emits:{change:f=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(f,{slots:w,attrs:u,emit:T}){var S;let b=H((S=f.selectedIndex)!=null?S:f.defaultIndex),R=H([]),C=H([]),I=se(()=>f.selectedIndex!==null),re=se(()=>I.value?f.selectedIndex:b.value);function q(A){var _;let L=Qn(O.tabs.value,ke),U=Qn(O.panels.value,ke),fe=L.filter(ce=>{var le;return!((le=ke(ce))!=null&&le.hasAttribute("disabled"))});if(A<0||A>L.length-1){let ce=Jr(b.value===null?0:Math.sign(A-b.value),{[-1]:()=>1,[0]:()=>Jr(Math.sign(A),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});b.value=Jr(ce,{[0]:()=>L.indexOf(fe[0]),[1]:()=>L.indexOf(fe[fe.length-1])}),O.tabs.value=L,O.panels.value=U}else{let ce=L.slice(0,A),le=[...L.slice(A),...ce].find(ye=>fe.includes(ye));if(!le)return;let Re=(_=L.indexOf(le))!=null?_:O.selectedIndex.value;Re===-1&&(Re=O.selectedIndex.value),b.value=Re,O.tabs.value=L,O.panels.value=U}}let O={selectedIndex:se(()=>{var A,_;return(_=(A=b.value)!=null?A:f.defaultIndex)!=null?_:null}),orientation:se(()=>f.vertical?"vertical":"horizontal"),activation:se(()=>f.manual?"manual":"auto"),tabs:R,panels:C,setSelectedIndex(A){re.value!==A&&T("change",A),I.value||q(A)},registerTab(A){var _;if(R.value.includes(A))return;let L=R.value[b.value];R.value.push(A),R.value=Qn(R.value,ke);let U=(_=R.value.indexOf(L))!=null?_:b.value;U!==-1&&(b.value=U)},unregisterTab(A){let _=R.value.indexOf(A);_!==-1&&R.value.splice(_,1)},registerPanel(A){C.value.includes(A)||(C.value.push(A),C.value=Qn(C.value,ke))},unregisterPanel(A){let _=C.value.indexOf(A);_!==-1&&C.value.splice(_,1)}};Il(Bs,O);let Be=H({tabs:[],panels:[]}),Le=H(!1);Yt(()=>{Le.value=!0}),Il(Ps,se(()=>Le.value?null:Be.value));let De=se(()=>f.selectedIndex);return Yt(()=>{bt([De],()=>{var A;return q((A=f.selectedIndex)!=null?A:f.defaultIndex)},{immediate:!0})}),Ag(()=>{if(!I.value||re.value==null||O.tabs.value.length<=0)return;let A=Qn(O.tabs.value,ke);A.some((_,L)=>ke(O.tabs.value[L])!==ke(_))&&O.setSelectedIndex(A.findIndex(_=>ke(_)===ke(O.tabs.value[re.value])))}),()=>{let A={selectedIndex:b.value};return tr(wt,[R.value.length<=0&&tr(uv,{onFocus:()=>{for(let _ of R.value){let L=ke(_);if(L?.tabIndex===0)return L.focus(),!0}return!1}}),nr({theirProps:{...u,...Ls(f,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:A,slots:w,attrs:u,name:"TabGroup"})])}}}),cv=We({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(f,{attrs:w,slots:u}){let T=Ll("TabList");return()=>{let S={selectedIndex:T.selectedIndex.value},b={role:"tablist","aria-orientation":T.orientation.value};return nr({ourProps:b,theirProps:f,slot:S,attrs:w,slots:u,name:"TabList"})}}}),dv=We({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${Cs()}`}},setup(f,{attrs:w,slots:u,expose:T}){let S=Ll("Tab"),b=H(null);T({el:b,$el:b}),Yt(()=>S.registerTab(b)),Ig(()=>S.unregisterTab(b));let R=El(Ps),C=se(()=>{if(R.value){let _=R.value.tabs.indexOf(f.id);return _===-1?R.value.tabs.push(f.id)-1:_}return-1}),I=se(()=>{let _=S.tabs.value.indexOf(b);return _===-1?C.value:_}),re=se(()=>I.value===S.selectedIndex.value);function q(_){var L;let U=_();if(U===Zr.Success&&S.activation.value==="auto"){let fe=(L=Xg(b))==null?void 0:L.activeElement,ce=S.tabs.value.findIndex(le=>ke(le)===fe);ce!==-1&&S.setSelectedIndex(ce)}return U}function O(_){let L=S.tabs.value.map(U=>ke(U)).filter(Boolean);if(_.key===dt.Space||_.key===dt.Enter){_.preventDefault(),_.stopPropagation(),S.setSelectedIndex(I.value);return}switch(_.key){case dt.Home:case dt.PageUp:return _.preventDefault(),_.stopPropagation(),q(()=>In(L,It.First));case dt.End:case dt.PageDown:return _.preventDefault(),_.stopPropagation(),q(()=>In(L,It.Last))}if(q(()=>Jr(S.orientation.value,{vertical(){return _.key===dt.ArrowUp?In(L,It.Previous|It.WrapAround):_.key===dt.ArrowDown?In(L,It.Next|It.WrapAround):Zr.Error},horizontal(){return _.key===dt.ArrowLeft?In(L,It.Previous|It.WrapAround):_.key===dt.ArrowRight?In(L,It.Next|It.WrapAround):Zr.Error}}))===Zr.Success)return _.preventDefault()}let Be=H(!1);function Le(){var _;Be.value||(Be.value=!0,!f.disabled&&((_=ke(b))==null||_.focus(),S.setSelectedIndex(I.value),Qg(()=>{Be.value=!1})))}function De(_){_.preventDefault()}let A=Es(se(()=>({as:f.as,type:w.type})),b);return()=>{var _;let L={selected:re.value},{id:U,...fe}=f,ce={ref:b,onKeydown:O,onMousedown:De,onClick:Le,id:U,role:"tab",type:A.value,"aria-controls":(_=ke(S.panels.value[I.value]))==null?void 0:_.id,"aria-selected":re.value,tabIndex:re.value?0:-1,disabled:f.disabled?!0:void 0};return nr({ourProps:ce,theirProps:fe,slot:L,attrs:w,slots:u,name:"Tab"})}}});function hv(f,w){return D(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[m("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})])}function pv(f,w){return D(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[m("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})])}const gv={class:"relative"},vv={class:"flex w-full relative"},mv={key:0,class:"bf-map-select-prepend rounded-l border border-r-0"},_v={class:"block truncate"},xv={key:0,class:"absolute inset-y-0 right-4 pr-3 flex items-center pointer-events-none"},bv={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},wv={class:"sr-only"},yv={key:1,class:"bf-map-select-append rounded-r border border-l-0"},Sv={key:2,class:"bf-map-select-buttons flex flex-none items-center"},Av=We({__name:"BfMapSelect",props:{modelValue:{type:[String,Number,Boolean,null]},isDisabled:{type:Boolean},prepend:{type:Boolean},append:{type:Boolean},buttons:{type:Boolean},items:{},autocomplete:{},id:{},placeholder:{},state:{type:[Boolean,null],default:null}},emits:["blur","focus","update:modelValue","change"],setup(f,{emit:w}){const{t:u}=xs(),T=H(void 0);Yt(()=>{S(f.modelValue)}),bt(()=>f.modelValue,(C,I)=>{S(C)}),bt(()=>T.value,(C,I)=>{w("update:modelValue",C?C.id:void 0)});function S(C){if(f.items&&f.items.length>0&&(C||C===0)){const I=f.items.find(re=>re.id===C);I?T.value=I:T.value=void 0}else T.value=void 0}const b=se(()=>{let C=`field-${f.id}_message_description`;return f.state===!1&&f.state!==null&&(C+=` field-${f.id}_message_invalid`),f.state===!0&&f.state!==null&&(C+=` field-${f.id}_message_valid`),C}),R=se(()=>({"bf-map-select-invalid":f.state===!1&&f.state!==null,"bf-map-select-valid":f.state===!0&&f.state!==null,"bf-map-select-enabled":!f.isDisabled,"bf-map-select-disabled":f.isDisabled,"bf-map-select-prepended pl-2":f.prepend,"bf-map-select-appended pr-2":f.append||f.buttons}));return(C,I)=>(D(),Ve(Y(Kg),{as:"div",modelValue:T.value,"onUpdate:modelValue":I[0]||(I[0]=re=>T.value=re),disabled:C.isDisabled,id:C.id,"aria-describedby":b.value,nullable:""},{default:G(()=>[m("div",gv,[m("div",vv,[C.prepend?(D(),z("div",mv,[wl(C.$slots,"prepend")])):we("",!0),B(Y(Gg),{class:me(["bf-map-select",R.value])},{default:G(()=>[m("span",_v,be(T.value?T.value.label:C.placeholder!=null?C.placeholder:""),1),C.state===!1&&C.state!==null?(D(),z("div",xv,[B(Y(Yg),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):we("",!0),m("span",bv,[m("span",wv,be(Y(u)("show-list")),1),B(Y(zg),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["class"]),C.append?(D(),z("div",yv,[wl(C.$slots,"append")])):we("",!0),C.buttons?(D(),z("div",Sv,[wl(C.$slots,"buttons")])):we("",!0)]),B(Vt,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:G(()=>[B(Y(Hg),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-bg-900 text-text-opposite py-1 text-base shadow-lg ring-1 ring-bg-900 ring-opacity-5 focus:outline-none sm:text-sm"},{default:G(()=>[(D(!0),z(wt,null,sn(C.items,re=>(D(),Ve(Y(qg),{as:"template",key:re.id,value:re},{default:G(({active:q,selected:O})=>[m("li",{class:me([q?"bg-blue-700":"","relative cursor-default select-none py-2 pl-3 pr-9"])},[m("span",{class:me([O?"font-semibold":"font-normal","block truncate"])},be(re.label),3),O?(D(),z("span",{key:0,class:me([q?"bg-blue-700":"text-blue-100","absolute inset-y-0 right-0 flex items-center pr-4"])},[B(Y(Tg),{class:"h-5 w-5","aria-hidden":"true"})],2)):we("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:3},8,["modelValue","disabled","id","aria-describedby"]))}});const Iv={class:"flex w-full justify-center"},Tv={class:"whitespace-nowrap"},Cv=We({__name:"BfMapTabs",props:{modelValue:{},tabs:{default:null}},emits:["update:modelValue"],setup(f,{emit:w}){xs();const u=se({get(){return f.modelValue},set(b){w("update:modelValue",b)}});H(!1);const T=se(()=>{if(f.modelValue&&f.tabs&&f.tabs.find(b=>b.id===f.modelValue))return f.tabs.findIndex(b=>b.id===f.modelValue)});function S(b){u.value=f.tabs?f.tabs[b].id:null}return se(()=>f.modelValue&&f.tabs&&f.tabs.find(b=>b.id===f.modelValue)?f.tabs.find(b=>b.id===f.modelValue):null),(b,R)=>(D(),z("div",Iv,[B(Y(fv),{selectedIndex:T.value,onChange:S},{default:G(()=>[B(Y(cv),{class:"flex space-x-1 rounded-xl bg-blue-900/40 p-1 backdrop-blur-lg"},{default:G(()=>[(D(!0),z(wt,null,sn(b.tabs,C=>(D(),Ve(Y(dv),{key:C.id,as:"template"},{default:G(({selected:I})=>[m("button",{class:me(["inline-flex items-center w-full rounded-lg py-2.5 px-4 text-sm font-medium leading-5","ring-bg-bg-100 ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 transition-colors_shadows",I?"bg-blue-50 shadow cursor-default text-blue-700":"text-text-opposite hover:bg-bg-100/[0.12]"])},[C.icon?(D(),Ve(Cg(C.icon),{key:0,class:me([I?"text-blue-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"])):we("",!0),m("span",Tv,be(C.text),1)],2)]),_:2},1024))),128))]),_:1})]),_:1},8,["selectedIndex"])]))}}),Ev={class:"flex flex-col w-full bg-gray-800 pt-1 pb-2 px-3 space-y-1 rounded-md"},Lv={class:"flex w-full justify-between text-xs text-text-opposite/90"},Rv={key:0},Dv={key:0,class:"flex w-full h-1 rounded-full bg-gradient-to-r from-red-400 via-orange-400 via-40% to-green-400 to-75%"},$v={key:1,class:"flex w-full h-1 rounded-full bg-gradient-to-r from-[#af3a03] via-[#f2f900] via-40% to-[#1c8300] to-75%"},Xr=We({__name:"BfMapRange",props:{rangeMin:{default:"0"},rangeMid:{default:"50"},rangeMax:{default:"100"},measure:{},noRangeMid:{type:Boolean},isNdvi:{type:Boolean,default:!1}},setup(f){return(w,u)=>(D(),z("div",Ev,[m("div",Lv,[m("span",null,be(w.rangeMin)+" "+be(w.measure?" "+w.measure:""),1),w.noRangeMid?we("",!0):(D(),z("span",Rv,be(w.rangeMid),1)),m("span",null,be(w.rangeMax)+" "+be(w.measure?" "+w.measure:""),1)]),w.isNdvi?(D(),z("div",$v)):(D(),z("div",Dv))]))}}),Mv={class:"flex w-full flex-col"},Ov=m("span",{class:"text-xs text-text-opposite/90"},"Dati nel dettaglio",-1),Bv={class:"relative pb-1"},Pv={key:0,class:"flex flex-col w-full bg-gray-800/60 pt-3 pb-3 px-3 rounded-b-md backdrop-blur-lg"},Fv={class:"flex flex-col w-full justify-between text-xs text-text-opposite/90 space-y-3"},Vv={class:"font-normal"},Wv={class:"font-semibold"},Uv={key:0},Nv=We({__name:"BfMapOverview",props:{list:{}},setup(f){const w=H(!1);return(u,T)=>(D(),z("div",Mv,[m("div",{class:me(["flex items-center justify-between w-full bg-gray-800 hover:bg-gray-900 py-1 px-3 rounded-t-md cursor-pointer transition-colors-default",w.value?"":"rounded-b-md"]),onClick:T[0]||(T[0]=S=>w.value=!w.value)},[Ov,m("div",Bv,[m("i",{class:me(["fas fa-chevron-down text-text-opposite/50 opacity-70a text-xs transition-transform duration-300",w.value?"transform -rotate-90":""])},null,2)])],2),B(Vt,{"enter-active-class":"transition duration-150 ease-out","enter-from-class":"transform translate-y-1 opacity-90","enter-to-class":"transform translate-y-0 opacity-100",mode:"out-in"},{default:G(()=>[w.value?(D(),z("div",Pv,[m("div",Fv,[(D(!0),z(wt,null,sn(u.list,S=>(D(),z("div",{key:S.id,class:"flex justify-between w-full"},[m("div",Vv,be(S.name),1),m("div",null,[m("span",Wv,be(S.value),1),an(),S.measure?(D(),z("span",Uv,be(S.measure),1)):we("",!0)])]))),128))])])):we("",!0)]),_:1})]))}}),kv={class:"flex w-auto bg-gray-800 py-1.5 px-3 rounded-md"},Gv=m("span",{class:"text-xs text-text-opposite"},"Solo appezz. selezionati",-1),ms=We({__name:"BfMapSelectedPlotToggle",props:{modelValue:{type:Boolean},isDisabled:{type:Boolean,default:!1},isMinimal:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!1},isRight:{type:Boolean,default:!1},id:{},state:{type:[Boolean,null],default:null}},emits:["blur","focus","update:modelValue","change"],setup(f,{emit:w}){const u=se({get(){return f.modelValue},set(T){w("update:modelValue",T)}});return se(()=>{let T=`field-${f.id}_message_description`;return f.state===!1&&f.state!==null&&(T+=` field-${f.id}_message_invalid`),f.state===!0&&f.state!==null&&(T+=` field-${f.id}_message_valid`),T}),se(()=>({"bf-form-toggle-invalid":f.state===!1&&f.state!==null,"bf-form-toggle-valid":f.state===!0&&f.state!==null,"bf-form-toggle-no-validation":f.state===!0&&f.state!==null,"bf-form-toggle-enabled":!f.isDisabled,"bf-form-toggle-disabled":f.isDisabled,"bf-form-toggle-is-minimal":f.isMinimal,"hover:border-gray-400 focus:border-gray-400 bf-form-toggle-focusable":!f.isDisabled,"border-gray-300 hover:border-gray-400 text-blue-600":f.state===null,"border-red-300 hover:border-red-400 focus:border-red-400":!f.isDisabled&&f.state===!1&&f.state!==null,"border-green-300 hover:border-green-400 focus:border-green-400":!f.isDisabled&&f.state===!0&&f.state!==null,"bg-bg-100 cursor-pointer":!f.isDisabled,"bg-bg-500 text-label effect-on-disabled":f.isDisabled,"bf-form-toggle-checked":u.value===!0,"bf-form-toggle-not-checked":u.value===!1})),se(()=>({"effect-on-hover":!f.isDisabled,"text-label":f.isDisabled,"text-danger-600":f.state===!1&&f.state!==null,"text-green-600":f.state===!0&&f.state!==null})),(T,S)=>(D(),z("div",kv,[B(Y(Ms),{as:"div",class:"flex items-center"},{default:G(()=>[B(Y(Os),{modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=b=>u.value=b),class:me([u.value?"bg-blue-400":"bg-gray-600","relative inline-flex flex-shrink-0 h-4.5 w-9 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none"])},{default:G(()=>[m("span",{"aria-hidden":"true",class:me([u.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-3.5 w-3.5 rounded-full bg-bg-100 shadow transform ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"]),B(Y(Tl),{as:"span",class:"ml-3"},{default:G(()=>[Gv]),_:1})]),_:1})]))}});var Qr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Qr.exports;(function(f,w){(function(){var u,T="4.17.21",S=200,b="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",R="Expected a function",C="Invalid `variable` option passed into `_.template`",I="__lodash_hash_undefined__",re=500,q="__lodash_placeholder__",O=1,Be=2,Le=4,De=1,A=2,_=1,L=2,U=4,fe=8,ce=16,le=32,Re=64,ye=128,qe=256,ht=512,Se=30,Z="...",N=800,Tt=16,M=1,W=2,ge=3,ae=1/0,ie=9007199254740991,Ae=17976931348623157e292,te=0/0,_e=4294967295,Zt=_e-1,jr=_e>>>1,Tn=[["ary",ye],["bind",_],["bindKey",L],["curry",fe],["curryRight",ce],["flip",ht],["partial",le],["partialRight",Re],["rearg",qe]],on="[object Arguments]",rr="[object Array]",Fs="[object AsyncFunction]",Cn="[object Boolean]",En="[object Date]",Vs="[object DOMException]",ir="[object Error]",lr="[object Function]",Rl="[object GeneratorFunction]",pt="[object Map]",Ln="[object Number]",Ws="[object Null]",Ct="[object Object]",Dl="[object Promise]",Us="[object Proxy]",Rn="[object RegExp]",gt="[object Set]",Dn="[object String]",ar="[object Symbol]",Ns="[object Undefined]",$n="[object WeakMap]",ks="[object WeakSet]",Mn="[object ArrayBuffer]",fn="[object DataView]",ei="[object Float32Array]",ti="[object Float64Array]",ni="[object Int8Array]",ri="[object Int16Array]",ii="[object Int32Array]",li="[object Uint8Array]",ai="[object Uint8ClampedArray]",ui="[object Uint16Array]",si="[object Uint32Array]",Gs=/\b__p \+= '';/g,zs=/\b(__p \+=) '' \+/g,Hs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$l=/&(?:amp|lt|gt|quot|#39);/g,Ml=/[&<>"']/g,qs=RegExp($l.source),Ks=RegExp(Ml.source),Ys=/<%-([\s\S]+?)%>/g,Zs=/<%([\s\S]+?)%>/g,Ol=/<%=([\s\S]+?)%>/g,Xs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Js=/^\w*$/,Qs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oi=/[\\^$.*+?()[\]{}|]/g,js=RegExp(oi.source),fi=/^\s+/,eo=/\s/,to=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,no=/\{\n\/\* \[wrapped with (.+)\] \*/,ro=/,? & /,io=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lo=/[()=,{}\[\]\/\s]/,ao=/\\(\\)?/g,uo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bl=/\w*$/,so=/^[-+]0x[0-9a-f]+$/i,oo=/^0b[01]+$/i,fo=/^\[object .+?Constructor\]$/,co=/^0o[0-7]+$/i,ho=/^(?:0|[1-9]\d*)$/,po=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ur=/($^)/,go=/['\n\r\u2028\u2029\\]/g,sr="\\ud800-\\udfff",vo="\\u0300-\\u036f",mo="\\ufe20-\\ufe2f",_o="\\u20d0-\\u20ff",Pl=vo+mo+_o,Fl="\\u2700-\\u27bf",Vl="a-z\\xdf-\\xf6\\xf8-\\xff",xo="\\xac\\xb1\\xd7\\xf7",bo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wo="\\u2000-\\u206f",yo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wl="A-Z\\xc0-\\xd6\\xd8-\\xde",Ul="\\ufe0e\\ufe0f",Nl=xo+bo+wo+yo,ci="['’]",So="["+sr+"]",kl="["+Nl+"]",or="["+Pl+"]",Gl="\\d+",Ao="["+Fl+"]",zl="["+Vl+"]",Hl="[^"+sr+Nl+Gl+Fl+Vl+Wl+"]",di="\\ud83c[\\udffb-\\udfff]",Io="(?:"+or+"|"+di+")",ql="[^"+sr+"]",hi="(?:\\ud83c[\\udde6-\\uddff]){2}",pi="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Wl+"]",Kl="\\u200d",Yl="(?:"+zl+"|"+Hl+")",To="(?:"+cn+"|"+Hl+")",Zl="(?:"+ci+"(?:d|ll|m|re|s|t|ve))?",Xl="(?:"+ci+"(?:D|LL|M|RE|S|T|VE))?",Jl=Io+"?",Ql="["+Ul+"]?",Co="(?:"+Kl+"(?:"+[ql,hi,pi].join("|")+")"+Ql+Jl+")*",Eo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jl=Ql+Jl+Co,Ro="(?:"+[Ao,hi,pi].join("|")+")"+jl,Do="(?:"+[ql+or+"?",or,hi,pi,So].join("|")+")",$o=RegExp(ci,"g"),Mo=RegExp(or,"g"),gi=RegExp(di+"(?="+di+")|"+Do+jl,"g"),Oo=RegExp([cn+"?"+zl+"+"+Zl+"(?="+[kl,cn,"$"].join("|")+")",To+"+"+Xl+"(?="+[kl,cn+Yl,"$"].join("|")+")",cn+"?"+Yl+"+"+Zl,cn+"+"+Xl,Lo,Eo,Gl,Ro].join("|"),"g"),Bo=RegExp("["+Kl+sr+Pl+Ul+"]"),Po=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vo=-1,ve={};ve[ei]=ve[ti]=ve[ni]=ve[ri]=ve[ii]=ve[li]=ve[ai]=ve[ui]=ve[si]=!0,ve[on]=ve[rr]=ve[Mn]=ve[Cn]=ve[fn]=ve[En]=ve[ir]=ve[lr]=ve[pt]=ve[Ln]=ve[Ct]=ve[Rn]=ve[gt]=ve[Dn]=ve[$n]=!1;var pe={};pe[on]=pe[rr]=pe[Mn]=pe[fn]=pe[Cn]=pe[En]=pe[ei]=pe[ti]=pe[ni]=pe[ri]=pe[ii]=pe[pt]=pe[Ln]=pe[Ct]=pe[Rn]=pe[gt]=pe[Dn]=pe[ar]=pe[li]=pe[ai]=pe[ui]=pe[si]=!0,pe[ir]=pe[lr]=pe[$n]=!1;var Wo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Uo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},No={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Go=parseFloat,zo=parseInt,ea=typeof Xn=="object"&&Xn&&Xn.Object===Object&&Xn,Ho=typeof self=="object"&&self&&self.Object===Object&&self,Pe=ea||Ho||Function("return this")(),vi=w&&!w.nodeType&&w,Xt=vi&&!0&&f&&!f.nodeType&&f,ta=Xt&&Xt.exports===vi,mi=ta&&ea.process,it=function(){try{var c=Xt&&Xt.require&&Xt.require("util").types;return c||mi&&mi.binding&&mi.binding("util")}catch{}}(),na=it&&it.isArrayBuffer,ra=it&&it.isDate,ia=it&&it.isMap,la=it&&it.isRegExp,aa=it&&it.isSet,ua=it&&it.isTypedArray;function Je(c,p,h){switch(h.length){case 0:return c.call(p);case 1:return c.call(p,h[0]);case 2:return c.call(p,h[0],h[1]);case 3:return c.call(p,h[0],h[1],h[2])}return c.apply(p,h)}function qo(c,p,h,E){for(var k=-1,ue=c==null?0:c.length;++k<ue;){var $e=c[k];p(E,$e,h($e),c)}return E}function lt(c,p){for(var h=-1,E=c==null?0:c.length;++h<E&&p(c[h],h,c)!==!1;);return c}function Ko(c,p){for(var h=c==null?0:c.length;h--&&p(c[h],h,c)!==!1;);return c}function sa(c,p){for(var h=-1,E=c==null?0:c.length;++h<E;)if(!p(c[h],h,c))return!1;return!0}function Wt(c,p){for(var h=-1,E=c==null?0:c.length,k=0,ue=[];++h<E;){var $e=c[h];p($e,h,c)&&(ue[k++]=$e)}return ue}function fr(c,p){var h=c==null?0:c.length;return!!h&&dn(c,p,0)>-1}function _i(c,p,h){for(var E=-1,k=c==null?0:c.length;++E<k;)if(h(p,c[E]))return!0;return!1}function xe(c,p){for(var h=-1,E=c==null?0:c.length,k=Array(E);++h<E;)k[h]=p(c[h],h,c);return k}function Ut(c,p){for(var h=-1,E=p.length,k=c.length;++h<E;)c[k+h]=p[h];return c}function xi(c,p,h,E){var k=-1,ue=c==null?0:c.length;for(E&&ue&&(h=c[++k]);++k<ue;)h=p(h,c[k],k,c);return h}function Yo(c,p,h,E){var k=c==null?0:c.length;for(E&&k&&(h=c[--k]);k--;)h=p(h,c[k],k,c);return h}function bi(c,p){for(var h=-1,E=c==null?0:c.length;++h<E;)if(p(c[h],h,c))return!0;return!1}var Zo=wi("length");function Xo(c){return c.split("")}function Jo(c){return c.match(io)||[]}function oa(c,p,h){var E;return h(c,function(k,ue,$e){if(p(k,ue,$e))return E=ue,!1}),E}function cr(c,p,h,E){for(var k=c.length,ue=h+(E?1:-1);E?ue--:++ue<k;)if(p(c[ue],ue,c))return ue;return-1}function dn(c,p,h){return p===p?ff(c,p,h):cr(c,fa,h)}function Qo(c,p,h,E){for(var k=h-1,ue=c.length;++k<ue;)if(E(c[k],p))return k;return-1}function fa(c){return c!==c}function ca(c,p){var h=c==null?0:c.length;return h?Si(c,p)/h:te}function wi(c){return function(p){return p==null?u:p[c]}}function yi(c){return function(p){return c==null?u:c[p]}}function da(c,p,h,E,k){return k(c,function(ue,$e,he){h=E?(E=!1,ue):p(h,ue,$e,he)}),h}function jo(c,p){var h=c.length;for(c.sort(p);h--;)c[h]=c[h].value;return c}function Si(c,p){for(var h,E=-1,k=c.length;++E<k;){var ue=p(c[E]);ue!==u&&(h=h===u?ue:h+ue)}return h}function Ai(c,p){for(var h=-1,E=Array(c);++h<c;)E[h]=p(h);return E}function ef(c,p){return xe(p,function(h){return[h,c[h]]})}function ha(c){return c&&c.slice(0,ma(c)+1).replace(fi,"")}function Qe(c){return function(p){return c(p)}}function Ii(c,p){return xe(p,function(h){return c[h]})}function On(c,p){return c.has(p)}function pa(c,p){for(var h=-1,E=c.length;++h<E&&dn(p,c[h],0)>-1;);return h}function ga(c,p){for(var h=c.length;h--&&dn(p,c[h],0)>-1;);return h}function tf(c,p){for(var h=c.length,E=0;h--;)c[h]===p&&++E;return E}var nf=yi(Wo),rf=yi(Uo);function lf(c){return"\\"+ko[c]}function af(c,p){return c==null?u:c[p]}function hn(c){return Bo.test(c)}function uf(c){return Po.test(c)}function sf(c){for(var p,h=[];!(p=c.next()).done;)h.push(p.value);return h}function Ti(c){var p=-1,h=Array(c.size);return c.forEach(function(E,k){h[++p]=[k,E]}),h}function va(c,p){return function(h){return c(p(h))}}function Nt(c,p){for(var h=-1,E=c.length,k=0,ue=[];++h<E;){var $e=c[h];($e===p||$e===q)&&(c[h]=q,ue[k++]=h)}return ue}function dr(c){var p=-1,h=Array(c.size);return c.forEach(function(E){h[++p]=E}),h}function of(c){var p=-1,h=Array(c.size);return c.forEach(function(E){h[++p]=[E,E]}),h}function ff(c,p,h){for(var E=h-1,k=c.length;++E<k;)if(c[E]===p)return E;return-1}function cf(c,p,h){for(var E=h+1;E--;)if(c[E]===p)return E;return E}function pn(c){return hn(c)?hf(c):Zo(c)}function vt(c){return hn(c)?pf(c):Xo(c)}function ma(c){for(var p=c.length;p--&&eo.test(c.charAt(p)););return p}var df=yi(No);function hf(c){for(var p=gi.lastIndex=0;gi.test(c);)++p;return p}function pf(c){return c.match(gi)||[]}function gf(c){return c.match(Oo)||[]}var vf=function c(p){p=p==null?Pe:gn.defaults(Pe.Object(),p,gn.pick(Pe,Fo));var h=p.Array,E=p.Date,k=p.Error,ue=p.Function,$e=p.Math,he=p.Object,Ci=p.RegExp,mf=p.String,at=p.TypeError,hr=h.prototype,_f=ue.prototype,vn=he.prototype,pr=p["__core-js_shared__"],gr=_f.toString,de=vn.hasOwnProperty,xf=0,_a=function(){var e=/[^.]+$/.exec(pr&&pr.keys&&pr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),vr=vn.toString,bf=gr.call(he),wf=Pe._,yf=Ci("^"+gr.call(de).replace(oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mr=ta?p.Buffer:u,kt=p.Symbol,_r=p.Uint8Array,xa=mr?mr.allocUnsafe:u,xr=va(he.getPrototypeOf,he),ba=he.create,wa=vn.propertyIsEnumerable,br=hr.splice,ya=kt?kt.isConcatSpreadable:u,Bn=kt?kt.iterator:u,Jt=kt?kt.toStringTag:u,wr=function(){try{var e=nn(he,"defineProperty");return e({},"",{}),e}catch{}}(),Sf=p.clearTimeout!==Pe.clearTimeout&&p.clearTimeout,Af=E&&E.now!==Pe.Date.now&&E.now,If=p.setTimeout!==Pe.setTimeout&&p.setTimeout,yr=$e.ceil,Sr=$e.floor,Ei=he.getOwnPropertySymbols,Tf=mr?mr.isBuffer:u,Sa=p.isFinite,Cf=hr.join,Ef=va(he.keys,he),Me=$e.max,Ue=$e.min,Lf=E.now,Rf=p.parseInt,Aa=$e.random,Df=hr.reverse,Li=nn(p,"DataView"),Pn=nn(p,"Map"),Ri=nn(p,"Promise"),mn=nn(p,"Set"),Fn=nn(p,"WeakMap"),Vn=nn(he,"create"),Ar=Fn&&new Fn,_n={},$f=rn(Li),Mf=rn(Pn),Of=rn(Ri),Bf=rn(mn),Pf=rn(Fn),Ir=kt?kt.prototype:u,Wn=Ir?Ir.valueOf:u,Ia=Ir?Ir.toString:u;function l(e){if(Te(e)&&!K(e)&&!(e instanceof ee)){if(e instanceof ut)return e;if(de.call(e,"__wrapped__"))return Tu(e)}return new ut(e)}var xn=function(){function e(){}return function(t){if(!Ie(t))return{};if(ba)return ba(t);e.prototype=t;var n=new e;return e.prototype=u,n}}();function Tr(){}function ut(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=u}l.templateSettings={escape:Ys,evaluate:Zs,interpolate:Ol,variable:"",imports:{_:l}},l.prototype=Tr.prototype,l.prototype.constructor=l,ut.prototype=xn(Tr.prototype),ut.prototype.constructor=ut;function ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Ff(){var e=new ee(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function Vf(){if(this.__filtered__){var e=new ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Wf(){var e=this.__wrapped__.value(),t=this.__dir__,n=K(e),r=t<0,i=n?e.length:0,a=Jc(0,i,this.__views__),s=a.start,o=a.end,d=o-s,g=r?o:s-1,v=this.__iteratees__,x=v.length,y=0,$=Ue(d,this.__takeCount__);if(!n||!r&&i==d&&$==d)return Za(e,this.__actions__);var F=[];e:for(;d--&&y<$;){g+=t;for(var J=-1,V=e[g];++J<x;){var j=v[J],ne=j.iteratee,tt=j.type,He=ne(V);if(tt==W)V=He;else if(!He){if(tt==M)continue e;break e}}F[y++]=V}return F}ee.prototype=xn(Tr.prototype),ee.prototype.constructor=ee;function Qt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Uf(){this.__data__=Vn?Vn(null):{},this.size=0}function Nf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function kf(e){var t=this.__data__;if(Vn){var n=t[e];return n===I?u:n}return de.call(t,e)?t[e]:u}function Gf(e){var t=this.__data__;return Vn?t[e]!==u:de.call(t,e)}function zf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vn&&t===u?I:t,this}Qt.prototype.clear=Uf,Qt.prototype.delete=Nf,Qt.prototype.get=kf,Qt.prototype.has=Gf,Qt.prototype.set=zf;function Et(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hf(){this.__data__=[],this.size=0}function qf(e){var t=this.__data__,n=Cr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():br.call(t,n,1),--this.size,!0}function Kf(e){var t=this.__data__,n=Cr(t,e);return n<0?u:t[n][1]}function Yf(e){return Cr(this.__data__,e)>-1}function Zf(e,t){var n=this.__data__,r=Cr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Et.prototype.clear=Hf,Et.prototype.delete=qf,Et.prototype.get=Kf,Et.prototype.has=Yf,Et.prototype.set=Zf;function Lt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xf(){this.size=0,this.__data__={hash:new Qt,map:new(Pn||Et),string:new Qt}}function Jf(e){var t=Wr(this,e).delete(e);return this.size-=t?1:0,t}function Qf(e){return Wr(this,e).get(e)}function jf(e){return Wr(this,e).has(e)}function ec(e,t){var n=Wr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Lt.prototype.clear=Xf,Lt.prototype.delete=Jf,Lt.prototype.get=Qf,Lt.prototype.has=jf,Lt.prototype.set=ec;function jt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Lt;++t<n;)this.add(e[t])}function tc(e){return this.__data__.set(e,I),this}function nc(e){return this.__data__.has(e)}jt.prototype.add=jt.prototype.push=tc,jt.prototype.has=nc;function mt(e){var t=this.__data__=new Et(e);this.size=t.size}function rc(){this.__data__=new Et,this.size=0}function ic(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function lc(e){return this.__data__.get(e)}function ac(e){return this.__data__.has(e)}function uc(e,t){var n=this.__data__;if(n instanceof Et){var r=n.__data__;if(!Pn||r.length<S-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Lt(r)}return n.set(e,t),this.size=n.size,this}mt.prototype.clear=rc,mt.prototype.delete=ic,mt.prototype.get=lc,mt.prototype.has=ac,mt.prototype.set=uc;function Ta(e,t){var n=K(e),r=!n&&ln(e),i=!n&&!r&&Kt(e),a=!n&&!r&&!i&&Sn(e),s=n||r||i||a,o=s?Ai(e.length,mf):[],d=o.length;for(var g in e)(t||de.call(e,g))&&!(s&&(g=="length"||i&&(g=="offset"||g=="parent")||a&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Mt(g,d)))&&o.push(g);return o}function Ca(e){var t=e.length;return t?e[Ni(0,t-1)]:u}function sc(e,t){return Ur(Ke(e),en(t,0,e.length))}function oc(e){return Ur(Ke(e))}function Di(e,t,n){(n!==u&&!_t(e[t],n)||n===u&&!(t in e))&&Rt(e,t,n)}function Un(e,t,n){var r=e[t];(!(de.call(e,t)&&_t(r,n))||n===u&&!(t in e))&&Rt(e,t,n)}function Cr(e,t){for(var n=e.length;n--;)if(_t(e[n][0],t))return n;return-1}function fc(e,t,n,r){return Gt(e,function(i,a,s){t(r,i,n(i),s)}),r}function Ea(e,t){return e&&St(t,Oe(t),e)}function cc(e,t){return e&&St(t,Ze(t),e)}function Rt(e,t,n){t=="__proto__"&&wr?wr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $i(e,t){for(var n=-1,r=t.length,i=h(r),a=e==null;++n<r;)i[n]=a?u:dl(e,t[n]);return i}function en(e,t,n){return e===e&&(n!==u&&(e=e<=n?e:n),t!==u&&(e=e>=t?e:t)),e}function st(e,t,n,r,i,a){var s,o=t&O,d=t&Be,g=t&Le;if(n&&(s=i?n(e,r,i,a):n(e)),s!==u)return s;if(!Ie(e))return e;var v=K(e);if(v){if(s=jc(e),!o)return Ke(e,s)}else{var x=Ne(e),y=x==lr||x==Rl;if(Kt(e))return Qa(e,o);if(x==Ct||x==on||y&&!i){if(s=d||y?{}:mu(e),!o)return d?kc(e,cc(s,e)):Nc(e,Ea(s,e))}else{if(!pe[x])return i?e:{};s=ed(e,x,o)}}a||(a=new mt);var $=a.get(e);if($)return $;a.set(e,s),qu(e)?e.forEach(function(V){s.add(st(V,t,n,V,e,a))}):zu(e)&&e.forEach(function(V,j){s.set(j,st(V,t,n,j,e,a))});var F=g?d?Qi:Ji:d?Ze:Oe,J=v?u:F(e);return lt(J||e,function(V,j){J&&(j=V,V=e[j]),Un(s,j,st(V,t,n,j,e,a))}),s}function dc(e){var t=Oe(e);return function(n){return La(n,e,t)}}function La(e,t,n){var r=n.length;if(e==null)return!r;for(e=he(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===u&&!(i in e)||!a(s))return!1}return!0}function Ra(e,t,n){if(typeof e!="function")throw new at(R);return Kn(function(){e.apply(u,n)},t)}function Nn(e,t,n,r){var i=-1,a=fr,s=!0,o=e.length,d=[],g=t.length;if(!o)return d;n&&(t=xe(t,Qe(n))),r?(a=_i,s=!1):t.length>=S&&(a=On,s=!1,t=new jt(t));e:for(;++i<o;){var v=e[i],x=n==null?v:n(v);if(v=r||v!==0?v:0,s&&x===x){for(var y=g;y--;)if(t[y]===x)continue e;d.push(v)}else a(t,x,r)||d.push(v)}return d}var Gt=ru(yt),Da=ru(Oi,!0);function hc(e,t){var n=!0;return Gt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}function Er(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(s!=null&&(o===u?s===s&&!et(s):n(s,o)))var o=s,d=a}return d}function pc(e,t,n,r){var i=e.length;for(n=X(n),n<0&&(n=-n>i?0:i+n),r=r===u||r>i?i:X(r),r<0&&(r+=i),r=n>r?0:Yu(r);n<r;)e[n++]=t;return e}function $a(e,t){var n=[];return Gt(e,function(r,i,a){t(r,i,a)&&n.push(r)}),n}function Fe(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=nd),i||(i=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?Fe(o,t-1,n,r,i):Ut(i,o):r||(i[i.length]=o)}return i}var Mi=iu(),Ma=iu(!0);function yt(e,t){return e&&Mi(e,t,Oe)}function Oi(e,t){return e&&Ma(e,t,Oe)}function Lr(e,t){return Wt(t,function(n){return Ot(e[n])})}function tn(e,t){t=Ht(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[At(t[n++])];return n&&n==r?e:u}function Oa(e,t,n){var r=t(e);return K(e)?r:Ut(r,n(e))}function Ge(e){return e==null?e===u?Ns:Ws:Jt&&Jt in he(e)?Xc(e):od(e)}function Bi(e,t){return e>t}function gc(e,t){return e!=null&&de.call(e,t)}function vc(e,t){return e!=null&&t in he(e)}function mc(e,t,n){return e>=Ue(t,n)&&e<Me(t,n)}function Pi(e,t,n){for(var r=n?_i:fr,i=e[0].length,a=e.length,s=a,o=h(a),d=1/0,g=[];s--;){var v=e[s];s&&t&&(v=xe(v,Qe(t))),d=Ue(v.length,d),o[s]=!n&&(t||i>=120&&v.length>=120)?new jt(s&&v):u}v=e[0];var x=-1,y=o[0];e:for(;++x<i&&g.length<d;){var $=v[x],F=t?t($):$;if($=n||$!==0?$:0,!(y?On(y,F):r(g,F,n))){for(s=a;--s;){var J=o[s];if(!(J?On(J,F):r(e[s],F,n)))continue e}y&&y.push(F),g.push($)}}return g}function _c(e,t,n,r){return yt(e,function(i,a,s){t(r,n(i),a,s)}),r}function kn(e,t,n){t=Ht(t,e),e=wu(e,t);var r=e==null?e:e[At(ft(t))];return r==null?u:Je(r,e,n)}function Ba(e){return Te(e)&&Ge(e)==on}function xc(e){return Te(e)&&Ge(e)==Mn}function bc(e){return Te(e)&&Ge(e)==En}function Gn(e,t,n,r,i){return e===t?!0:e==null||t==null||!Te(e)&&!Te(t)?e!==e&&t!==t:wc(e,t,n,r,Gn,i)}function wc(e,t,n,r,i,a){var s=K(e),o=K(t),d=s?rr:Ne(e),g=o?rr:Ne(t);d=d==on?Ct:d,g=g==on?Ct:g;var v=d==Ct,x=g==Ct,y=d==g;if(y&&Kt(e)){if(!Kt(t))return!1;s=!0,v=!1}if(y&&!v)return a||(a=new mt),s||Sn(e)?pu(e,t,n,r,i,a):Yc(e,t,d,n,r,i,a);if(!(n&De)){var $=v&&de.call(e,"__wrapped__"),F=x&&de.call(t,"__wrapped__");if($||F){var J=$?e.value():e,V=F?t.value():t;return a||(a=new mt),i(J,V,n,r,a)}}return y?(a||(a=new mt),Zc(e,t,n,r,i,a)):!1}function yc(e){return Te(e)&&Ne(e)==pt}function Fi(e,t,n,r){var i=n.length,a=i,s=!r;if(e==null)return!a;for(e=he(e);i--;){var o=n[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=n[i];var d=o[0],g=e[d],v=o[1];if(s&&o[2]){if(g===u&&!(d in e))return!1}else{var x=new mt;if(r)var y=r(g,v,d,e,t,x);if(!(y===u?Gn(v,g,De|A,r,x):y))return!1}}return!0}function Pa(e){if(!Ie(e)||id(e))return!1;var t=Ot(e)?yf:fo;return t.test(rn(e))}function Sc(e){return Te(e)&&Ge(e)==Rn}function Ac(e){return Te(e)&&Ne(e)==gt}function Ic(e){return Te(e)&&qr(e.length)&&!!ve[Ge(e)]}function Fa(e){return typeof e=="function"?e:e==null?Xe:typeof e=="object"?K(e)?Ua(e[0],e[1]):Wa(e):ls(e)}function Vi(e){if(!qn(e))return Ef(e);var t=[];for(var n in he(e))de.call(e,n)&&n!="constructor"&&t.push(n);return t}function Tc(e){if(!Ie(e))return sd(e);var t=qn(e),n=[];for(var r in e)r=="constructor"&&(t||!de.call(e,r))||n.push(r);return n}function Wi(e,t){return e<t}function Va(e,t){var n=-1,r=Ye(e)?h(e.length):[];return Gt(e,function(i,a,s){r[++n]=t(i,a,s)}),r}function Wa(e){var t=el(e);return t.length==1&&t[0][2]?xu(t[0][0],t[0][1]):function(n){return n===e||Fi(n,e,t)}}function Ua(e,t){return nl(e)&&_u(t)?xu(At(e),t):function(n){var r=dl(n,e);return r===u&&r===t?hl(n,e):Gn(t,r,De|A)}}function Rr(e,t,n,r,i){e!==t&&Mi(t,function(a,s){if(i||(i=new mt),Ie(a))Cc(e,t,s,n,Rr,r,i);else{var o=r?r(il(e,s),a,s+"",e,t,i):u;o===u&&(o=a),Di(e,s,o)}},Ze)}function Cc(e,t,n,r,i,a,s){var o=il(e,n),d=il(t,n),g=s.get(d);if(g){Di(e,n,g);return}var v=a?a(o,d,n+"",e,t,s):u,x=v===u;if(x){var y=K(d),$=!y&&Kt(d),F=!y&&!$&&Sn(d);v=d,y||$||F?K(o)?v=o:Ce(o)?v=Ke(o):$?(x=!1,v=Qa(d,!0)):F?(x=!1,v=ja(d,!0)):v=[]:Yn(d)||ln(d)?(v=o,ln(o)?v=Zu(o):(!Ie(o)||Ot(o))&&(v=mu(d))):x=!1}x&&(s.set(d,v),i(v,d,r,a,s),s.delete(d)),Di(e,n,v)}function Na(e,t){var n=e.length;if(n)return t+=t<0?n:0,Mt(t,n)?e[t]:u}function ka(e,t,n){t.length?t=xe(t,function(a){return K(a)?function(s){return tn(s,a.length===1?a[0]:a)}:a}):t=[Xe];var r=-1;t=xe(t,Qe(P()));var i=Va(e,function(a,s,o){var d=xe(t,function(g){return g(a)});return{criteria:d,index:++r,value:a}});return jo(i,function(a,s){return Uc(a,s,n)})}function Ec(e,t){return Ga(e,t,function(n,r){return hl(e,r)})}function Ga(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var s=t[r],o=tn(e,s);n(o,s)&&zn(a,Ht(s,e),o)}return a}function Lc(e){return function(t){return tn(t,e)}}function Ui(e,t,n,r){var i=r?Qo:dn,a=-1,s=t.length,o=e;for(e===t&&(t=Ke(t)),n&&(o=xe(e,Qe(n)));++a<s;)for(var d=0,g=t[a],v=n?n(g):g;(d=i(o,v,d,r))>-1;)o!==e&&br.call(o,d,1),br.call(e,d,1);return e}function za(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;Mt(i)?br.call(e,i,1):zi(e,i)}}return e}function Ni(e,t){return e+Sr(Aa()*(t-e+1))}function Rc(e,t,n,r){for(var i=-1,a=Me(yr((t-e)/(n||1)),0),s=h(a);a--;)s[r?a:++i]=e,e+=n;return s}function ki(e,t){var n="";if(!e||t<1||t>ie)return n;do t%2&&(n+=e),t=Sr(t/2),t&&(e+=e);while(t);return n}function Q(e,t){return ll(bu(e,t,Xe),e+"")}function Dc(e){return Ca(An(e))}function $c(e,t){var n=An(e);return Ur(n,en(t,0,n.length))}function zn(e,t,n,r){if(!Ie(e))return e;t=Ht(t,e);for(var i=-1,a=t.length,s=a-1,o=e;o!=null&&++i<a;){var d=At(t[i]),g=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var v=o[d];g=r?r(v,d,o):u,g===u&&(g=Ie(v)?v:Mt(t[i+1])?[]:{})}Un(o,d,g),o=o[d]}return e}var Ha=Ar?function(e,t){return Ar.set(e,t),e}:Xe,Mc=wr?function(e,t){return wr(e,"toString",{configurable:!0,enumerable:!1,value:gl(t),writable:!0})}:Xe;function Oc(e){return Ur(An(e))}function ot(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=h(i);++r<i;)a[r]=e[r+t];return a}function Bc(e,t){var n;return Gt(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}function Dr(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=jr){for(;r<i;){var a=r+i>>>1,s=e[a];s!==null&&!et(s)&&(n?s<=t:s<t)?r=a+1:i=a}return i}return Gi(e,t,Xe,n)}function Gi(e,t,n,r){var i=0,a=e==null?0:e.length;if(a===0)return 0;t=n(t);for(var s=t!==t,o=t===null,d=et(t),g=t===u;i<a;){var v=Sr((i+a)/2),x=n(e[v]),y=x!==u,$=x===null,F=x===x,J=et(x);if(s)var V=r||F;else g?V=F&&(r||y):o?V=F&&y&&(r||!$):d?V=F&&y&&!$&&(r||!J):$||J?V=!1:V=r?x<=t:x<t;V?i=v+1:a=v}return Ue(a,Zt)}function qa(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n],o=t?t(s):s;if(!n||!_t(o,d)){var d=o;a[i++]=s===0?0:s}}return a}function Ka(e){return typeof e=="number"?e:et(e)?te:+e}function je(e){if(typeof e=="string")return e;if(K(e))return xe(e,je)+"";if(et(e))return Ia?Ia.call(e):"";var t=e+"";return t=="0"&&1/e==-ae?"-0":t}function zt(e,t,n){var r=-1,i=fr,a=e.length,s=!0,o=[],d=o;if(n)s=!1,i=_i;else if(a>=S){var g=t?null:qc(e);if(g)return dr(g);s=!1,i=On,d=new jt}else d=t?[]:o;e:for(;++r<a;){var v=e[r],x=t?t(v):v;if(v=n||v!==0?v:0,s&&x===x){for(var y=d.length;y--;)if(d[y]===x)continue e;t&&d.push(x),o.push(v)}else i(d,x,n)||(d!==o&&d.push(x),o.push(v))}return o}function zi(e,t){return t=Ht(t,e),e=wu(e,t),e==null||delete e[At(ft(t))]}function Ya(e,t,n,r){return zn(e,t,n(tn(e,t)),r)}function $r(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ot(e,r?0:a,r?a+1:i):ot(e,r?a+1:0,r?i:a)}function Za(e,t){var n=e;return n instanceof ee&&(n=n.value()),xi(t,function(r,i){return i.func.apply(i.thisArg,Ut([r],i.args))},n)}function Hi(e,t,n){var r=e.length;if(r<2)return r?zt(e[0]):[];for(var i=-1,a=h(r);++i<r;)for(var s=e[i],o=-1;++o<r;)o!=i&&(a[i]=Nn(a[i]||s,e[o],t,n));return zt(Fe(a,1),t,n)}function Xa(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var o=r<a?t[r]:u;n(s,e[r],o)}return s}function qi(e){return Ce(e)?e:[]}function Ki(e){return typeof e=="function"?e:Xe}function Ht(e,t){return K(e)?e:nl(e,t)?[e]:Iu(oe(e))}var Pc=Q;function qt(e,t,n){var r=e.length;return n=n===u?r:n,!t&&n>=r?e:ot(e,t,n)}var Ja=Sf||function(e){return Pe.clearTimeout(e)};function Qa(e,t){if(t)return e.slice();var n=e.length,r=xa?xa(n):new e.constructor(n);return e.copy(r),r}function Yi(e){var t=new e.constructor(e.byteLength);return new _r(t).set(new _r(e)),t}function Fc(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Vc(e){var t=new e.constructor(e.source,Bl.exec(e));return t.lastIndex=e.lastIndex,t}function Wc(e){return Wn?he(Wn.call(e)):{}}function ja(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eu(e,t){if(e!==t){var n=e!==u,r=e===null,i=e===e,a=et(e),s=t!==u,o=t===null,d=t===t,g=et(t);if(!o&&!g&&!a&&e>t||a&&s&&d&&!o&&!g||r&&s&&d||!n&&d||!i)return 1;if(!r&&!a&&!g&&e<t||g&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!d)return-1}return 0}function Uc(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,o=n.length;++r<s;){var d=eu(i[r],a[r]);if(d){if(r>=o)return d;var g=n[r];return d*(g=="desc"?-1:1)}}return e.index-t.index}function tu(e,t,n,r){for(var i=-1,a=e.length,s=n.length,o=-1,d=t.length,g=Me(a-s,0),v=h(d+g),x=!r;++o<d;)v[o]=t[o];for(;++i<s;)(x||i<a)&&(v[n[i]]=e[i]);for(;g--;)v[o++]=e[i++];return v}function nu(e,t,n,r){for(var i=-1,a=e.length,s=-1,o=n.length,d=-1,g=t.length,v=Me(a-o,0),x=h(v+g),y=!r;++i<v;)x[i]=e[i];for(var $=i;++d<g;)x[$+d]=t[d];for(;++s<o;)(y||i<a)&&(x[$+n[s]]=e[i++]);return x}function Ke(e,t){var n=-1,r=e.length;for(t||(t=h(r));++n<r;)t[n]=e[n];return t}function St(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],d=r?r(n[o],e[o],o,n,e):u;d===u&&(d=e[o]),i?Rt(n,o,d):Un(n,o,d)}return n}function Nc(e,t){return St(e,tl(e),t)}function kc(e,t){return St(e,gu(e),t)}function Mr(e,t){return function(n,r){var i=K(n)?qo:fc,a=t?t():{};return i(n,e,P(r,2),a)}}function bn(e){return Q(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:u,s=i>2?n[2]:u;for(a=e.length>3&&typeof a=="function"?(i--,a):u,s&&ze(n[0],n[1],s)&&(a=i<3?u:a,i=1),t=he(t);++r<i;){var o=n[r];o&&e(t,o,r,a)}return t})}function ru(e,t){return function(n,r){if(n==null)return n;if(!Ye(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=he(n);(t?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}function iu(e){return function(t,n,r){for(var i=-1,a=he(t),s=r(t),o=s.length;o--;){var d=s[e?o:++i];if(n(a[d],d,a)===!1)break}return t}}function Gc(e,t,n){var r=t&_,i=Hn(e);function a(){var s=this&&this!==Pe&&this instanceof a?i:e;return s.apply(r?n:this,arguments)}return a}function lu(e){return function(t){t=oe(t);var n=hn(t)?vt(t):u,r=n?n[0]:t.charAt(0),i=n?qt(n,1).join(""):t.slice(1);return r[e]()+i}}function wn(e){return function(t){return xi(rs(ns(t).replace($o,"")),e,"")}}function Hn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return Ie(r)?r:n}}function zc(e,t,n){var r=Hn(e);function i(){for(var a=arguments.length,s=h(a),o=a,d=yn(i);o--;)s[o]=arguments[o];var g=a<3&&s[0]!==d&&s[a-1]!==d?[]:Nt(s,d);if(a-=g.length,a<n)return fu(e,t,Or,i.placeholder,u,s,g,u,u,n-a);var v=this&&this!==Pe&&this instanceof i?r:e;return Je(v,this,s)}return i}function au(e){return function(t,n,r){var i=he(t);if(!Ye(t)){var a=P(n,3);t=Oe(t),n=function(o){return a(i[o],o,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:u}}function uu(e){return $t(function(t){var n=t.length,r=n,i=ut.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if(typeof a!="function")throw new at(R);if(i&&!s&&Vr(a)=="wrapper")var s=new ut([],!0)}for(r=s?r:n;++r<n;){a=t[r];var o=Vr(a),d=o=="wrapper"?ji(a):u;d&&rl(d[0])&&d[1]==(ye|fe|le|qe)&&!d[4].length&&d[9]==1?s=s[Vr(d[0])].apply(s,d[3]):s=a.length==1&&rl(a)?s[o]():s.thru(a)}return function(){var g=arguments,v=g[0];if(s&&g.length==1&&K(v))return s.plant(v).value();for(var x=0,y=n?t[x].apply(this,g):v;++x<n;)y=t[x].call(this,y);return y}})}function Or(e,t,n,r,i,a,s,o,d,g){var v=t&ye,x=t&_,y=t&L,$=t&(fe|ce),F=t&ht,J=y?u:Hn(e);function V(){for(var j=arguments.length,ne=h(j),tt=j;tt--;)ne[tt]=arguments[tt];if($)var He=yn(V),nt=tf(ne,He);if(r&&(ne=tu(ne,r,i,$)),a&&(ne=nu(ne,a,s,$)),j-=nt,$&&j<g){var Ee=Nt(ne,He);return fu(e,t,Or,V.placeholder,n,ne,Ee,o,d,g-j)}var xt=x?n:this,Pt=y?xt[e]:e;return j=ne.length,o?ne=fd(ne,o):F&&j>1&&ne.reverse(),v&&d<j&&(ne.length=d),this&&this!==Pe&&this instanceof V&&(Pt=J||Hn(Pt)),Pt.apply(xt,ne)}return V}function su(e,t){return function(n,r){return _c(n,e,t(r),{})}}function Br(e,t){return function(n,r){var i;if(n===u&&r===u)return t;if(n!==u&&(i=n),r!==u){if(i===u)return r;typeof n=="string"||typeof r=="string"?(n=je(n),r=je(r)):(n=Ka(n),r=Ka(r)),i=e(n,r)}return i}}function Zi(e){return $t(function(t){return t=xe(t,Qe(P())),Q(function(n){var r=this;return e(t,function(i){return Je(i,r,n)})})})}function Pr(e,t){t=t===u?" ":je(t);var n=t.length;if(n<2)return n?ki(t,e):t;var r=ki(t,yr(e/pn(t)));return hn(t)?qt(vt(r),0,e).join(""):r.slice(0,e)}function Hc(e,t,n,r){var i=t&_,a=Hn(e);function s(){for(var o=-1,d=arguments.length,g=-1,v=r.length,x=h(v+d),y=this&&this!==Pe&&this instanceof s?a:e;++g<v;)x[g]=r[g];for(;d--;)x[g++]=arguments[++o];return Je(y,i?n:this,x)}return s}function ou(e){return function(t,n,r){return r&&typeof r!="number"&&ze(t,n,r)&&(n=r=u),t=Bt(t),n===u?(n=t,t=0):n=Bt(n),r=r===u?t<n?1:-1:Bt(r),Rc(t,n,r,e)}}function Fr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=ct(t),n=ct(n)),e(t,n)}}function fu(e,t,n,r,i,a,s,o,d,g){var v=t&fe,x=v?s:u,y=v?u:s,$=v?a:u,F=v?u:a;t|=v?le:Re,t&=~(v?Re:le),t&U||(t&=~(_|L));var J=[e,t,i,$,x,F,y,o,d,g],V=n.apply(u,J);return rl(e)&&yu(V,J),V.placeholder=r,Su(V,e,t)}function Xi(e){var t=$e[e];return function(n,r){if(n=ct(n),r=r==null?0:Ue(X(r),292),r&&Sa(n)){var i=(oe(n)+"e").split("e"),a=t(i[0]+"e"+(+i[1]+r));return i=(oe(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var qc=mn&&1/dr(new mn([,-0]))[1]==ae?function(e){return new mn(e)}:_l;function cu(e){return function(t){var n=Ne(t);return n==pt?Ti(t):n==gt?of(t):ef(t,e(t))}}function Dt(e,t,n,r,i,a,s,o){var d=t&L;if(!d&&typeof e!="function")throw new at(R);var g=r?r.length:0;if(g||(t&=~(le|Re),r=i=u),s=s===u?s:Me(X(s),0),o=o===u?o:X(o),g-=i?i.length:0,t&Re){var v=r,x=i;r=i=u}var y=d?u:ji(e),$=[e,t,n,r,i,v,x,a,s,o];if(y&&ud($,y),e=$[0],t=$[1],n=$[2],r=$[3],i=$[4],o=$[9]=$[9]===u?d?0:e.length:Me($[9]-g,0),!o&&t&(fe|ce)&&(t&=~(fe|ce)),!t||t==_)var F=Gc(e,t,n);else t==fe||t==ce?F=zc(e,t,o):(t==le||t==(_|le))&&!i.length?F=Hc(e,t,n,r):F=Or.apply(u,$);var J=y?Ha:yu;return Su(J(F,$),e,t)}function du(e,t,n,r){return e===u||_t(e,vn[n])&&!de.call(r,n)?t:e}function hu(e,t,n,r,i,a){return Ie(e)&&Ie(t)&&(a.set(t,e),Rr(e,t,u,hu,a),a.delete(t)),e}function Kc(e){return Yn(e)?u:e}function pu(e,t,n,r,i,a){var s=n&De,o=e.length,d=t.length;if(o!=d&&!(s&&d>o))return!1;var g=a.get(e),v=a.get(t);if(g&&v)return g==t&&v==e;var x=-1,y=!0,$=n&A?new jt:u;for(a.set(e,t),a.set(t,e);++x<o;){var F=e[x],J=t[x];if(r)var V=s?r(J,F,x,t,e,a):r(F,J,x,e,t,a);if(V!==u){if(V)continue;y=!1;break}if($){if(!bi(t,function(j,ne){if(!On($,ne)&&(F===j||i(F,j,n,r,a)))return $.push(ne)})){y=!1;break}}else if(!(F===J||i(F,J,n,r,a))){y=!1;break}}return a.delete(e),a.delete(t),y}function Yc(e,t,n,r,i,a,s){switch(n){case fn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mn:return!(e.byteLength!=t.byteLength||!a(new _r(e),new _r(t)));case Cn:case En:case Ln:return _t(+e,+t);case ir:return e.name==t.name&&e.message==t.message;case Rn:case Dn:return e==t+"";case pt:var o=Ti;case gt:var d=r&De;if(o||(o=dr),e.size!=t.size&&!d)return!1;var g=s.get(e);if(g)return g==t;r|=A,s.set(e,t);var v=pu(o(e),o(t),r,i,a,s);return s.delete(e),v;case ar:if(Wn)return Wn.call(e)==Wn.call(t)}return!1}function Zc(e,t,n,r,i,a){var s=n&De,o=Ji(e),d=o.length,g=Ji(t),v=g.length;if(d!=v&&!s)return!1;for(var x=d;x--;){var y=o[x];if(!(s?y in t:de.call(t,y)))return!1}var $=a.get(e),F=a.get(t);if($&&F)return $==t&&F==e;var J=!0;a.set(e,t),a.set(t,e);for(var V=s;++x<d;){y=o[x];var j=e[y],ne=t[y];if(r)var tt=s?r(ne,j,y,t,e,a):r(j,ne,y,e,t,a);if(!(tt===u?j===ne||i(j,ne,n,r,a):tt)){J=!1;break}V||(V=y=="constructor")}if(J&&!V){var He=e.constructor,nt=t.constructor;He!=nt&&"constructor"in e&&"constructor"in t&&!(typeof He=="function"&&He instanceof He&&typeof nt=="function"&&nt instanceof nt)&&(J=!1)}return a.delete(e),a.delete(t),J}function $t(e){return ll(bu(e,u,Lu),e+"")}function Ji(e){return Oa(e,Oe,tl)}function Qi(e){return Oa(e,Ze,gu)}var ji=Ar?function(e){return Ar.get(e)}:_l;function Vr(e){for(var t=e.name+"",n=_n[t],r=de.call(_n,t)?n.length:0;r--;){var i=n[r],a=i.func;if(a==null||a==e)return i.name}return t}function yn(e){var t=de.call(l,"placeholder")?l:e;return t.placeholder}function P(){var e=l.iteratee||vl;return e=e===vl?Fa:e,arguments.length?e(arguments[0],arguments[1]):e}function Wr(e,t){var n=e.__data__;return rd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function el(e){for(var t=Oe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_u(i)]}return t}function nn(e,t){var n=af(e,t);return Pa(n)?n:u}function Xc(e){var t=de.call(e,Jt),n=e[Jt];try{e[Jt]=u;var r=!0}catch{}var i=vr.call(e);return r&&(t?e[Jt]=n:delete e[Jt]),i}var tl=Ei?function(e){return e==null?[]:(e=he(e),Wt(Ei(e),function(t){return wa.call(e,t)}))}:xl,gu=Ei?function(e){for(var t=[];e;)Ut(t,tl(e)),e=xr(e);return t}:xl,Ne=Ge;(Li&&Ne(new Li(new ArrayBuffer(1)))!=fn||Pn&&Ne(new Pn)!=pt||Ri&&Ne(Ri.resolve())!=Dl||mn&&Ne(new mn)!=gt||Fn&&Ne(new Fn)!=$n)&&(Ne=function(e){var t=Ge(e),n=t==Ct?e.constructor:u,r=n?rn(n):"";if(r)switch(r){case $f:return fn;case Mf:return pt;case Of:return Dl;case Bf:return gt;case Pf:return $n}return t});function Jc(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Ue(t,e+s);break;case"takeRight":e=Me(e,t-s);break}}return{start:e,end:t}}function Qc(e){var t=e.match(no);return t?t[1].split(ro):[]}function vu(e,t,n){t=Ht(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var s=At(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&qr(i)&&Mt(s,i)&&(K(e)||ln(e)))}function jc(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&de.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function mu(e){return typeof e.constructor=="function"&&!qn(e)?xn(xr(e)):{}}function ed(e,t,n){var r=e.constructor;switch(t){case Mn:return Yi(e);case Cn:case En:return new r(+e);case fn:return Fc(e,n);case ei:case ti:case ni:case ri:case ii:case li:case ai:case ui:case si:return ja(e,n);case pt:return new r;case Ln:case Dn:return new r(e);case Rn:return Vc(e);case gt:return new r;case ar:return Wc(e)}}function td(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(to,`{
/* [wrapped with `+t+`] */
`)}function nd(e){return K(e)||ln(e)||!!(ya&&e&&e[ya])}function Mt(e,t){var n=typeof e;return t=t??ie,!!t&&(n=="number"||n!="symbol"&&ho.test(e))&&e>-1&&e%1==0&&e<t}function ze(e,t,n){if(!Ie(n))return!1;var r=typeof t;return(r=="number"?Ye(n)&&Mt(t,n.length):r=="string"&&t in n)?_t(n[t],e):!1}function nl(e,t){if(K(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||et(e)?!0:Js.test(e)||!Xs.test(e)||t!=null&&e in he(t)}function rd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function rl(e){var t=Vr(e),n=l[t];if(typeof n!="function"||!(t in ee.prototype))return!1;if(e===n)return!0;var r=ji(n);return!!r&&e===r[0]}function id(e){return!!_a&&_a in e}var ld=pr?Ot:bl;function qn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vn;return e===n}function _u(e){return e===e&&!Ie(e)}function xu(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==u||e in he(n))}}function ad(e){var t=zr(e,function(r){return n.size===re&&n.clear(),r}),n=t.cache;return t}function ud(e,t){var n=e[1],r=t[1],i=n|r,a=i<(_|L|ye),s=r==ye&&n==fe||r==ye&&n==qe&&e[7].length<=t[8]||r==(ye|qe)&&t[7].length<=t[8]&&n==fe;if(!(a||s))return e;r&_&&(e[2]=t[2],i|=n&_?0:U);var o=t[3];if(o){var d=e[3];e[3]=d?tu(d,o,t[4]):o,e[4]=d?Nt(e[3],q):t[4]}return o=t[5],o&&(d=e[5],e[5]=d?nu(d,o,t[6]):o,e[6]=d?Nt(e[5],q):t[6]),o=t[7],o&&(e[7]=o),r&ye&&(e[8]=e[8]==null?t[8]:Ue(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function sd(e){var t=[];if(e!=null)for(var n in he(e))t.push(n);return t}function od(e){return vr.call(e)}function bu(e,t,n){return t=Me(t===u?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Me(r.length-t,0),s=h(a);++i<a;)s[i]=r[t+i];i=-1;for(var o=h(t+1);++i<t;)o[i]=r[i];return o[t]=n(s),Je(e,this,o)}}function wu(e,t){return t.length<2?e:tn(e,ot(t,0,-1))}function fd(e,t){for(var n=e.length,r=Ue(t.length,n),i=Ke(e);r--;){var a=t[r];e[r]=Mt(a,n)?i[a]:u}return e}function il(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var yu=Au(Ha),Kn=If||function(e,t){return Pe.setTimeout(e,t)},ll=Au(Mc);function Su(e,t,n){var r=t+"";return ll(e,td(r,cd(Qc(r),n)))}function Au(e){var t=0,n=0;return function(){var r=Lf(),i=Tt-(r-n);if(n=r,i>0){if(++t>=N)return arguments[0]}else t=0;return e.apply(u,arguments)}}function Ur(e,t){var n=-1,r=e.length,i=r-1;for(t=t===u?r:t;++n<t;){var a=Ni(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Iu=ad(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qs,function(n,r,i,a){t.push(i?a.replace(ao,"$1"):r||n)}),t});function At(e){if(typeof e=="string"||et(e))return e;var t=e+"";return t=="0"&&1/e==-ae?"-0":t}function rn(e){if(e!=null){try{return gr.call(e)}catch{}try{return e+""}catch{}}return""}function cd(e,t){return lt(Tn,function(n){var r="_."+n[0];t&n[1]&&!fr(e,r)&&e.push(r)}),e.sort()}function Tu(e){if(e instanceof ee)return e.clone();var t=new ut(e.__wrapped__,e.__chain__);return t.__actions__=Ke(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function dd(e,t,n){(n?ze(e,t,n):t===u)?t=1:t=Me(X(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,s=h(yr(r/t));i<r;)s[a++]=ot(e,i,i+=t);return s}function hd(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function pd(){var e=arguments.length;if(!e)return[];for(var t=h(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ut(K(n)?Ke(n):[n],Fe(t,1))}var gd=Q(function(e,t){return Ce(e)?Nn(e,Fe(t,1,Ce,!0)):[]}),vd=Q(function(e,t){var n=ft(t);return Ce(n)&&(n=u),Ce(e)?Nn(e,Fe(t,1,Ce,!0),P(n,2)):[]}),md=Q(function(e,t){var n=ft(t);return Ce(n)&&(n=u),Ce(e)?Nn(e,Fe(t,1,Ce,!0),u,n):[]});function _d(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:X(t),ot(e,t<0?0:t,r)):[]}function xd(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:X(t),t=r-t,ot(e,0,t<0?0:t)):[]}function bd(e,t){return e&&e.length?$r(e,P(t,3),!0,!0):[]}function wd(e,t){return e&&e.length?$r(e,P(t,3),!0):[]}function yd(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&ze(e,t,n)&&(n=0,r=i),pc(e,t,n,r)):[]}function Cu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:X(n);return i<0&&(i=Me(r+i,0)),cr(e,P(t,3),i)}function Eu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==u&&(i=X(n),i=n<0?Me(r+i,0):Ue(i,r-1)),cr(e,P(t,3),i,!0)}function Lu(e){var t=e==null?0:e.length;return t?Fe(e,1):[]}function Sd(e){var t=e==null?0:e.length;return t?Fe(e,ae):[]}function Ad(e,t){var n=e==null?0:e.length;return n?(t=t===u?1:X(t),Fe(e,t)):[]}function Id(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Ru(e){return e&&e.length?e[0]:u}function Td(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:X(n);return i<0&&(i=Me(r+i,0)),dn(e,t,i)}function Cd(e){var t=e==null?0:e.length;return t?ot(e,0,-1):[]}var Ed=Q(function(e){var t=xe(e,qi);return t.length&&t[0]===e[0]?Pi(t):[]}),Ld=Q(function(e){var t=ft(e),n=xe(e,qi);return t===ft(n)?t=u:n.pop(),n.length&&n[0]===e[0]?Pi(n,P(t,2)):[]}),Rd=Q(function(e){var t=ft(e),n=xe(e,qi);return t=typeof t=="function"?t:u,t&&n.pop(),n.length&&n[0]===e[0]?Pi(n,u,t):[]});function Dd(e,t){return e==null?"":Cf.call(e,t)}function ft(e){var t=e==null?0:e.length;return t?e[t-1]:u}function $d(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==u&&(i=X(n),i=i<0?Me(r+i,0):Ue(i,r-1)),t===t?cf(e,t,i):cr(e,fa,i,!0)}function Md(e,t){return e&&e.length?Na(e,X(t)):u}var Od=Q(Du);function Du(e,t){return e&&e.length&&t&&t.length?Ui(e,t):e}function Bd(e,t,n){return e&&e.length&&t&&t.length?Ui(e,t,P(n,2)):e}function Pd(e,t,n){return e&&e.length&&t&&t.length?Ui(e,t,u,n):e}var Fd=$t(function(e,t){var n=e==null?0:e.length,r=$i(e,t);return za(e,xe(t,function(i){return Mt(i,n)?+i:i}).sort(eu)),r});function Vd(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],a=e.length;for(t=P(t,3);++r<a;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return za(e,i),n}function al(e){return e==null?e:Df.call(e)}function Wd(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&ze(e,t,n)?(t=0,n=r):(t=t==null?0:X(t),n=n===u?r:X(n)),ot(e,t,n)):[]}function Ud(e,t){return Dr(e,t)}function Nd(e,t,n){return Gi(e,t,P(n,2))}function kd(e,t){var n=e==null?0:e.length;if(n){var r=Dr(e,t);if(r<n&&_t(e[r],t))return r}return-1}function Gd(e,t){return Dr(e,t,!0)}function zd(e,t,n){return Gi(e,t,P(n,2),!0)}function Hd(e,t){var n=e==null?0:e.length;if(n){var r=Dr(e,t,!0)-1;if(_t(e[r],t))return r}return-1}function qd(e){return e&&e.length?qa(e):[]}function Kd(e,t){return e&&e.length?qa(e,P(t,2)):[]}function Yd(e){var t=e==null?0:e.length;return t?ot(e,1,t):[]}function Zd(e,t,n){return e&&e.length?(t=n||t===u?1:X(t),ot(e,0,t<0?0:t)):[]}function Xd(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:X(t),t=r-t,ot(e,t<0?0:t,r)):[]}function Jd(e,t){return e&&e.length?$r(e,P(t,3),!1,!0):[]}function Qd(e,t){return e&&e.length?$r(e,P(t,3)):[]}var jd=Q(function(e){return zt(Fe(e,1,Ce,!0))}),e0=Q(function(e){var t=ft(e);return Ce(t)&&(t=u),zt(Fe(e,1,Ce,!0),P(t,2))}),t0=Q(function(e){var t=ft(e);return t=typeof t=="function"?t:u,zt(Fe(e,1,Ce,!0),u,t)});function n0(e){return e&&e.length?zt(e):[]}function r0(e,t){return e&&e.length?zt(e,P(t,2)):[]}function i0(e,t){return t=typeof t=="function"?t:u,e&&e.length?zt(e,u,t):[]}function ul(e){if(!(e&&e.length))return[];var t=0;return e=Wt(e,function(n){if(Ce(n))return t=Me(n.length,t),!0}),Ai(t,function(n){return xe(e,wi(n))})}function $u(e,t){if(!(e&&e.length))return[];var n=ul(e);return t==null?n:xe(n,function(r){return Je(t,u,r)})}var l0=Q(function(e,t){return Ce(e)?Nn(e,t):[]}),a0=Q(function(e){return Hi(Wt(e,Ce))}),u0=Q(function(e){var t=ft(e);return Ce(t)&&(t=u),Hi(Wt(e,Ce),P(t,2))}),s0=Q(function(e){var t=ft(e);return t=typeof t=="function"?t:u,Hi(Wt(e,Ce),u,t)}),o0=Q(ul);function f0(e,t){return Xa(e||[],t||[],Un)}function c0(e,t){return Xa(e||[],t||[],zn)}var d0=Q(function(e){var t=e.length,n=t>1?e[t-1]:u;return n=typeof n=="function"?(e.pop(),n):u,$u(e,n)});function Mu(e){var t=l(e);return t.__chain__=!0,t}function h0(e,t){return t(e),e}function Nr(e,t){return t(e)}var p0=$t(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(a){return $i(a,e)};return t>1||this.__actions__.length||!(r instanceof ee)||!Mt(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Nr,args:[i],thisArg:u}),new ut(r,this.__chain__).thru(function(a){return t&&!a.length&&a.push(u),a}))});function g0(){return Mu(this)}function v0(){return new ut(this.value(),this.__chain__)}function m0(){this.__values__===u&&(this.__values__=Ku(this.value()));var e=this.__index__>=this.__values__.length,t=e?u:this.__values__[this.__index__++];return{done:e,value:t}}function _0(){return this}function x0(e){for(var t,n=this;n instanceof Tr;){var r=Tu(n);r.__index__=0,r.__values__=u,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function b0(){var e=this.__wrapped__;if(e instanceof ee){var t=e;return this.__actions__.length&&(t=new ee(this)),t=t.reverse(),t.__actions__.push({func:Nr,args:[al],thisArg:u}),new ut(t,this.__chain__)}return this.thru(al)}function w0(){return Za(this.__wrapped__,this.__actions__)}var y0=Mr(function(e,t,n){de.call(e,n)?++e[n]:Rt(e,n,1)});function S0(e,t,n){var r=K(e)?sa:hc;return n&&ze(e,t,n)&&(t=u),r(e,P(t,3))}function A0(e,t){var n=K(e)?Wt:$a;return n(e,P(t,3))}var I0=au(Cu),T0=au(Eu);function C0(e,t){return Fe(kr(e,t),1)}function E0(e,t){return Fe(kr(e,t),ae)}function L0(e,t,n){return n=n===u?1:X(n),Fe(kr(e,t),n)}function Ou(e,t){var n=K(e)?lt:Gt;return n(e,P(t,3))}function Bu(e,t){var n=K(e)?Ko:Da;return n(e,P(t,3))}var R0=Mr(function(e,t,n){de.call(e,n)?e[n].push(t):Rt(e,n,[t])});function D0(e,t,n,r){e=Ye(e)?e:An(e),n=n&&!r?X(n):0;var i=e.length;return n<0&&(n=Me(i+n,0)),Kr(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&dn(e,t,n)>-1}var $0=Q(function(e,t,n){var r=-1,i=typeof t=="function",a=Ye(e)?h(e.length):[];return Gt(e,function(s){a[++r]=i?Je(t,s,n):kn(s,t,n)}),a}),M0=Mr(function(e,t,n){Rt(e,n,t)});function kr(e,t){var n=K(e)?xe:Va;return n(e,P(t,3))}function O0(e,t,n,r){return e==null?[]:(K(t)||(t=t==null?[]:[t]),n=r?u:n,K(n)||(n=n==null?[]:[n]),ka(e,t,n))}var B0=Mr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function P0(e,t,n){var r=K(e)?xi:da,i=arguments.length<3;return r(e,P(t,4),n,i,Gt)}function F0(e,t,n){var r=K(e)?Yo:da,i=arguments.length<3;return r(e,P(t,4),n,i,Da)}function V0(e,t){var n=K(e)?Wt:$a;return n(e,Hr(P(t,3)))}function W0(e){var t=K(e)?Ca:Dc;return t(e)}function U0(e,t,n){(n?ze(e,t,n):t===u)?t=1:t=X(t);var r=K(e)?sc:$c;return r(e,t)}function N0(e){var t=K(e)?oc:Oc;return t(e)}function k0(e){if(e==null)return 0;if(Ye(e))return Kr(e)?pn(e):e.length;var t=Ne(e);return t==pt||t==gt?e.size:Vi(e).length}function G0(e,t,n){var r=K(e)?bi:Bc;return n&&ze(e,t,n)&&(t=u),r(e,P(t,3))}var z0=Q(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ze(e,t[0],t[1])?t=[]:n>2&&ze(t[0],t[1],t[2])&&(t=[t[0]]),ka(e,Fe(t,1),[])}),Gr=Af||function(){return Pe.Date.now()};function H0(e,t){if(typeof t!="function")throw new at(R);return e=X(e),function(){if(--e<1)return t.apply(this,arguments)}}function Pu(e,t,n){return t=n?u:t,t=e&&t==null?e.length:t,Dt(e,ye,u,u,u,u,t)}function Fu(e,t){var n;if(typeof t!="function")throw new at(R);return e=X(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=u),n}}var sl=Q(function(e,t,n){var r=_;if(n.length){var i=Nt(n,yn(sl));r|=le}return Dt(e,r,t,n,i)}),Vu=Q(function(e,t,n){var r=_|L;if(n.length){var i=Nt(n,yn(Vu));r|=le}return Dt(t,r,e,n,i)});function Wu(e,t,n){t=n?u:t;var r=Dt(e,fe,u,u,u,u,u,t);return r.placeholder=Wu.placeholder,r}function Uu(e,t,n){t=n?u:t;var r=Dt(e,ce,u,u,u,u,u,t);return r.placeholder=Uu.placeholder,r}function Nu(e,t,n){var r,i,a,s,o,d,g=0,v=!1,x=!1,y=!0;if(typeof e!="function")throw new at(R);t=ct(t)||0,Ie(n)&&(v=!!n.leading,x="maxWait"in n,a=x?Me(ct(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y);function $(Ee){var xt=r,Pt=i;return r=i=u,g=Ee,s=e.apply(Pt,xt),s}function F(Ee){return g=Ee,o=Kn(j,t),v?$(Ee):s}function J(Ee){var xt=Ee-d,Pt=Ee-g,as=t-xt;return x?Ue(as,a-Pt):as}function V(Ee){var xt=Ee-d,Pt=Ee-g;return d===u||xt>=t||xt<0||x&&Pt>=a}function j(){var Ee=Gr();if(V(Ee))return ne(Ee);o=Kn(j,J(Ee))}function ne(Ee){return o=u,y&&r?$(Ee):(r=i=u,s)}function tt(){o!==u&&Ja(o),g=0,r=d=i=o=u}function He(){return o===u?s:ne(Gr())}function nt(){var Ee=Gr(),xt=V(Ee);if(r=arguments,i=this,d=Ee,xt){if(o===u)return F(d);if(x)return Ja(o),o=Kn(j,t),$(d)}return o===u&&(o=Kn(j,t)),s}return nt.cancel=tt,nt.flush=He,nt}var q0=Q(function(e,t){return Ra(e,1,t)}),K0=Q(function(e,t,n){return Ra(e,ct(t)||0,n)});function Y0(e){return Dt(e,ht)}function zr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new at(R);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(zr.Cache||Lt),n}zr.Cache=Lt;function Hr(e){if(typeof e!="function")throw new at(R);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Z0(e){return Fu(2,e)}var X0=Pc(function(e,t){t=t.length==1&&K(t[0])?xe(t[0],Qe(P())):xe(Fe(t,1),Qe(P()));var n=t.length;return Q(function(r){for(var i=-1,a=Ue(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Je(e,this,r)})}),ol=Q(function(e,t){var n=Nt(t,yn(ol));return Dt(e,le,u,t,n)}),ku=Q(function(e,t){var n=Nt(t,yn(ku));return Dt(e,Re,u,t,n)}),J0=$t(function(e,t){return Dt(e,qe,u,u,u,t)});function Q0(e,t){if(typeof e!="function")throw new at(R);return t=t===u?t:X(t),Q(e,t)}function j0(e,t){if(typeof e!="function")throw new at(R);return t=t==null?0:Me(X(t),0),Q(function(n){var r=n[t],i=qt(n,0,t);return r&&Ut(i,r),Je(e,this,i)})}function eh(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new at(R);return Ie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nu(e,t,{leading:r,maxWait:t,trailing:i})}function th(e){return Pu(e,1)}function nh(e,t){return ol(Ki(t),e)}function rh(){if(!arguments.length)return[];var e=arguments[0];return K(e)?e:[e]}function ih(e){return st(e,Le)}function lh(e,t){return t=typeof t=="function"?t:u,st(e,Le,t)}function ah(e){return st(e,O|Le)}function uh(e,t){return t=typeof t=="function"?t:u,st(e,O|Le,t)}function sh(e,t){return t==null||La(e,t,Oe(t))}function _t(e,t){return e===t||e!==e&&t!==t}var oh=Fr(Bi),fh=Fr(function(e,t){return e>=t}),ln=Ba(function(){return arguments}())?Ba:function(e){return Te(e)&&de.call(e,"callee")&&!wa.call(e,"callee")},K=h.isArray,ch=na?Qe(na):xc;function Ye(e){return e!=null&&qr(e.length)&&!Ot(e)}function Ce(e){return Te(e)&&Ye(e)}function dh(e){return e===!0||e===!1||Te(e)&&Ge(e)==Cn}var Kt=Tf||bl,hh=ra?Qe(ra):bc;function ph(e){return Te(e)&&e.nodeType===1&&!Yn(e)}function gh(e){if(e==null)return!0;if(Ye(e)&&(K(e)||typeof e=="string"||typeof e.splice=="function"||Kt(e)||Sn(e)||ln(e)))return!e.length;var t=Ne(e);if(t==pt||t==gt)return!e.size;if(qn(e))return!Vi(e).length;for(var n in e)if(de.call(e,n))return!1;return!0}function vh(e,t){return Gn(e,t)}function mh(e,t,n){n=typeof n=="function"?n:u;var r=n?n(e,t):u;return r===u?Gn(e,t,u,n):!!r}function fl(e){if(!Te(e))return!1;var t=Ge(e);return t==ir||t==Vs||typeof e.message=="string"&&typeof e.name=="string"&&!Yn(e)}function _h(e){return typeof e=="number"&&Sa(e)}function Ot(e){if(!Ie(e))return!1;var t=Ge(e);return t==lr||t==Rl||t==Fs||t==Us}function Gu(e){return typeof e=="number"&&e==X(e)}function qr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ie}function Ie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Te(e){return e!=null&&typeof e=="object"}var zu=ia?Qe(ia):yc;function xh(e,t){return e===t||Fi(e,t,el(t))}function bh(e,t,n){return n=typeof n=="function"?n:u,Fi(e,t,el(t),n)}function wh(e){return Hu(e)&&e!=+e}function yh(e){if(ld(e))throw new k(b);return Pa(e)}function Sh(e){return e===null}function Ah(e){return e==null}function Hu(e){return typeof e=="number"||Te(e)&&Ge(e)==Ln}function Yn(e){if(!Te(e)||Ge(e)!=Ct)return!1;var t=xr(e);if(t===null)return!0;var n=de.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&gr.call(n)==bf}var cl=la?Qe(la):Sc;function Ih(e){return Gu(e)&&e>=-ie&&e<=ie}var qu=aa?Qe(aa):Ac;function Kr(e){return typeof e=="string"||!K(e)&&Te(e)&&Ge(e)==Dn}function et(e){return typeof e=="symbol"||Te(e)&&Ge(e)==ar}var Sn=ua?Qe(ua):Ic;function Th(e){return e===u}function Ch(e){return Te(e)&&Ne(e)==$n}function Eh(e){return Te(e)&&Ge(e)==ks}var Lh=Fr(Wi),Rh=Fr(function(e,t){return e<=t});function Ku(e){if(!e)return[];if(Ye(e))return Kr(e)?vt(e):Ke(e);if(Bn&&e[Bn])return sf(e[Bn]());var t=Ne(e),n=t==pt?Ti:t==gt?dr:An;return n(e)}function Bt(e){if(!e)return e===0?e:0;if(e=ct(e),e===ae||e===-ae){var t=e<0?-1:1;return t*Ae}return e===e?e:0}function X(e){var t=Bt(e),n=t%1;return t===t?n?t-n:t:0}function Yu(e){return e?en(X(e),0,_e):0}function ct(e){if(typeof e=="number")return e;if(et(e))return te;if(Ie(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ie(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ha(e);var n=oo.test(e);return n||co.test(e)?zo(e.slice(2),n?2:8):so.test(e)?te:+e}function Zu(e){return St(e,Ze(e))}function Dh(e){return e?en(X(e),-ie,ie):e===0?e:0}function oe(e){return e==null?"":je(e)}var $h=bn(function(e,t){if(qn(t)||Ye(t)){St(t,Oe(t),e);return}for(var n in t)de.call(t,n)&&Un(e,n,t[n])}),Xu=bn(function(e,t){St(t,Ze(t),e)}),Yr=bn(function(e,t,n,r){St(t,Ze(t),e,r)}),Mh=bn(function(e,t,n,r){St(t,Oe(t),e,r)}),Oh=$t($i);function Bh(e,t){var n=xn(e);return t==null?n:Ea(n,t)}var Ph=Q(function(e,t){e=he(e);var n=-1,r=t.length,i=r>2?t[2]:u;for(i&&ze(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ze(a),o=-1,d=s.length;++o<d;){var g=s[o],v=e[g];(v===u||_t(v,vn[g])&&!de.call(e,g))&&(e[g]=a[g])}return e}),Fh=Q(function(e){return e.push(u,hu),Je(Ju,u,e)});function Vh(e,t){return oa(e,P(t,3),yt)}function Wh(e,t){return oa(e,P(t,3),Oi)}function Uh(e,t){return e==null?e:Mi(e,P(t,3),Ze)}function Nh(e,t){return e==null?e:Ma(e,P(t,3),Ze)}function kh(e,t){return e&&yt(e,P(t,3))}function Gh(e,t){return e&&Oi(e,P(t,3))}function zh(e){return e==null?[]:Lr(e,Oe(e))}function Hh(e){return e==null?[]:Lr(e,Ze(e))}function dl(e,t,n){var r=e==null?u:tn(e,t);return r===u?n:r}function qh(e,t){return e!=null&&vu(e,t,gc)}function hl(e,t){return e!=null&&vu(e,t,vc)}var Kh=su(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=vr.call(t)),e[t]=n},gl(Xe)),Yh=su(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=vr.call(t)),de.call(e,t)?e[t].push(n):e[t]=[n]},P),Zh=Q(kn);function Oe(e){return Ye(e)?Ta(e):Vi(e)}function Ze(e){return Ye(e)?Ta(e,!0):Tc(e)}function Xh(e,t){var n={};return t=P(t,3),yt(e,function(r,i,a){Rt(n,t(r,i,a),r)}),n}function Jh(e,t){var n={};return t=P(t,3),yt(e,function(r,i,a){Rt(n,i,t(r,i,a))}),n}var Qh=bn(function(e,t,n){Rr(e,t,n)}),Ju=bn(function(e,t,n,r){Rr(e,t,n,r)}),jh=$t(function(e,t){var n={};if(e==null)return n;var r=!1;t=xe(t,function(a){return a=Ht(a,e),r||(r=a.length>1),a}),St(e,Qi(e),n),r&&(n=st(n,O|Be|Le,Kc));for(var i=t.length;i--;)zi(n,t[i]);return n});function ep(e,t){return Qu(e,Hr(P(t)))}var tp=$t(function(e,t){return e==null?{}:Ec(e,t)});function Qu(e,t){if(e==null)return{};var n=xe(Qi(e),function(r){return[r]});return t=P(t),Ga(e,n,function(r,i){return t(r,i[0])})}function np(e,t,n){t=Ht(t,e);var r=-1,i=t.length;for(i||(i=1,e=u);++r<i;){var a=e==null?u:e[At(t[r])];a===u&&(r=i,a=n),e=Ot(a)?a.call(e):a}return e}function rp(e,t,n){return e==null?e:zn(e,t,n)}function ip(e,t,n,r){return r=typeof r=="function"?r:u,e==null?e:zn(e,t,n,r)}var ju=cu(Oe),es=cu(Ze);function lp(e,t,n){var r=K(e),i=r||Kt(e)||Sn(e);if(t=P(t,4),n==null){var a=e&&e.constructor;i?n=r?new a:[]:Ie(e)?n=Ot(a)?xn(xr(e)):{}:n={}}return(i?lt:yt)(e,function(s,o,d){return t(n,s,o,d)}),n}function ap(e,t){return e==null?!0:zi(e,t)}function up(e,t,n){return e==null?e:Ya(e,t,Ki(n))}function sp(e,t,n,r){return r=typeof r=="function"?r:u,e==null?e:Ya(e,t,Ki(n),r)}function An(e){return e==null?[]:Ii(e,Oe(e))}function op(e){return e==null?[]:Ii(e,Ze(e))}function fp(e,t,n){return n===u&&(n=t,t=u),n!==u&&(n=ct(n),n=n===n?n:0),t!==u&&(t=ct(t),t=t===t?t:0),en(ct(e),t,n)}function cp(e,t,n){return t=Bt(t),n===u?(n=t,t=0):n=Bt(n),e=ct(e),mc(e,t,n)}function dp(e,t,n){if(n&&typeof n!="boolean"&&ze(e,t,n)&&(t=n=u),n===u&&(typeof t=="boolean"?(n=t,t=u):typeof e=="boolean"&&(n=e,e=u)),e===u&&t===u?(e=0,t=1):(e=Bt(e),t===u?(t=e,e=0):t=Bt(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Aa();return Ue(e+i*(t-e+Go("1e-"+((i+"").length-1))),t)}return Ni(e,t)}var hp=wn(function(e,t,n){return t=t.toLowerCase(),e+(n?ts(t):t)});function ts(e){return pl(oe(e).toLowerCase())}function ns(e){return e=oe(e),e&&e.replace(po,nf).replace(Mo,"")}function pp(e,t,n){e=oe(e),t=je(t);var r=e.length;n=n===u?r:en(X(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function gp(e){return e=oe(e),e&&Ks.test(e)?e.replace(Ml,rf):e}function vp(e){return e=oe(e),e&&js.test(e)?e.replace(oi,"\\$&"):e}var mp=wn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),_p=wn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),xp=lu("toLowerCase");function bp(e,t,n){e=oe(e),t=X(t);var r=t?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Pr(Sr(i),n)+e+Pr(yr(i),n)}function wp(e,t,n){e=oe(e),t=X(t);var r=t?pn(e):0;return t&&r<t?e+Pr(t-r,n):e}function yp(e,t,n){e=oe(e),t=X(t);var r=t?pn(e):0;return t&&r<t?Pr(t-r,n)+e:e}function Sp(e,t,n){return n||t==null?t=0:t&&(t=+t),Rf(oe(e).replace(fi,""),t||0)}function Ap(e,t,n){return(n?ze(e,t,n):t===u)?t=1:t=X(t),ki(oe(e),t)}function Ip(){var e=arguments,t=oe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Tp=wn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Cp(e,t,n){return n&&typeof n!="number"&&ze(e,t,n)&&(t=n=u),n=n===u?_e:n>>>0,n?(e=oe(e),e&&(typeof t=="string"||t!=null&&!cl(t))&&(t=je(t),!t&&hn(e))?qt(vt(e),0,n):e.split(t,n)):[]}var Ep=wn(function(e,t,n){return e+(n?" ":"")+pl(t)});function Lp(e,t,n){return e=oe(e),n=n==null?0:en(X(n),0,e.length),t=je(t),e.slice(n,n+t.length)==t}function Rp(e,t,n){var r=l.templateSettings;n&&ze(e,t,n)&&(t=u),e=oe(e),t=Yr({},t,r,du);var i=Yr({},t.imports,r.imports,du),a=Oe(i),s=Ii(i,a),o,d,g=0,v=t.interpolate||ur,x="__p += '",y=Ci((t.escape||ur).source+"|"+v.source+"|"+(v===Ol?uo:ur).source+"|"+(t.evaluate||ur).source+"|$","g"),$="//# sourceURL="+(de.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vo+"]")+`
`;e.replace(y,function(V,j,ne,tt,He,nt){return ne||(ne=tt),x+=e.slice(g,nt).replace(go,lf),j&&(o=!0,x+=`' +
__e(`+j+`) +
'`),He&&(d=!0,x+=`';
`+He+`;
__p += '`),ne&&(x+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),g=nt+V.length,V}),x+=`';
`;var F=de.call(t,"variable")&&t.variable;if(!F)x=`with (obj) {
`+x+`
}
`;else if(lo.test(F))throw new k(C);x=(d?x.replace(Gs,""):x).replace(zs,"$1").replace(Hs,"$1;"),x="function("+(F||"obj")+`) {
`+(F?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var J=is(function(){return ue(a,$+"return "+x).apply(u,s)});if(J.source=x,fl(J))throw J;return J}function Dp(e){return oe(e).toLowerCase()}function $p(e){return oe(e).toUpperCase()}function Mp(e,t,n){if(e=oe(e),e&&(n||t===u))return ha(e);if(!e||!(t=je(t)))return e;var r=vt(e),i=vt(t),a=pa(r,i),s=ga(r,i)+1;return qt(r,a,s).join("")}function Op(e,t,n){if(e=oe(e),e&&(n||t===u))return e.slice(0,ma(e)+1);if(!e||!(t=je(t)))return e;var r=vt(e),i=ga(r,vt(t))+1;return qt(r,0,i).join("")}function Bp(e,t,n){if(e=oe(e),e&&(n||t===u))return e.replace(fi,"");if(!e||!(t=je(t)))return e;var r=vt(e),i=pa(r,vt(t));return qt(r,i).join("")}function Pp(e,t){var n=Se,r=Z;if(Ie(t)){var i="separator"in t?t.separator:i;n="length"in t?X(t.length):n,r="omission"in t?je(t.omission):r}e=oe(e);var a=e.length;if(hn(e)){var s=vt(e);a=s.length}if(n>=a)return e;var o=n-pn(r);if(o<1)return r;var d=s?qt(s,0,o).join(""):e.slice(0,o);if(i===u)return d+r;if(s&&(o+=d.length-o),cl(i)){if(e.slice(o).search(i)){var g,v=d;for(i.global||(i=Ci(i.source,oe(Bl.exec(i))+"g")),i.lastIndex=0;g=i.exec(v);)var x=g.index;d=d.slice(0,x===u?o:x)}}else if(e.indexOf(je(i),o)!=o){var y=d.lastIndexOf(i);y>-1&&(d=d.slice(0,y))}return d+r}function Fp(e){return e=oe(e),e&&qs.test(e)?e.replace($l,df):e}var Vp=wn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),pl=lu("toUpperCase");function rs(e,t,n){return e=oe(e),t=n?u:t,t===u?uf(e)?gf(e):Jo(e):e.match(t)||[]}var is=Q(function(e,t){try{return Je(e,u,t)}catch(n){return fl(n)?n:new k(n)}}),Wp=$t(function(e,t){return lt(t,function(n){n=At(n),Rt(e,n,sl(e[n],e))}),e});function Up(e){var t=e==null?0:e.length,n=P();return e=t?xe(e,function(r){if(typeof r[1]!="function")throw new at(R);return[n(r[0]),r[1]]}):[],Q(function(r){for(var i=-1;++i<t;){var a=e[i];if(Je(a[0],this,r))return Je(a[1],this,r)}})}function Np(e){return dc(st(e,O))}function gl(e){return function(){return e}}function kp(e,t){return e==null||e!==e?t:e}var Gp=uu(),zp=uu(!0);function Xe(e){return e}function vl(e){return Fa(typeof e=="function"?e:st(e,O))}function Hp(e){return Wa(st(e,O))}function qp(e,t){return Ua(e,st(t,O))}var Kp=Q(function(e,t){return function(n){return kn(n,e,t)}}),Yp=Q(function(e,t){return function(n){return kn(e,n,t)}});function ml(e,t,n){var r=Oe(t),i=Lr(t,r);n==null&&!(Ie(t)&&(i.length||!r.length))&&(n=t,t=e,e=this,i=Lr(t,Oe(t)));var a=!(Ie(n)&&"chain"in n)||!!n.chain,s=Ot(e);return lt(i,function(o){var d=t[o];e[o]=d,s&&(e.prototype[o]=function(){var g=this.__chain__;if(a||g){var v=e(this.__wrapped__),x=v.__actions__=Ke(this.__actions__);return x.push({func:d,args:arguments,thisArg:e}),v.__chain__=g,v}return d.apply(e,Ut([this.value()],arguments))})}),e}function Zp(){return Pe._===this&&(Pe._=wf),this}function _l(){}function Xp(e){return e=X(e),Q(function(t){return Na(t,e)})}var Jp=Zi(xe),Qp=Zi(sa),jp=Zi(bi);function ls(e){return nl(e)?wi(At(e)):Lc(e)}function eg(e){return function(t){return e==null?u:tn(e,t)}}var tg=ou(),ng=ou(!0);function xl(){return[]}function bl(){return!1}function rg(){return{}}function ig(){return""}function lg(){return!0}function ag(e,t){if(e=X(e),e<1||e>ie)return[];var n=_e,r=Ue(e,_e);t=P(t),e-=_e;for(var i=Ai(r,t);++n<e;)t(n);return i}function ug(e){return K(e)?xe(e,At):et(e)?[e]:Ke(Iu(oe(e)))}function sg(e){var t=++xf;return oe(e)+t}var og=Br(function(e,t){return e+t},0),fg=Xi("ceil"),cg=Br(function(e,t){return e/t},1),dg=Xi("floor");function hg(e){return e&&e.length?Er(e,Xe,Bi):u}function pg(e,t){return e&&e.length?Er(e,P(t,2),Bi):u}function gg(e){return ca(e,Xe)}function vg(e,t){return ca(e,P(t,2))}function mg(e){return e&&e.length?Er(e,Xe,Wi):u}function _g(e,t){return e&&e.length?Er(e,P(t,2),Wi):u}var xg=Br(function(e,t){return e*t},1),bg=Xi("round"),wg=Br(function(e,t){return e-t},0);function yg(e){return e&&e.length?Si(e,Xe):0}function Sg(e,t){return e&&e.length?Si(e,P(t,2)):0}return l.after=H0,l.ary=Pu,l.assign=$h,l.assignIn=Xu,l.assignInWith=Yr,l.assignWith=Mh,l.at=Oh,l.before=Fu,l.bind=sl,l.bindAll=Wp,l.bindKey=Vu,l.castArray=rh,l.chain=Mu,l.chunk=dd,l.compact=hd,l.concat=pd,l.cond=Up,l.conforms=Np,l.constant=gl,l.countBy=y0,l.create=Bh,l.curry=Wu,l.curryRight=Uu,l.debounce=Nu,l.defaults=Ph,l.defaultsDeep=Fh,l.defer=q0,l.delay=K0,l.difference=gd,l.differenceBy=vd,l.differenceWith=md,l.drop=_d,l.dropRight=xd,l.dropRightWhile=bd,l.dropWhile=wd,l.fill=yd,l.filter=A0,l.flatMap=C0,l.flatMapDeep=E0,l.flatMapDepth=L0,l.flatten=Lu,l.flattenDeep=Sd,l.flattenDepth=Ad,l.flip=Y0,l.flow=Gp,l.flowRight=zp,l.fromPairs=Id,l.functions=zh,l.functionsIn=Hh,l.groupBy=R0,l.initial=Cd,l.intersection=Ed,l.intersectionBy=Ld,l.intersectionWith=Rd,l.invert=Kh,l.invertBy=Yh,l.invokeMap=$0,l.iteratee=vl,l.keyBy=M0,l.keys=Oe,l.keysIn=Ze,l.map=kr,l.mapKeys=Xh,l.mapValues=Jh,l.matches=Hp,l.matchesProperty=qp,l.memoize=zr,l.merge=Qh,l.mergeWith=Ju,l.method=Kp,l.methodOf=Yp,l.mixin=ml,l.negate=Hr,l.nthArg=Xp,l.omit=jh,l.omitBy=ep,l.once=Z0,l.orderBy=O0,l.over=Jp,l.overArgs=X0,l.overEvery=Qp,l.overSome=jp,l.partial=ol,l.partialRight=ku,l.partition=B0,l.pick=tp,l.pickBy=Qu,l.property=ls,l.propertyOf=eg,l.pull=Od,l.pullAll=Du,l.pullAllBy=Bd,l.pullAllWith=Pd,l.pullAt=Fd,l.range=tg,l.rangeRight=ng,l.rearg=J0,l.reject=V0,l.remove=Vd,l.rest=Q0,l.reverse=al,l.sampleSize=U0,l.set=rp,l.setWith=ip,l.shuffle=N0,l.slice=Wd,l.sortBy=z0,l.sortedUniq=qd,l.sortedUniqBy=Kd,l.split=Cp,l.spread=j0,l.tail=Yd,l.take=Zd,l.takeRight=Xd,l.takeRightWhile=Jd,l.takeWhile=Qd,l.tap=h0,l.throttle=eh,l.thru=Nr,l.toArray=Ku,l.toPairs=ju,l.toPairsIn=es,l.toPath=ug,l.toPlainObject=Zu,l.transform=lp,l.unary=th,l.union=jd,l.unionBy=e0,l.unionWith=t0,l.uniq=n0,l.uniqBy=r0,l.uniqWith=i0,l.unset=ap,l.unzip=ul,l.unzipWith=$u,l.update=up,l.updateWith=sp,l.values=An,l.valuesIn=op,l.without=l0,l.words=rs,l.wrap=nh,l.xor=a0,l.xorBy=u0,l.xorWith=s0,l.zip=o0,l.zipObject=f0,l.zipObjectDeep=c0,l.zipWith=d0,l.entries=ju,l.entriesIn=es,l.extend=Xu,l.extendWith=Yr,ml(l,l),l.add=og,l.attempt=is,l.camelCase=hp,l.capitalize=ts,l.ceil=fg,l.clamp=fp,l.clone=ih,l.cloneDeep=ah,l.cloneDeepWith=uh,l.cloneWith=lh,l.conformsTo=sh,l.deburr=ns,l.defaultTo=kp,l.divide=cg,l.endsWith=pp,l.eq=_t,l.escape=gp,l.escapeRegExp=vp,l.every=S0,l.find=I0,l.findIndex=Cu,l.findKey=Vh,l.findLast=T0,l.findLastIndex=Eu,l.findLastKey=Wh,l.floor=dg,l.forEach=Ou,l.forEachRight=Bu,l.forIn=Uh,l.forInRight=Nh,l.forOwn=kh,l.forOwnRight=Gh,l.get=dl,l.gt=oh,l.gte=fh,l.has=qh,l.hasIn=hl,l.head=Ru,l.identity=Xe,l.includes=D0,l.indexOf=Td,l.inRange=cp,l.invoke=Zh,l.isArguments=ln,l.isArray=K,l.isArrayBuffer=ch,l.isArrayLike=Ye,l.isArrayLikeObject=Ce,l.isBoolean=dh,l.isBuffer=Kt,l.isDate=hh,l.isElement=ph,l.isEmpty=gh,l.isEqual=vh,l.isEqualWith=mh,l.isError=fl,l.isFinite=_h,l.isFunction=Ot,l.isInteger=Gu,l.isLength=qr,l.isMap=zu,l.isMatch=xh,l.isMatchWith=bh,l.isNaN=wh,l.isNative=yh,l.isNil=Ah,l.isNull=Sh,l.isNumber=Hu,l.isObject=Ie,l.isObjectLike=Te,l.isPlainObject=Yn,l.isRegExp=cl,l.isSafeInteger=Ih,l.isSet=qu,l.isString=Kr,l.isSymbol=et,l.isTypedArray=Sn,l.isUndefined=Th,l.isWeakMap=Ch,l.isWeakSet=Eh,l.join=Dd,l.kebabCase=mp,l.last=ft,l.lastIndexOf=$d,l.lowerCase=_p,l.lowerFirst=xp,l.lt=Lh,l.lte=Rh,l.max=hg,l.maxBy=pg,l.mean=gg,l.meanBy=vg,l.min=mg,l.minBy=_g,l.stubArray=xl,l.stubFalse=bl,l.stubObject=rg,l.stubString=ig,l.stubTrue=lg,l.multiply=xg,l.nth=Md,l.noConflict=Zp,l.noop=_l,l.now=Gr,l.pad=bp,l.padEnd=wp,l.padStart=yp,l.parseInt=Sp,l.random=dp,l.reduce=P0,l.reduceRight=F0,l.repeat=Ap,l.replace=Ip,l.result=np,l.round=bg,l.runInContext=c,l.sample=W0,l.size=k0,l.snakeCase=Tp,l.some=G0,l.sortedIndex=Ud,l.sortedIndexBy=Nd,l.sortedIndexOf=kd,l.sortedLastIndex=Gd,l.sortedLastIndexBy=zd,l.sortedLastIndexOf=Hd,l.startCase=Ep,l.startsWith=Lp,l.subtract=wg,l.sum=yg,l.sumBy=Sg,l.template=Rp,l.times=ag,l.toFinite=Bt,l.toInteger=X,l.toLength=Yu,l.toLower=Dp,l.toNumber=ct,l.toSafeInteger=Dh,l.toString=oe,l.toUpper=$p,l.trim=Mp,l.trimEnd=Op,l.trimStart=Bp,l.truncate=Pp,l.unescape=Fp,l.uniqueId=sg,l.upperCase=Vp,l.upperFirst=pl,l.each=Ou,l.eachRight=Bu,l.first=Ru,ml(l,function(){var e={};return yt(l,function(t,n){de.call(l.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),l.VERSION=T,lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),lt(["drop","take"],function(e,t){ee.prototype[e]=function(n){n=n===u?1:Me(X(n),0);var r=this.__filtered__&&!t?new ee(this):this.clone();return r.__filtered__?r.__takeCount__=Ue(n,r.__takeCount__):r.__views__.push({size:Ue(n,_e),type:e+(r.__dir__<0?"Right":"")}),r},ee.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),lt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==M||n==ge;ee.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:P(i,3),type:n}),a.__filtered__=a.__filtered__||r,a}}),lt(["head","last"],function(e,t){var n="take"+(t?"Right":"");ee.prototype[e]=function(){return this[n](1).value()[0]}}),lt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ee.prototype[e]=function(){return this.__filtered__?new ee(this):this[n](1)}}),ee.prototype.compact=function(){return this.filter(Xe)},ee.prototype.find=function(e){return this.filter(e).head()},ee.prototype.findLast=function(e){return this.reverse().find(e)},ee.prototype.invokeMap=Q(function(e,t){return typeof e=="function"?new ee(this):this.map(function(n){return kn(n,e,t)})}),ee.prototype.reject=function(e){return this.filter(Hr(P(e)))},ee.prototype.slice=function(e,t){e=X(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ee(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==u&&(t=X(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ee.prototype.toArray=function(){return this.take(_e)},yt(ee.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=l[r?"take"+(t=="last"?"Right":""):t],a=r||/^find/.test(t);i&&(l.prototype[t]=function(){var s=this.__wrapped__,o=r?[1]:arguments,d=s instanceof ee,g=o[0],v=d||K(s),x=function(j){var ne=i.apply(l,Ut([j],o));return r&&y?ne[0]:ne};v&&n&&typeof g=="function"&&g.length!=1&&(d=v=!1);var y=this.__chain__,$=!!this.__actions__.length,F=a&&!y,J=d&&!$;if(!a&&v){s=J?s:new ee(this);var V=e.apply(s,o);return V.__actions__.push({func:Nr,args:[x],thisArg:u}),new ut(V,y)}return F&&J?e.apply(this,o):(V=this.thru(x),F?r?V.value()[0]:V.value():V)})}),lt(["pop","push","shift","sort","splice","unshift"],function(e){var t=hr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(K(a)?a:[],i)}return this[n](function(s){return t.apply(K(s)?s:[],i)})}}),yt(ee.prototype,function(e,t){var n=l[t];if(n){var r=n.name+"";de.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}}),_n[Or(u,L).name]=[{name:"wrapper",func:u}],ee.prototype.clone=Ff,ee.prototype.reverse=Vf,ee.prototype.value=Wf,l.prototype.at=p0,l.prototype.chain=g0,l.prototype.commit=v0,l.prototype.next=m0,l.prototype.plant=x0,l.prototype.reverse=b0,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=w0,l.prototype.first=l.prototype.head,Bn&&(l.prototype[Bn]=_0),l},gn=vf();Xt?((Xt.exports=gn)._=gn,vi._=gn):Pe._=gn}).call(Xn)})(Qr,Qr.exports);var zv=Qr.exports;const Hv=m("div",{class:"h-10 bg-gray-600 rounded-md",style:{width:"6px"}},null,-1),qv=[Hv],Kv={class:"absolute left-8 right-2 top-2 z-10"},Yv={key:0},Zv={key:0,class:"flex flex-col absolute left-8 right-2 bottom-2 z-10 space-y-1"},Xv={key:1,class:"flex justify-between absolute left-8 right-2 bottom-2 z-10"},Jv={class:"w-64 space-y-1"},Qv={class:"flex items-end justify-end w-64"},jv="Aerial",e1="Ak2gN0iZ3d02J-xwYSYgRp8oHFZCOneWeg_Hj7C2ZntIKTXCGc0HXVQ8GHkuxp17",t1=We({__name:"ActivityFormMapViewer",props:{openMapView:{},splittedView:{type:Boolean},updateWaterBalanceValue:{},selectedPlots:{}},emits:["toggle-splitted-view","on-map-view-update"],setup(f,{emit:w}){const u=new Rg({visible:!0,preload:1/0,source:new Dg({key:e1,imagerySet:jv})}),T=$g(),{map:S,mapRef:b,padding:R}=Mg(),C=[{parcelId:2,image:iv,coordX:.53,coordY:.48,scale:14},{parcelId:3,image:lv,coordX:.55,coordY:.51,scale:14}],I=H(Og),re=H(zv.cloneDeep(hs)),q=H(I.value.map(M=>({parcelId:M.parcel_id,ndvi:Math.floor(Math.random()*3)}))),O=new Bg;let Be=null;const Le=new Pg,De=[{id:"plot",text:"Appezzamenti"},{id:"ndvi",text:"NDVI"},{id:"waterBalance",text:"Bilancio idrico"},{id:"prescriptionMap",text:"Mappa di prescrizione"}],A=H("plot");se(()=>De.find(M=>M.id===A.value)?.text);const _=H(!1);function L(M){A.value=M,_.value=!1}const U=H(!0);bt(()=>f.openMapView,()=>{f.openMapView&&L(f.openMapView)}),bt(()=>[U.value,A.value],()=>{w("on-map-view-update"),ye(),qe(),A.value==="prescriptionMap"&&ht()}),bt(()=>f.splittedView,()=>{ye(),setTimeout(()=>{qe()},500)}),bt(()=>f.updateWaterBalanceValue,()=>{re.value.filter(M=>f.selectedPlots.find(W=>W===M.parcelId)).forEach(M=>{const W=hs.find(ge=>ge.parcelId===M.parcelId)?.value;W&&(M.value=W+f.updateWaterBalanceValue)}),A.value==="waterBalance"&&(ye(),qe())});const fe=se(()=>{switch(A.value){case"plot":return(U.value?I.value.filter(M=>f.selectedPlots.find(W=>W===M.parcel_id)):I.value).map(M=>({id:M.parcel_id,name:M.name,value:M.area,measure:"ha"}));case"ndvi":return(U.value?q.value.filter(M=>f.selectedPlots.find(W=>W===M.parcelId)):q.value).map(M=>({id:M.parcelId,name:I.value.find(W=>W.parcel_id===M.parcelId)?.name??"",value:M.ndvi}));case"waterBalance":return(U.value?re.value.filter(M=>f.selectedPlots.find(W=>W===M.parcelId)):re.value).map(M=>({id:M.parcelId,name:I.value.find(W=>W.parcel_id===M.parcelId)?.name??"",value:M.value,measure:"mm"}));default:return[]}});Yt(async()=>{b.value&&(S.setTarget(b.value),b.value.addEventListener("mouseleave",le),await new Promise(M=>setTimeout(M,500))),ye(),S.getLayers().clear(),await ce(),qe()});async function ce(){S.addLayer(u)}Eg(()=>{ye()});function le(){T.emit("hover:map",[])}function Re(M){const W=kg();return M.forEach(ge=>{const ae=ge.getGeometry();ae&&Ng(W,ae.getExtent())}),W}function ye(){S.getLayers().getArray().filter(W=>W instanceof yl).forEach(W=>{S.removeLayer(W)}),O.getLength()&&O.clear()}function qe(){const M=[];(U.value?I.value.filter(Ae=>f.selectedPlots.find(te=>te===Ae.parcel_id)):I.value).forEach(Ae=>{const te=Le.readFeature(Ae.world_geom);te.setProperties({ref:Ae.parcel_id,type:"parcel",parcel_id:Ae.parcel_id}),O.push(te),M.push(te)}),Be=new us({features:M});const ge=new ss({distance:0,source:Be,geometryFunction:Tt}),ae=new yl({source:ge,style:Se,properties:{name:"parcelLayer",ref:os.VECTOR,id:"parcel"},renderBuffer:500});S.addLayer(ae),ae.setZIndex(900);const ie=Re(O.getArray());N(ie)}function ht(){const M=[];(U.value?I.value.filter(Ae=>f.selectedPlots.find(te=>te===Ae.parcel_id)):I.value).forEach(Ae=>{if(C.find(te=>te.parcelId===Ae.parcel_id)){const te=Le.readFeature(Ae.world_geom);te.setProperties({ref:"pmap_"+Ae.parcel_id,type:"pmap",parcel_id:Ae.parcel_id}),O.push(te),M.push(te)}});const ge=new us({features:M}),ae=new ss({distance:0,source:ge,geometryFunction:Tt}),ie=new yl({source:ae,style:Z,properties:{name:"pmapLayer",ref:os.VECTOR,id:"pmap"},renderBuffer:500});ie.on("prerender",Ae=>{const te=Ae.context;te.imageSmoothingEnabled=!1;const _e=te;_e.webkitImageSmoothingEnabled=!1,_e.mozImageSmoothingEnabled=!1,_e.msImageSmoothingEnabled=!1}),S.addLayer(ie),ie.setZIndex(700)}const Se=M=>{const W=M.get("features");if(W!==void 0){const ae=M.get("features")[0].getGeometry().getCoordinates(),ie=re.value.find(Tn=>Tn.parcelId===W[0].values_.parcel_id),Ae=q.value.find(Tn=>Tn.parcelId===W[0].values_.parcel_id);let te=rt("color-bg-100",1),_e=rt("color-bg-100",0),Zt=rt("color-bg-900",1),jr=rt("color-bg-100",1);return ie&&A.value==="waterBalance"?(ie.value<20&&(te=rt("red-400",1),_e=rt("red-400",.3),Zt=rt("red-700",1)),ie.value>=20&&ie.value<40&&(te=rt("orange-400",1),_e=rt("orange-400",.3),Zt=rt("orange-700",1)),ie.value>=40&&(te=rt("green-400",1),_e=rt("green-400",.3),Zt=rt("green-700",1))):Ae&&A.value==="ndvi"&&(Ae.ndvi===0&&(te="#ecb225",_e="#ecb225"),Ae.ndvi===1&&(te="#f8fb00",_e="#f8fb00"),Ae.ndvi===2&&(te="#5cbf00",_e="#5cbf00")),new fs({stroke:new cs({color:te,width:2}),fill:new Sl({color:_e}),text:ie&&A.value==="waterBalance"&&f.splittedView?new Fg({text:ie.value.toString(),fill:new Sl({color:jr}),font:"bold 13px Work Sans",backgroundFill:new Sl({color:Zt}),backgroundStroke:new cs({color:Zt,width:6}),padding:[4,6,4,7]}):void 0,geometry:new ds(ae)})}},Z=M=>{const W=M.get("features");if(W!==void 0){const ae=M.get("features")[0].getGeometry().getCoordinates(),Ae=new ds(ae).getInteriorPoint().getCoordinates(),te=C.find(_e=>_e.parcelId===W[0].values_.parcel_id);if(te)return new fs({image:new Vg({scale:te.scale,anchor:[te.coordX,te.coordY],anchorXUnits:"fraction",anchorYUnits:"fraction",src:te.image}),geometry:new Al(Ae)})}};function N(M){S.getView().fit(M,{padding:[120,50,120,50],easing:Wg,duration:1e3})}function Tt(M){const W=M.getGeometry();return W?new Al(Ug(W.getExtent())):new Al([0])}return(M,W)=>(D(),z("div",{ref_key:"mapRef",ref:b,class:"relative h-full w-full"},[m("div",{onClick:W[0]||(W[0]=ge=>w("toggle-splitted-view")),class:"absolute top-0 left-0 bottom-0 z-10 bg-bg-100 flex items-center justify-center h-full w-6 cursor-pointer rounded-r-xl hover:bg-gray-100 transition-colors-default"},qv),m("div",Kv,[B(Vt,{"enter-active-class":"transition duration-300 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100",mode:"out-in"},{default:G(()=>[M.splittedView?(D(),Ve(Cv,{key:1,tabs:De,modelValue:A.value,"onUpdate:modelValue":W[2]||(W[2]=ge=>A.value=ge)},null,8,["modelValue"])):(D(),z("div",Yv,[B(Av,{id:"nfim-1",modelValue:A.value,"onUpdate:modelValue":W[1]||(W[1]=ge=>A.value=ge),items:De.map(ge=>({id:ge.id,label:ge.text}))},null,8,["modelValue","items"])]))]),_:1})]),B(Vt,{"enter-active-class":"transition duration-300 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100",mode:"out-in"},{default:G(()=>[M.splittedView?(D(),z("div",Xv,[m("div",Jv,[A.value==="ndvi"||A.value==="waterBalance"?(D(),Ve(Nv,{key:0,list:fe.value},null,8,["list"])):we("",!0),A.value==="ndvi"?(D(),Ve(Xr,{key:1,rangeMin:"Basso",rangeMax:"Alto",measure:"index",noRangeMid:"",isNdvi:""})):A.value==="waterBalance"?(D(),Ve(Xr,{key:2,rangeMin:"0",rangeMid:"30",rangeMax:"60",measure:"mm"})):we("",!0)]),m("div",Qv,[B(ms,{id:"nfim-2",modelValue:U.value,"onUpdate:modelValue":W[4]||(W[4]=ge=>U.value=ge)},null,8,["modelValue"])])])):(D(),z("div",Zv,[B(ms,{id:"nfim-2",modelValue:U.value,"onUpdate:modelValue":W[3]||(W[3]=ge=>U.value=ge)},null,8,["modelValue"]),A.value==="ndvi"?(D(),Ve(Xr,{key:0,rangeMin:"Basso",rangeMax:"Alto",measure:"index",noRangeMid:"",isNdvi:""})):A.value==="waterBalance"?(D(),Ve(Xr,{key:1,rangeMin:"0",rangeMid:"30",rangeMax:"60",measure:"mm"})):we("",!0)]))]),_:1})],512))}});const n1=m("span",{class:"py-6 text-info-700 font-semibold text-2xl font-serif"},"Nuova attività",-1),r1={class:"flex pt-6 w-full"},i1={role:"list",class:"space-y-6 w-full pr-6"},l1={class:"flex items-center relative"},a1={key:0,class:"flex flex-col space-y-2 divide-border w-full pt-3 font-normal pl-14"},u1={key:0,class:"flex w-full justify-between"},s1=m("span",{class:"text-sm text-gray-500"},"Attività selezionata",-1),o1={class:"text-sm"},f1={class:"text-sm text-gray-500"},c1={class:"text-sm"},d1={class:"flex w-full justify-between"},h1=m("span",{class:"text-sm text-gray-500"},"Giorno",-1),p1={class:"text-sm"},g1={class:"flex w-full justify-between"},v1=m("span",{class:"text-sm text-gray-500"},"Ora",-1),m1={class:"text-sm"},_1={class:"flex w-full justify-between"},x1=m("span",{class:"text-sm text-gray-500"},"Irrigazione",-1),b1={class:"text-sm"},w1={class:"flex w-full justify-between"},y1=m("span",{class:"text-sm text-gray-500"},"Irrigazione",-1),S1={class:"text-sm"},_s=We({__name:"resume",props:{curStep:{},basicTheme:{type:Boolean},plotData:{}},setup(f){const w=H([{id:"category",name:"Categoria",icon:"fa-tag",href:"#",status:"completed"},{id:"plot",name:"Appezzamenti",icon:"fa-map-location-dot",href:"#",status:"completed"},{id:"time",name:"Pianificazione",icon:"fa-calendar",href:"#",status:"current"},{id:"irrigation",name:"Irrigazione",icon:"fa-droplet",href:"#",status:"upcoming"},{id:"resources",name:"Risorse",icon:"fa-tractor",href:"#",status:"upcoming"}]);bt(()=>f.curStep,R=>{w.value.forEach((C,I)=>{I<R?C.status="completed":I===R?C.status="current":C.status="upcoming"})});const u=H({type:"Irrigazione"}),T=H({day:new Date,hour:"8:00 - 18.00"}),S=H({type:"A goccia",quantity:"4.50 m3"});H(null);function b(R,C){return new av(R).format(C)}return(R,C)=>(D(),z("div",{class:me(["flex flex-col flex-grow h-full pb-6 px-6 overflow-auto",R.basicTheme?"":"activity-resume-container"])},[n1,m("nav",r1,[m("ol",i1,[(D(!0),z(wt,null,sn(w.value,I=>(D(),z("li",{key:I.name,class:me(["flex flex-col group rounded-xl p-4",R.basicTheme?"bg-gray-50":"bg-bg-100/50"])},[m("div",l1,[m("span",{class:me(["flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full",[I.status==="completed"?"bg-green-400/10":I.status==="current"?"bg-green-600":"bg-green-400/10"]])},[m("i",{class:me(["fal",[I.status==="completed"?"text-green-600":I.status==="current"?"text-green-50":"text-green-600",I.icon]]),style:{"font-size":"14px"}},null,2)],2),m("span",{class:me(["ml-5 font-medium text-sm",[(I.status==="completed"||I.status==="current","text-green-700")]])},be(I.name),3),I.status==="completed"?(D(),Ve(Y(rv),{key:0,class:"h-6 w-6 text-green-700 absolute top-0 right-0","aria-hidden":"true"})):we("",!0)]),I.status==="completed"?(D(),z("div",a1,[I.id==="category"?(D(),z("div",u1,[s1,m("span",o1,be(u.value.type),1)])):we("",!0),I.id==="plot"?(D(!0),z(wt,{key:1},sn(R.plotData,re=>(D(),z("div",{key:re.plotId,class:"flex w-full justify-between"},[m("span",f1,be(re.plotName),1),m("span",c1,be(re.plotArea+" ha"),1)]))),128)):we("",!0),I.id==="time"?(D(),z(wt,{key:2},[m("div",d1,[h1,m("span",p1,be(b(T.value.day,"dd/MM")),1)]),m("div",g1,[v1,m("span",m1,be(T.value.hour),1)])],64)):we("",!0),I.id==="irrigation"?(D(),z(wt,{key:3},[m("div",_1,[x1,m("span",b1,be(S.value.type),1)]),m("div",w1,[y1,m("span",S1,be(S.value.type),1)])],64)):we("",!0)])):we("",!0)],2))),128))])])],2))}}),A1={class:"text-sm font-medium text-gray-900"},I1={class:"text-sm font-medium text-gray-900"},Cl=We({__name:"BfFormToggle",props:{modelValue:{type:Boolean},isDisabled:{type:Boolean,default:!1},isMinimal:{type:Boolean,default:!1},isLeft:{type:Boolean,default:!1},isRight:{type:Boolean,default:!1},id:{},label:{},state:{type:[Boolean,null],default:null}},emits:["blur","focus","update:modelValue","change"],setup(f,{emit:w}){const u=se({get(){return f.modelValue},set(T){w("update:modelValue",T)}});return se(()=>{let T=`field-${f.id}_message_description`;return f.state===!1&&f.state!==null&&(T+=` field-${f.id}_message_invalid`),f.state===!0&&f.state!==null&&(T+=` field-${f.id}_message_valid`),T}),se(()=>({"bf-form-toggle-invalid":f.state===!1&&f.state!==null,"bf-form-toggle-valid":f.state===!0&&f.state!==null,"bf-form-toggle-no-validation":f.state===!0&&f.state!==null,"bf-form-toggle-enabled":!f.isDisabled,"bf-form-toggle-disabled":f.isDisabled,"bf-form-toggle-is-minimal":f.isMinimal,"hover:border-gray-400 focus:border-gray-400 bf-form-toggle-focusable":!f.isDisabled,"border-gray-300 hover:border-gray-400 text-blue-600 focus:ring-blue-500":f.state===null,"border-red-300 hover:border-red-400 focus:border-red-400 focus:ring-red-500":!f.isDisabled&&f.state===!1&&f.state!==null,"border-green-300 hover:border-green-400 focus:border-green-400 focus:ring-green-500":!f.isDisabled&&f.state===!0&&f.state!==null,"bg-bg-100 cursor-pointer":!f.isDisabled,"bg-bg-500 text-label effect-on-disabled":f.isDisabled,"bf-form-toggle-checked":u.value===!0,"bf-form-toggle-not-checked":u.value===!1})),se(()=>({"effect-on-hover":!f.isDisabled,"text-label":f.isDisabled,"text-danger-600":f.state===!1&&f.state!==null,"text-green-600":f.state===!0&&f.state!==null})),(T,S)=>(D(),z("div",null,[B(Y(Ms),{as:"div",class:"flex items-center"},{default:G(()=>[T.label&&T.isRight?(D(),Ve(Y(Tl),{key:0,as:"span",class:"mr-3"},{default:G(()=>[m("span",A1,be(T.label),1)]),_:1})):we("",!0),B(Y(Os),{modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=b=>u.value=b),class:me([u.value?"bg-blue-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"])},{default:G(()=>[m("span",{"aria-hidden":"true",class:me([u.value?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-bg-100 shadow transform ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"]),T.label&&T.isLeft?(D(),Ve(Y(Tl),{key:1,as:"span",class:"ml-3"},{default:G(()=>[m("span",I1,be(T.label),1)]),_:1})):we("",!0)]),_:1})]))}}),T1={class:"flex flex-col flex-grow h-full pb-6 px-6 overflow-auto"},C1=m("span",{class:"py-6 text-info-700 font-semibold text-2xl font-serif"},"Pianificazione",-1),E1={class:"w-full"},L1={class:"mb-4 flex w-full justify-end"},R1={class:"rounded-lg border p-4 pb-2 w-full"},D1={class:"flex w-full justify-between border-b pb-4"},$1={class:"flex w-6/12 space-x-2"},M1={class:"flex w-6/12 justify-end"},O1={class:"w-full pt-4"},B1=m("div",{class:"grid grid-cols-7 text-center text-xs leading-6 text-gray-500"},[m("div",null,"L"),m("div",null,"M"),m("div",null,"M"),m("div",null,"G"),m("div",null,"V"),m("div",null,"S"),m("div",null,"D")],-1),P1={class:"mt-2 grid grid-cols-7 text-sm"},F1=["onClick"],V1=["datetime"],W1={class:"pt-4"},U1=m("i",{class:"fa-light fa-arrow-turn-down-right mt-1"},null,-1),N1=m("i",{class:"fa-light fa-arrow-turn-down-left mt-1"},null,-1),k1=We({__name:"formBase",props:{splittedView:{type:Boolean},plotData:{}},emits:["open-next-step"],setup(f,{emit:w}){bs(),ws();const u=ys(),T=H(!1),S=H(!1),b=H(!1),R=H(""),C=H(!1),I={startDate:new Date,endDate:null,startHour:null,endHour:null},re=As({startDate:un().nullable(!0).required(),endDate:un().nullable(!0),startHour:un().nullable(!0),endHour:un().nullable(!0)}),{handleSubmit:q,resetForm:O,setValues:Be,setFieldValue:Le,errors:De}=Is({initialValues:I,validationSchema:re});Ft("startDate"),Ft("endDate"),Ft("startHour"),Ft("endHour");const A=new Date,_=H(A.getMonth()),L=H(A.getFullYear()),U=[{id:0,label:"Gennaio"},{id:1,label:"Febbraio"},{id:2,label:"Marzo"},{id:3,label:"Aprile"},{id:4,label:"Maggio"},{id:5,label:"Giugno"},{id:6,label:"Luglio"},{id:7,label:"Agosto"},{id:8,label:"Settembre"},{id:9,label:"Ottobre"},{id:10,label:"Novembre"},{id:11,label:"Dicembre"}],fe=[{id:2021,label:"2021"},{id:2022,label:"2022"},{id:2023,label:"2023"},{id:2024,label:"2024"},{id:2025,label:"2025"}],ce=H([]);Yt(()=>{const Se=new Date(L.value,_.value+1,0).getDate(),Z=[];for(let ae=1;ae<=Se;ae++){const ie=new Date(L.value,_.value,ae);Z.push({date:ie.toISOString().split("T")[0],isCurrentMonth:!0,isToday:ie.toISOString().split("T")[0]===A.toISOString().split("T")[0],isSelected:ie.toISOString().split("T")[0]===A.toISOString().split("T")[0]})}const N=new Date(L.value,_.value,1).getDay(),Tt=new Date(L.value,_.value,Se).getDay(),M=N===0?6:N-1,W=Tt===0?0:7-Tt,ge=new Date(L.value,_.value,0).getDate();new Date(L.value,_.value+1,0).getDate();for(let ae=1;ae<=M;ae++){const ie=new Date(L.value,_.value-1,ge-ae+1);Z.unshift({date:ie.toISOString().split("T")[0],isCurrentMonth:!1,isToday:ie.toISOString().split("T")[0]===A.toISOString().split("T")[0],isSelected:!1})}for(let ae=1;ae<=W;ae++){const ie=new Date(L.value,_.value+1,ae);Z.push({date:ie.toISOString().split("T")[0],isCurrentMonth:!1,isToday:ie.toISOString().split("T")[0]===A.toISOString().split("T")[0],isSelected:!1})}ce.value=Z});function le(Se){ce.value.forEach(Z=>{Z.isSelected=!1}),Se.isSelected=!0,Le("startDate",Se.date)}function Re(){_.value===11?(_.value=0,L.value++):_.value++}function ye(){_.value===0?(_.value=11,L.value--):_.value--}const qe=q(async Se=>{S.value=!0,b.value=!1,T.value=!1;try{S.value=!1,T.value=!0,w("open-next-step")}catch(Z){b.value=!0,u.error(Z.message),R.value=Z.message,S.value=!1}});function ht(Se){O()}return(Se,Z)=>(D(),z("div",T1,[C1,m("div",{class:me(["w-full pt-8 px-0 sm:px-4 mx-auto",Se.splittedView?"md:w-full lg:w-full xl:w-full 2xl:w-10/12":"md:w-full lg:w-full xl:w-10/12 2xl:w-8/12"])},[m("div",E1,[B(Ts,{onSubmit:Y(qe),onReset:ht,ref:"form"},{default:G(()=>[m("div",L1,[B(Cl,{id:"nfb-0",modelValue:C.value,"onUpdate:modelValue":Z[0]||(Z[0]=N=>C.value=N),label:"Multigiorno","is-right":""},null,8,["modelValue"])]),m("div",R1,[m("div",D1,[m("div",$1,[B(jn,{id:"nfb-1",class:"w-6/12",modelValue:_.value,"onUpdate:modelValue":Z[1]||(Z[1]=N=>_.value=N),items:U},null,8,["modelValue"]),B(jn,{id:"nfb-2",class:"w-6/12",modelValue:L.value,"onUpdate:modelValue":Z[2]||(Z[2]=N=>L.value=N),items:fe},null,8,["modelValue"])]),m("div",M1,[B(gs,{onClick:ye,isSecondary:!0,class:"btn-fixed-small",tooltip:"Precedente"},{default:G(()=>[B(Y(hv),{class:"absolute w-6 h-6"})]),_:1}),B(gs,{onClick:Re,isSecondary:!0,class:"btn-fixed-small",tooltip:"Successivo"},{default:G(()=>[B(Y(pv),{class:"absolute w-6 h-6"})]),_:1})])]),m("div",O1,[B1,m("div",P1,[(D(!0),z(wt,null,sn(ce.value,(N,Tt)=>(D(),z("div",{key:N.date,class:me([Tt>6&&"border-t","py-2"])},[m("button",{onClick:M=>le(N),type:"button",class:me([N.isSelected&&"text-text-opposite",!N.isSelected&&N.isToday&&"text-green-500",!N.isSelected&&!N.isToday&&N.isCurrentMonth&&"text-gray-900",!N.isSelected&&!N.isToday&&!N.isCurrentMonth&&"text-gray-400",N.isSelected&&"bg-blue-600",!N.isSelected&&"hover:bg-blue-100",(N.isSelected||N.isToday)&&"font-bold","mx-auto flex h-8 w-8 items-center justify-center rounded-full transition-colors"])},[m("time",{datetime:N.date},be(N.date.split("-").pop().replace(/^0/,"")),9,V1)],10,F1)],2))),128))])])]),m("div",W1,[B(er,{"is-submit":"","is-loading":S.value,disabled:S.value,"is-info":"",class:"mr-2"},{icon:G(()=>[U1]),default:G(()=>[an(" Avanti ")]),_:1},8,["is-loading","disabled"]),B(er,{onClick:ht,disabled:S.value,"is-outlined":"","is-secondary":""},{icon:G(()=>[N1]),default:G(()=>[an(" Indietro ")]),_:1},8,["disabled"])])]),_:1},8,["onSubmit"])])],2)]))}}),G1={class:"flex flex-col flex-grow h-full pb-6 px-6 overflow-auto"},z1=m("span",{class:"py-6 text-info-700 font-semibold text-2xl font-serif"},"Irrigazione",-1),H1={class:"w-full"},q1={class:"flex w-full px-2 mb-6 overflow-hidden",style:{height:"180px"}},K1={key:0,class:"flex w-full"},Y1={class:"flex w-6/12 pr-2"},Z1={class:"bg-gray-100 rounded-lg w-full"},X1={class:"px-4 py-5 sm:p-6"},J1=m("h3",{class:"text-base font-semibold leading-6 text-gray-900"}," Usa mappa di prescrizione ",-1),Q1=m("div",{class:"mt-2 max-w-xl text-sm text-gray-500"},[m("p",null," Crea una mappa di prescrizione per i macchinari e usa i dosaggi preimpostati ")],-1),j1={class:"mt-5 flex items-end"},em={class:"flex w-6/12 pl-2"},tm={class:"border rounded-lg w-full"},nm={class:"px-4 py-5 sm:p-6"},rm=m("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Esplora mappa",-1),im=m("div",{class:"mt-2 max-w-xl text-sm text-gray-500"},[m("p",null," Visualizza i dati sul bilancio idrico in modo intuitivo e approfondito ")],-1),lm={class:"mt-5"},am=m("i",{class:"fa-regular fa-map"},null,-1),um={key:1,class:"flex w-full"},sm={class:"bg-gray-100 rounded-lg w-full"},om={class:"px-4 py-5 sm:p-6"},fm=m("h3",{class:"text-base font-semibold leading-6 text-gray-900"}," Usa mappa di prescrizione ",-1),cm=m("div",{class:"mt-2 max-w-xl text-sm text-gray-500"},[m("p",null," Crea una mappa di prescrizione per i macchinari e usa i dosaggi preimpostati ")],-1),dm={class:"mt-5 flex items-end"},hm={class:"flex w-full"},pm={class:"pt-4 px-2"},gm=m("i",{class:"fa-light fa-floppy-disk"},null,-1),vm=m("i",{class:"fa-light fa-arrow-turn-down-left"},null,-1),mm=We({__name:"formIrrigation",props:{splittedView:{type:Boolean},plotData:{}},emits:["open-water-balance-view","open-prescription-map-view","update-water-balance","open-previous-step"],setup(f,{emit:w}){const u=bs();ws();const T=ys(),S=H(!1),b=H(!1),R=H(!1),C=H(""),I=H(!1);bt(I,Se=>{Se&&Ss(()=>{L("quantity",36),L("measure","mm-mq"),L("area",.8252),w("open-prescription-map-view")})});const re=[{id:"drop",label:"Goccia"},{id:"scroll",label:"Scorrimento"},{id:"submersion",label:"Sommersione"},{id:"sprinkling",label:"Aspersione"},{id:"infiltration",label:"Infiltrazione laterale"}],q=[{id:"well",label:"Pozzo"},{id:"watercourse",label:"Corso idrico"},{id:"reservoir",label:"Serbatoio"}],O=[{id:"mm-mq",label:"mm/mq"},{id:"m3-ha",label:"m3/ha"}],Be={irrigationType:"",waterType:"",quantity:null,area:.8252,measure:"mm-mq"},Le=As({irrigationType:un().nullable(!0).required(),waterType:un().nullable(!0).required(),quantity:ps().nullable(!0).required().positive().test("maxDigitsAfterDecimal","validate-max-two-decimals",Se=>!Se||new RegExp(/^\d+(\.\d{1,2})?$/).test(Se+"")),area:ps().nullable(!0).required().positive(),measure:un().nullable(!0).required()}),{handleSubmit:De,resetForm:A,setValues:_,setFieldValue:L,errors:U}=Is({initialValues:Be,validationSchema:Le}),{value:fe}=Ft("irrigationType"),{value:ce}=Ft("waterType"),{value:le}=Ft("quantity"),{value:Re}=Ft("area"),{value:ye}=Ft("measure");bt(()=>le.value,()=>{w("update-water-balance",le.value?le.value:0)});const qe=De(async Se=>{b.value=!0,R.value=!1,S.value=!1;try{await new Promise(Z=>setTimeout(Z,2e3)),b.value=!1,S.value=!0,T.success("Irrigazione pianificata"),u.push({name:"home"})}catch(Z){R.value=!0,T.error(Z.message),C.value=Z.message,b.value=!1}});function ht(Se){A(),w("open-previous-step")}return(Se,Z)=>(D(),z("div",G1,[z1,m("div",{class:me(["w-full pt-8 px-0 sm:px-4 mx-auto",Se.splittedView?"md:w-full lg:w-full xl:w-full 2xl:w-10/12":"md:w-full lg:w-full xl:w-10/12 2xl:w-8/12"])},[m("div",H1,[m("div",q1,[B(Vt,{"enter-active-class":"transition duration-150 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:G(()=>[Se.splittedView?(D(),z("div",um,[m("div",sm,[m("div",om,[fm,cm,m("div",dm,[B(Cl,{id:"nfi-0",modelValue:I.value,"onUpdate:modelValue":Z[2]||(Z[2]=N=>I.value=N),label:"Abilita mappa","is-left":"",class:"mt-1"},null,8,["modelValue"])])])])])):(D(),z("div",K1,[m("div",Y1,[m("div",Z1,[m("div",X1,[J1,Q1,m("div",j1,[B(Cl,{id:"nfi-0",modelValue:I.value,"onUpdate:modelValue":Z[0]||(Z[0]=N=>I.value=N),label:"Abilita mappa","is-left":"",class:"mt-1"},null,8,["modelValue"])])])])]),m("div",em,[m("div",tm,[m("div",nm,[rm,im,m("div",lm,[B(er,{onClick:Z[1]||(Z[1]=N=>w("open-water-balance-view")),disabled:b.value,"is-outlined":"","is-secondary":""},{icon:G(()=>[am]),default:G(()=>[an(" Apri mappa ")]),_:1},8,["disabled"])])])])])]))]),_:1})]),B(Ts,{onSubmit:Y(qe),onReset:ht,ref:"form"},{default:G(()=>[B(Jn,{"for-id":"nfi-1",label:"Tipologia",state:Y(U).irrigationType?!1:null,"invalid-message":Y(U).irrigationType},{default:G(()=>[B(jn,{id:"nfi-1",modelValue:Y(fe),"onUpdate:modelValue":Z[3]||(Z[3]=N=>Zn(fe)?fe.value=N:null),items:re,state:Y(U).irrigationType?!1:null},null,8,["modelValue","state"])]),_:1},8,["state","invalid-message"]),B(Jn,{"for-id":"nfi-2",label:"Acqua",state:Y(U).waterType?!1:null,"invalid-message":Y(U).waterType},{default:G(()=>[B(jn,{id:"nfi-2",modelValue:Y(ce),"onUpdate:modelValue":Z[4]||(Z[4]=N=>Zn(ce)?ce.value=N:null),items:q,state:Y(U).waterType?!1:null},null,8,["modelValue","state"])]),_:1},8,["state","invalid-message"]),m("div",hm,[B(Jn,{"for-id":"nfi-3",label:"Quantità",state:Y(U).quantity?!1:null,"invalid-message":Y(U).quantity,class:"w-4/12"},{default:G(()=>[B(vs,{id:"nfi-3",modelValue:Y(le),"onUpdate:modelValue":Z[5]||(Z[5]=N=>Zn(le)?le.value=N:null),state:Y(U).quantity?!1:null,"is-numeric":"","is-disabled":I.value},null,8,["modelValue","state","is-disabled"])]),_:1},8,["state","invalid-message"]),B(Jn,{"for-id":"nfi-4",label:"Unità di misura",state:Y(U).measure?!1:null,"invalid-message":Y(U).measure,class:"w-4/12"},{default:G(()=>[B(jn,{id:"nfi-4",modelValue:Y(ye),"onUpdate:modelValue":Z[6]||(Z[6]=N=>Zn(ye)?ye.value=N:null),items:O,state:Y(U).measure?!1:null,"is-disabled":I.value},null,8,["modelValue","state","is-disabled"])]),_:1},8,["state","invalid-message"]),B(Jn,{"for-id":"nfi-5",label:"Area",state:Y(U).area?!1:null,"invalid-message":Y(U).area,class:"w-4/12"},{default:G(()=>[B(vs,{id:"nfi-5",modelValue:Y(Re),"onUpdate:modelValue":Z[7]||(Z[7]=N=>Zn(Re)?Re.value=N:null),state:Y(U).area?!1:null,"is-numeric":"",append:"","is-disabled":I.value},{append:G(()=>[an("ha")]),_:1},8,["modelValue","state","is-disabled"])]),_:1},8,["state","invalid-message"])]),m("div",pm,[B(er,{"is-submit":"","is-loading":b.value,disabled:b.value,"is-success":"",class:"mr-2"},{icon:G(()=>[gm]),default:G(()=>[an(" Salva ")]),_:1},8,["is-loading","disabled"]),B(er,{onClick:ht,disabled:b.value,"is-outlined":"","is-secondary":""},{icon:G(()=>[vm]),default:G(()=>[an(" Indietro ")]),_:1},8,["disabled"])])]),_:1},8,["onSubmit"])])],2)]))}}),_m={class:"flex w-full h-full flex-col items-start px-2 sm:px-4 lg:px-8"},xm={class:"flex w-full h-full pb-8 pt-4"},bm={class:"flex w-full h-full"},wm={key:0,class:"w-4/12 h-full flex flex-shrink-0"},ym={key:0,class:"flex flex-col items-center justify-center h-full w-28 border-r px-3 space-y-3"},Sm=["onClick"],Am={class:"text-xs font-normal pt-1.5"},Im=m("div",{class:"h-full w-full bg-green-200 absolute"},null,-1),Gm=We({__name:"index",setup(f){const w=H(!1),u=H(!1),T=H(0),S=H(2),b=H([{plotId:2,plotName:"Sotto collina",plotArea:.3722},{plotId:3,plotName:"Vigneto portici",plotArea:.453}]),R=[{id:"form",icon:"fa-pen-to-square text-lg",label:"Form"},{id:"resume",icon:"fa-square-list text-xl",label:"Riepilogo"}],C=H("form"),I=H("");return Yt(()=>{Ss(()=>{u.value=!0})}),(re,q)=>(D(),z("div",_m,[m("div",xm,[B(Lg,{title:"Nuova attività",class:me(["h-full transition-width duration-500 ease-out",w.value?"w-6/12 ":"w-10/12 "]),"not-rounded-r":"","no-header":""},{default:G(()=>[m("div",bm,[B(Vt,{"enter-active-class":"transition duration-150 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:G(()=>[w.value?we("",!0):(D(),z("div",wm,[B(_s,{curStep:S.value,plotData:b.value,"basic-theme":!1},null,8,["curStep","plotData"])]))]),_:1}),B(Vt,{"enter-active-class":"transition duration-150 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:G(()=>[w.value?(D(),z("div",ym,[(D(),z(wt,null,sn(R,O=>m("div",{key:O.id,class:me(["flex flex-col rounded-md items-center justify-center cursor-pointer w-full py-3 transition-colors-default hover:bg-gray-50",C.value===O.id?"bg-gray-50 text-green-600":""]),onClick:Be=>C.value=O.id},[m("i",{class:me(["fa-light",O.icon])},null,2),m("span",Am,be(O.label),1)],10,Sm)),64))])):we("",!0)]),_:1}),B(Vt,{"enter-active-class":"transition duration-150 ease-out","enter-from-class":"opacity-50","enter-to-class":"opacity-100",mode:"out-in"},{default:G(()=>[(!w.value||w.value&&C.value==="form")&&S.value===2?(D(),Ve(k1,{key:0,plotData:b.value,"splitted-view":w.value,onOpenNextStep:q[0]||(q[0]=O=>S.value=3)},null,8,["plotData","splitted-view"])):(!w.value||w.value&&C.value==="form")&&S.value===3?(D(),Ve(mm,{key:1,plotData:b.value,"splitted-view":w.value,onOpenWaterBalanceView:q[1]||(q[1]=O=>{w.value=!0,C.value="form",I.value="waterBalance"}),onUpdateWaterBalance:q[2]||(q[2]=O=>T.value=O),onOpenPrescriptionMapView:q[3]||(q[3]=O=>I.value="prescriptionMap"),onOpenPreviousStep:q[4]||(q[4]=O=>S.value=2)},null,8,["plotData","splitted-view"])):w.value&&C.value==="resume"?(D(),Ve(_s,{key:2,curStep:S.value,plotData:b.value,"basic-theme":!0},null,8,["curStep","plotData"])):we("",!0)]),_:1})])]),_:1},8,["class"]),m("div",{class:me(["flex flex-col h-full rounded-r-xl overflow-hidden relative transition-width duration-500 ease-out",w.value?"w-6/12 ":"w-2/12 "])},[Im,B(Vt,{"enter-active-class":"transition duration-300 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:G(()=>[u.value?(D(),Ve(t1,{key:0,selectedPlots:b.value.map(O=>O.plotId),openMapView:I.value,"splitted-view":w.value,updateWaterBalanceValue:T.value,onToggleSplittedView:q[5]||(q[5]=O=>{w.value=!w.value,C.value="form"}),onOnMapViewUpdate:q[6]||(q[6]=O=>I.value="")},null,8,["selectedPlots","openMapView","splitted-view","updateWaterBalanceValue"])):we("",!0)]),_:1})],2)])]))}});export{Gm as default};
