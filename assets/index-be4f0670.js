import{_ as re}from"./BfButton-5ec604ea.js";import{_ as he,L as Ze,t as Ke}from"./ChartComponent-2a9d85dd.js";import{o as r,b as y,e,d as W,n as R,t as f,g as be,f as K,C as xe,k as g,s as X,L as ee,c as we,a as G,w as _,l as c,F as Z,r as te,D as Y,T as ce,m as E,M as Ye,N as Ae,O as Fe,P as Xe,E as qe}from"./index-47e0eb5e.js";import{D as de,g as Je}from"./DateUtils-c1a87f7b.js";import{_ as Ee,a as _e,R as Qe,h as et,y as $e,M as tt,S as De}from"./Select-e4e9d361.js";import{g as Q,a as M}from"./Colors-74604422.js";import{_ as Te}from"./BfTable-37d5d4b8.js";import{T as ze,B as Be,u as Ve,a as Re,p as We,C as Pe,W as je,V as ne,b as ye,c as me,S as ge,d as at,e as oe,f as se,P as He,g as ve,F as U,h as fe,i as Ie,j as pe,k as Oe,l as Ge,m as Ne}from"./parcelData-d7f0a92f.js";import{r as it}from"./BellIcon-a358929a.js";import{w as st}from"./waterBalanceData-04604941.js";import{_ as ke}from"./BfModal-d0ad6ec3.js";import"./plugin-vue_export-helper-c27b6911.js";import"./use-outside-click-da6ff33c.js";import"./use-text-value-36758152.js";import"./use-tree-walker-fb60298c.js";import"./description-8d21d89b.js";import"./use-root-containers-c77ad8ae.js";import"./micro-task-89dcd6af.js";function lt(S,s){return r(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function ot(S,s){return r(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M3 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM15.5 8.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"})])}function nt(S,s){return r(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule":"evenodd"})])}const rt={class:"flex flex-grow"},ct={class:"flex space-x-2"},ue=W({__name:"WidgetTile",props:{title:{},isMap:{type:Boolean,default:!1},isWeather:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1}},setup(S){return(s,d)=>(r(),y("div",{class:R(["relative flex h-full flex-col overflow-hidden rounded-xl",{"bg-bg-100":!s.isMap&&!s.isWeather}])},[s.noHeader?K("",!0):(r(),y("div",{key:0,class:R(["text-info-700 flex h-16 w-full flex-shrink-0 items-center px-6 font-semibold",{"absolute z-10 bg-green-25/70 backdrop-blur-md":s.isMap,"absolute z-10 text-text-opposite":s.isWeather}])},[e("span",rt,f(s.title),1),e("div",ct,[be(s.$slots,"actions")])],2)),be(s.$slots,"default")],2))}}),dt={key:0,class:"relative h-full w-full"},ut={key:1,class:"relative h-full w-full px-6 overflow-auto thin-scrollbar"},ft=e("div",{class:"border-t sticky top-0"},null,-1),_t=e("th",null,"Pioggia",-1),pt=e("th",null,"Giorno",-1),vt=!1,Me=W({__name:"rainWidget",setup(S){const s=xe(),d=g(!0),l=g(null);let i=null;const n=["Anno","Bimestre","Settimana"],u=g("Bimestre"),b=g("chart"),k=g(0);X(()=>{i=[];const $=new Date,o=365;$.setDate(new Date().getDate()-o);for(let t=0;t<o;t++){const a=new Date($);a.setDate(a.getDate()+t);const m={irrigation:Math.floor(Math.random()*(4-20+1)+20),rain:Math.floor(Math.random()*(2-10+1)+10),evotraspiration:Math.floor(Math.random()*(4-20+1)+20),date:a};i.push(m)}A(),d.value=!1});let v=[],x=[],z="mm",B="",j="Pioggia";ee(()=>s.darkMode,async()=>{A(!0)}),ee(()=>u.value,async()=>{A()});const L=we(()=>{if(!i)return[];const $=[];let o=new Date;i.length>0&&(o=new Date(i[i.length-1].date));let t=0;return u.value==="Anno"?t=365:u.value==="Bimestre"?t=50:u.value==="Settimana"&&(t=7),o.setDate(new Date().getDate()-t),o.setHours(0,0,0,0),i.forEach(a=>{const m=new Date(a.date);m.setHours(0,0,0,0),m.getTime()>o.getTime()&&$.push(a)}),$});function A($=!1){if(L.value.length===0)return;const o=Q("blue-400"),t=Q("blue-600");x=[],v=[];const a={id:"rain"+s.darkMode.toString(),name:j,itemStyle:{color:o,borderRadius:[8,8,8,8]},emphasis:{itemStyle:{color:t}},type:"bar",data:[]};L.value.forEach(m=>{const D=new Date(m.date);x.push(new de(D).format("dd/MM")),a.data.push(Math.round(m.irrigation*100)/100)}),v.push(a),H(),$&&k.value++}function H(){l.value={toolbox:{feature:{dataView:{show:!1},saveAsImage:{show:!1}}},grid:{top:12,right:24,left:24,bottom:20,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"none"}},legend:{show:!1},xAxis:{type:"category",data:x},yAxis:[{type:"value",name:B,position:"left",min:0,max:20,interval:5,axisLabel:{formatter:"{value} "+z}}],series:v,textStyle:{fontFamily:"Work Sans"}}}function N($,o){return new de($).format(o)}return($,o)=>(r(),G(ue,{title:"Pioggia"},{actions:_(()=>[c(Ee,{values:n,onUpdate:o[0]||(o[0]=t=>u.value=t),"cur-value":u.value},null,8,["cur-value"]),c(_e,{onUpdate:o[1]||(o[1]=t=>b.value=t),"cur-value":b.value},null,8,["cur-value"])]),default:_(()=>[b.value==="chart"?(r(),y("div",dt,[d.value?K("",!0):(r(),G(he,{key:0,options:l.value,loading:d.value,"no-data":vt,"disable-theme-refresh":!0,rebuild:k.value},null,8,["options","loading","rebuild"]))])):(r(),y("div",ut,[ft,c(Te,{items:L.value,"is-compact":"","full-width":""},{header:_(()=>[_t,pt]),rows:_(({item:t})=>[e("td",null,f(t.rain)+"mm",1),e("td",null,f(N(t.date,"dd/MM")),1)]),_:1},8,["items"])]))]),_:1}))}}),yt={key:0,class:"relative h-full w-full"},mt={key:1,class:"relative h-full w-full px-6 overflow-auto thin-scrollbar"},gt=e("div",{class:"border-t sticky top-0"},null,-1),ht=e("th",null,"Umidità",-1),xt=e("th",null,"Giorno",-1),wt=!1,Se=W({__name:"humidityWidget",setup(S){const s=xe(),d=g(!0),l=g(null);let i=null;const n=["Anno","Bimestre","Settimana"],u=g("Bimestre"),b=g("chart"),k=g(0);X(()=>{i=[];const $=new Date,o=365;$.setDate(new Date().getDate()-o);for(let t=0;t<o;t++){const a=new Date($);a.setDate(a.getDate()+t);const m={humidity:Math.floor(Math.random()*(4-80+1)+80),date:a};i.push(m)}A(),d.value=!1});let v=[],x=[],z="%",B="",j="Umidità";ee(()=>s.darkMode,async()=>{A(!0)}),ee(()=>u.value,async()=>{A()});const L=we(()=>{if(!i)return[];const $=[];let o=new Date;i.length>0&&(o=new Date(i[i.length-1].date));let t=0;return u.value==="Anno"?t=365:u.value==="Bimestre"?t=50:u.value==="Settimana"&&(t=7),o.setDate(new Date().getDate()-t),o.setHours(0,0,0,0),i.forEach(a=>{const m=new Date(a.date);m.setHours(0,0,0,0),m.getTime()>o.getTime()&&$.push(a)}),$});function A($=!1){if(L.value.length===0)return;const o=Q(s.darkMode?"green-500":"teal-400"),t=Q(s.darkMode?"green-400":"teal-300"),a=Q(s.darkMode?"green-300":"teal-200"),m=Q(s.darkMode?"green-50":"teal-50");x=[],v=[];const D={id:"rain",name:j,smooth:!0,lineStyle:{color:o,width:2},itemStyle:{color:t},symbolSize:6,areaStyle:{opacity:.8,color:new Ze(0,0,0,1,[{offset:0,color:a},{offset:1,color:m}])},type:"line",data:[]};L.value.forEach(C=>{const w=new Date(C.date);x.push(new de(w).format("dd/MM")),D.data.push(Math.round(C.humidity*100)/100)}),v.push(D),H(),$&&k.value++}function H(){l.value={grid:{top:12,right:24,left:24,bottom:20,containLabel:!0},tooltip:{trigger:"axis"},legend:{show:!1},xAxis:{type:"category",data:x},yAxis:[{type:"value",name:B,position:"left",min:0,max:100,interval:25,axisLabel:{formatter:"{value}"+z}}],series:v,textStyle:{fontFamily:"Work Sans"}}}function N($,o){return new de($).format(o)}return($,o)=>(r(),G(ue,{title:"Umidità"},{actions:_(()=>[c(Ee,{values:n,onUpdate:o[0]||(o[0]=t=>u.value=t),"cur-value":u.value},null,8,["cur-value"]),c(_e,{onUpdate:o[1]||(o[1]=t=>b.value=t),"cur-value":b.value},null,8,["cur-value"])]),default:_(()=>[b.value==="chart"?(r(),y("div",yt,[d.value?K("",!0):(r(),G(he,{key:0,options:l.value,loading:d.value,"no-data":wt,"disable-theme-refresh":!0,rebuild:k.value},null,8,["options","loading","rebuild"]))])):(r(),y("div",mt,[gt,c(Te,{items:L.value,"is-compact":"","full-width":""},{header:_(()=>[ht,xt]),rows:_(({item:t})=>[e("td",null,f(t.humidity)+"%",1),e("td",null,f(N(t.date,"dd/MM")),1)]),_:1},8,["items"])]))]),_:1}))}}),bt={class:"thin-scrollbar relative h-full w-full overflow-auto px-6"},$t=e("div",{class:"text-info-700 flex h-16 w-full flex-shrink-0 items-center font-semibold"},[e("span",{class:"flex flex-grow"}," Allarmi ")],-1),Dt=e("div",{class:"font-serif text-2xl"}," Hai avuto 25% allarmi in più questa settimana rispetto al solito ",-1),kt={class:"-mx-2 flex flex-wrap justify-end pb-3 pt-3"},Mt={class:"flex w-full flex-col justify-between px-4 py-2"},St={class:"text-3xl font-light"},Lt={class:"pl-1 text-2xl"},Ct={class:"text-sm font-light"},Le=W({__name:"alarmsWidget",setup(S){const s=[{id:"strong_rain",type:"warning",text:"pioggia intensa",value:54,measure:"mm",date:"Dom 9"},{id:"rain",type:"info",text:"pioggia debole",value:28,measure:"mm",date:"Sab 8"},{id:"stron_wind",type:"warning",text:"vento forte",value:72,measure:"km/h",date:"Mer 5"},{id:"wind",type:"info",text:"vento debole",value:45,measure:"km/h",date:"Lun 3"}];return(d,l)=>(r(),G(ue,{"no-header":""},{default:_(()=>[e("div",bt,[$t,Dt,e("div",kt,[(r(),y(Z,null,te(s,(i,n)=>e("div",{key:n,class:"flex w-full md:w-6/12 px-2 py-2"},[e("div",{class:R(["flex h-full w-full items-stretch rounded rounded-r-md",{"bg-red-50":i.type==="danger","bg-orange-50":i.type==="warning","bg-blue-50":i.type==="info"}])},[e("div",{class:R(["w-1 rounded-md",{"bg-red-500":i.type==="danger","bg-orange-500":i.type==="warning","bg-blue-500":i.type==="info"}])},null,2),e("div",Mt,[e("p",{class:R(["pb-1 text-sm font-light uppercase tracking-wider",{"text-red-700":i.type==="danger","text-orange-800":i.type==="warning","text-blue-700":i.type==="info"}])},f(i.text),3),e("div",{class:R(["flex w-full items-baseline justify-between",{"text-red-800":i.type==="danger","text-orange-900":i.type==="warning","text-blue-800":i.type==="info"}])},[e("p",St,[Y(f(i.value),1),e("span",Lt,f(i.measure),1)]),e("p",Ct,f(i.date),1)],2)])],2)])),64))])])]),_:1}))}}),At=[{id:"plow",activity_type_description:"Aratura",activity_type_color:"red",activity_type_icon:"fa-tractor"},{id:"seed",activity_type_description:"Semina",activity_type_color:"green",activity_type_icon:"fa-seedling"},{id:"irrigation",activity_type_description:"Irrigazione",activity_type_color:"blue",activity_type_icon:"fa-tint"},{id:"fertilizer",activity_type_description:"Fertilizzazione",activity_type_color:"yellow",activity_type_icon:"fa-flask"},{id:"agrochemical",activity_type_description:"Tratt. agrofarmaci",activity_type_color:"purple",activity_type_icon:"fa-bug"},{id:"harvest",activity_type_description:"Raccolta",activity_type_color:"orange",activity_type_icon:"fa-leaf"},{id:"other",activity_type_description:"Altro",activity_type_color:"gray",activity_type_icon:"fa-question"}],Ft=[{id:1,activity_type_id:"plow",activity_date:new Date("2023-03-12"),activity_executed:!0},{id:2,activity_type_id:"plow",activity_date:new Date("2023-03-15"),activity_executed:!0},{id:3,activity_type_id:"plow",activity_date:new Date("2023-03-18"),activity_executed:!0},{id:4,activity_type_id:"seed",activity_date:new Date("2023-03-22"),activity_executed:!0},{id:5,activity_type_id:"fertilizer",activity_date:new Date("2023-03-28"),activity_executed:!0}],Et=[{id:1,activity_type_id:"plow",activity_date:new Date("2021-01-01"),activity_executed:!0},{id:1.1,activity_type_id:"plow",activity_date:new Date("2023-01-01"),activity_executed:!0},{id:1.2,activity_type_id:"plow",activity_date:new Date("2023-01-01"),activity_executed:!0},{id:2,activity_type_id:"seed",activity_date:new Date("2023-04-18"),activity_executed:!0},{id:3,activity_type_id:"fertilizer",activity_date:new Date("2023-04-16"),activity_executed:!0},{id:3.1,activity_type_id:"fertilizer",activity_date:new Date("2023-03-16"),activity_executed:!0},{id:3.2,activity_type_id:"fertilizer",activity_date:new Date("2023-02-16"),activity_executed:!0},{id:4,activity_type_id:"irrigation",activity_date:new Date("2023-02-12"),activity_executed:!0},{id:5,activity_type_id:"irrigation",activity_date:new Date("2023-03-20"),activity_executed:!0},{id:5,activity_type_id:"irrigation",activity_date:new Date("2023-04-02"),activity_executed:!0},{id:19,activity_type_id:"harvest",activity_date:new Date("2023-04-8"),activity_executed:!0},{id:20,activity_type_id:"harvest",activity_date:new Date("2023-04-10"),activity_executed:!0},{id:21,activity_type_id:"plow",activity_date:new Date("2023-03-10"),activity_executed:!0},{id:22,activity_type_id:"plow",activity_date:new Date("2023-02-22"),activity_executed:!0},{id:23,activity_type_id:"plow",activity_date:new Date("2023-02-27"),activity_executed:!0}],Tt=[{id:0,activity_type_id:"plow",activity_date:new Date("2023-01-01"),activity_executed:!0},{id:.1,activity_type_id:"plow",activity_date:new Date("2023-01-01"),activity_executed:!0},{id:1,activity_type_id:"plow",activity_date:new Date("2023-01-01"),activity_executed:!0},{id:2,activity_type_id:"seed",activity_date:new Date("2023-01-02"),activity_executed:!0},{id:3,activity_type_id:"irrigation",activity_date:new Date("2023-01-03"),activity_executed:!0},{id:3.1,activity_type_id:"irrigation",activity_date:new Date("2023-01-03"),activity_executed:!0},{id:3.2,activity_type_id:"irrigation",activity_date:new Date("2023-01-03"),activity_executed:!0},{id:3.3,activity_type_id:"irrigation",activity_date:new Date("2023-01-03"),activity_executed:!0},{id:3.4,activity_type_id:"irrigation",activity_date:new Date("2023-01-03"),activity_executed:!0},{id:4,activity_type_id:"fertilizer",activity_date:new Date("2023-01-04"),activity_executed:!0},{id:4.1,activity_type_id:"fertilizer",activity_date:new Date("2023-01-04"),activity_executed:!0},{id:4.2,activity_type_id:"fertilizer",activity_date:new Date("2023-01-04"),activity_executed:!0},{id:5,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:5.1,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:5.2,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:5.3,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:5.4,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:5.5,activity_type_id:"agrochemical",activity_date:new Date("2023-01-05"),activity_executed:!0},{id:6,activity_type_id:"harvest",activity_date:new Date("2023-01-06"),activity_executed:!0}],zt=[{id:0,parcel_id:1,parcel_code:1,activities:Ft},{id:1,parcel_id:2,parcel_code:2,activities:Et},{id:2,parcel_id:3,parcel_code:3,activities:Tt}],Bt={class:"absolute bottom-0 left-0 right-6 z-20 h-3/5 rounded-tr-md bg-bg-100"},Vt=e("span",{class:"sr-only"},"Chiudi pannello",-1),Rt=e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Wt=[Vt,Rt],Pt={class:"flex w-full divide-x divide-border border-b",style:{height:"92px"}},jt={class:"flex-grow px-6 py-4 overflow-hidden"},Ht={class:"text-sm font-medium leading-6 text-label"},It={class:"text-3xl font-medium tracking-tight text-text"},Ot={key:0,class:"text-sm text-label"},Gt={class:"flex w-full flex-col",style:{height:"calc(100% - 92px)"}},Nt={class:"flex h-full w-full"},Ut={key:0,class:"flex h-full w-full"},Zt={class:"relative flex h-full w-full pb-4 pl-3 pr-3 pt-4"},Kt={class:"absolute z-10 flex h-16 w-12 flex-col items-center justify-center",style:{left:"calc(50% - 1.5rem)",top:"calc(50% - 2rem)"}},Yt=e("span",{class:"text-sm font-medium text-label"},"Totali",-1),Xt={class:"text-3xl font-medium tracking-tight text-text"},qt={class:"thin-scrollbar relative flex h-full w-full flex-col space-y-3 overflow-auto pb-4 pl-8 pr-6"},Jt={class:"sticky top-0 z-10 flex w-full justify-end border-b bg-bg-100 pb-3 pt-3"},Qt={class:"flex w-full flex-col"},ea={class:"flex w-full items-center"},ta={class:"text-sm font-medium text-label"},aa={class:"text-3xl font-medium tracking-tight text-text"},ia={key:1,class:"thin-scrollbar h-full w-full overflow-auto px-6 pb-6"},sa={class:"sticky top-0 z-10 flex w-full justify-end border-b bg-bg-100 py-3"},la={role:"list",class:"flex w-full flex-col pt-6"},oa={class:"flex items-center gap-x-4 px-4 py-4"},na={class:"flex h-12 w-12 items-center justify-center rounded-md bg-green-400/5 text-green-400"},ra={class:"flex flex-col"},ca={class:"text-sm font-medium leading-6 text-gray-900"},da={class:"text-sm font-medium leading-6 text-label"},ua=e("span",{class:"sr-only"},"Apri opzioni",-1),fa=W({__name:"activityResumePanel",props:{activityParcel:{},activityResume:{}},emits:["close"],setup(S,{emit:s}){const d=xe(),l=g(!0);let i=!1;const n=g(null),u=g("Settimana"),b=g("chart"),k=g(0),v=At,x=g([]),z=Ke.color;let B=[],j=[],L=[];X(()=>{S.activityResume&&S.activityResume.activities.length>0?(H(),A()):i=!0,l.value=!1}),ee(()=>d.darkMode,async()=>{H(!0)}),ee(()=>u.value,async()=>{H()}),ee(()=>S.activityResume,async()=>{H(),A()});function A(){const o=Math.floor(Math.random()*45)+5,t=Math.floor(Math.random()*55)+25,a=(Math.floor(Math.random()*18)+2)/10;x.value=[{name:"Ore totali",value:o.toString()},{name:"Media",value:t.toString(),unit:"min"},{name:"Irrigazioni",value:a.toString(),unit:"hl"}]}function H(o=!1){S.activityResume.activities.sort((w,V)=>new Date(V.activity_date).getTime()-new Date(w.activity_date).getTime());const t=S.activityResume.activities,a=Q("color-bg-100");j=[],B=[],L=[];const m={id:"activities",name:"Attività",radius:["92%","100%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:a,borderWidth:4},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},type:"pie",data:[]};let D=new Date;t.length>0&&(D=new Date(t[t.length-1].activity_date));let C=365;D.setDate(new Date().getDate()-C),D.setHours(0,0,0,0),t.forEach(w=>{L.findIndex(V=>V.type_id===w.activity_type_id)===-1&&L.push({type_id:w.activity_type_id,type_description:v.find(V=>V.id===w.activity_type_id)?.activity_type_description||"",colorIndex:0,count:0})}),L.forEach((w,V)=>{let I=0;t.forEach(q=>{const ae=new Date(q.activity_date);ae.setHours(0,0,0,0),q.activity_type_id===w.type_id&&ae.getTime()>D.getTime()&&I++}),w.count=I,w.colorIndex=V,j.push(w.type_description),m.data.push({value:w.count,name:w.type_description})}),B.push(m),N(),o&&k.value++}function N(){n.value={grid:{top:12,right:24,left:24,bottom:20,containLabel:!0},tooltip:{trigger:"none"},legend:{show:!1,selectedMode:!1},series:B,textStyle:{fontFamily:"Work Sans"}}}function $(o,t){return new de(o).format(t)}return(o,t)=>(r(),y("div",Bt,[e("button",{type:"button",onClick:t[0]||(t[0]=a=>s("close")),class:"transition-colors-default absolute right-0 top-0 rounded-bl-md rounded-tr-md p-2 text-gray-500 hover:bg-gray-100 focus:outline-none"},Wt),e("div",Pt,[(r(!0),y(Z,null,te(x.value,a=>(r(),y("div",jt,[e("p",Ht,f(a.name),1),c(ce,{"enter-active-class":"transition duration-150 ease-out","enter-from-class":"translate-y-0 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:_(()=>[(r(),y("p",{class:"flex items-baseline gap-x-2",key:a.value},[e("span",It,f(a.value),1),a.unit?(r(),y("span",Ot,f(a.unit),1)):K("",!0)]))]),_:2},1024)]))),256))]),e("div",Gt,[e("div",Nt,[b.value==="chart"?(r(),y("div",Ut,[e("div",Zt,[e("div",Kt,[Yt,e("span",Xt,f(o.activityResume.activities.length),1)]),l.value?K("",!0):(r(),G(he,{key:0,options:n.value,loading:l.value,"no-data":E(i),"disable-theme-refresh":!0,rebuild:k.value},null,8,["options","loading","no-data","rebuild"]))]),e("div",qt,[e("div",Jt,[c(_e,{onUpdate:t[1]||(t[1]=a=>b.value=a),"cur-value":b.value},null,8,["cur-value"])]),(r(!0),y(Z,null,te(E(L).sort((a,m)=>m.count-a.count),a=>(r(),y("div",Qt,[e("div",ea,[e("div",{class:"mr-2 h-3 w-3 rounded-sm",style:Ye("background: "+E(z)[a.colorIndex])},null,4),e("span",ta,f(a.type_description),1)]),e("div",null,[e("span",aa,f(a.count),1)])]))),256))])])):(r(),y("div",ia,[e("div",sa,[c(_e,{onUpdate:t[2]||(t[2]=a=>b.value=a),"cur-value":b.value},null,8,["cur-value"])]),e("ul",la,[(r(!0),y(Z,null,te(o.activityResume.activities,(a,m)=>(r(),y("li",{key:a.id,class:R(["border-x border-t",{"rounded-t-xl":m===0,"rounded-b-xl border-b":m===o.activityResume.activities.length-1}])},[e("div",oa,[e("div",na,[e("i",{class:R(["fas",E(v).find(D=>D.id===a.activity_type_id).activity_type_icon])},null,2)]),e("div",ra,[e("div",ca,f(E(v).find(D=>D.id===a.activity_type_id).activity_type_description),1),e("div",da,f($(a.activity_date,"dd/MM")),1)]),c(E(tt),{as:"div",class:"relative ml-auto"},{default:_(()=>[c(E(Qe),{class:"-m-2.5 block p-2.5 text-gray-400 hover:text-gray-500"},{default:_(()=>[ua,c(E(ot),{class:"h-5 w-5","aria-hidden":"true"})]),_:1}),c(ce,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:_(()=>[c(E(et),{class:"absolute right-0 z-10 mt-0.5 w-40 origin-top-right overflow-hidden rounded-md bg-bg-100 shadow-lg ring-1 ring-gray-900/5 focus:outline-none"},{default:_(()=>[c(E($e),null,{default:_(({active:D})=>[e("a",{href:"#",class:R([D?"bg-gray-50":"","block px-3 py-2 text-sm leading-6 text-gray-900"])},"Visualizza",2)]),_:1}),c(E($e),null,{default:_(({active:D})=>[e("a",{href:"#",class:R([D?"bg-gray-50":"","block px-3 py-2 text-sm leading-6 text-gray-900"])},"Modifica",2)]),_:1})]),_:1})]),_:1})]),_:1})])],2))),128))])]))])])]))}}),_a="Aerial",pa="Ak2gN0iZ3d02J-xwYSYgRp8oHFZCOneWeg_Hj7C2ZntIKTXCGc0HXVQ8GHkuxp17",va=W({__name:"ActivityWidgetMapViewer",setup(S){const s=new ze({visible:!0,preload:1/0,source:new Be({key:pa,imagerySet:_a})}),d=Ve(),{map:l,mapRef:i,padding:n}=Re(),u=g(We),b=g(zt);let k=null,v=null;const x=new Pe;let z=null;const B=new je,j=g(!1),L=g(null),A=g(null);X(async()=>{i.value&&(l.setTarget(i.value),i.value.addEventListener("mouseleave",N),await new Promise(h=>setTimeout(h,500))),t(),l.getLayers().clear(),await H(),a(),m()});async function H(){l.addLayer(s)}Ae(()=>{t()});function N(){d.emit("hover:map",[])}function $(h){if(h.type==="pointermove"){const p=l.getFeaturesAtPixel(h.pixel);if(p&&p.length>=1){const T=p[0]?.values_?.features[0]?.values_?.type;if(T&&T==="activity"){const F=p[0].get("features");if(Array.isArray(F)&&F.length>0){const J=F.map(P=>P.get("ref"));d.emit("hover:map",J)}else d.emit("hover:map",[p[0].get("ref")]);l.getTargetElement().style.cursor="pointer"}}else d.emit("hover:map",[]),l.getTargetElement().style.cursor="default";return!0}return!1}function o(h){const p=Ne();return h.forEach(T=>{const F=T.getGeometry();F&&Ge(p,F.getExtent())}),p}function t(){l.getLayers().getArray().filter(p=>p instanceof ne).forEach(p=>{l.removeLayer(p)}),x.getLength()&&x.clear(),k&&(l.removeInteraction(k),k.dispose(),k=null),v&&(l.removeInteraction(v),v.dispose(),v=null)}function a(){const h=[];u.value.forEach(F=>{const J=B.readFeature(F.world_geom);J.setProperties({ref:F.parcel_id,type:"parcel",parcel_id:F.parcel_id}),x.push(J),h.push(J)}),z=new ye({features:h});const p=new me({distance:0,source:z,geometryFunction:q}),T=new ne({source:p,style:D,properties:{name:"parcelLayer",ref:ge.VECTOR,id:"parcel"},renderBuffer:500});l.addLayer(T),T.setZIndex(900)}function m(){const h=[];u.value.forEach(P=>{const O=b.value.find(le=>le.parcel_id===P.parcel_id),ie=O?O.activities.length:0;if(O&&ie>0){const le=B.readFeature(P.world_geom);le.setProperties({ref:"activity_"+P.parcel_id,type:"activity",parcel_activity_id:O.id,parcel_id:O.parcel_id,activity_count:ie}),x.push(le),h.push(le)}});const p=new ye({features:h}),T=new me({distance:0,source:p,geometryFunction:q}),F=new ne({source:T,style:C,properties:{name:"interactionLayer",ref:ge.VECTOR,id:"activity"},renderBuffer:500});k=new De({style:V,condition(P){return at(P)},layers:function(P){return P.get("name")==="interactionLayer"}}),l.addInteraction(k),k.on("select",P=>{const O=P.target.getFeatures().getArray()[0].getProperties().features;if(O.length>1){const ie=o(O);I(ie)}else{const ie=O[0].get("parcel_id");ae(ie)}}),v=new De({style:w,condition:$,layers:function(P){return P.get("name")==="interactionLayer"}}),l.addInteraction(v),l.addLayer(F),F.setZIndex(910);const J=o(x.getArray());I(J)}const D=h=>{if(h.get("features")!==void 0){const F=h.get("features")[0].getGeometry().getCoordinates();return new oe({stroke:new se({color:M("lime-200",1),width:2}),geometry:new He(F)})}},C=h=>{const p=h.get("features");if(p!==void 0)return new oe({image:new ve({radius:16,fill:new U({color:M("green-300",1)}),stroke:new se({color:M("green-300",.4),width:14})}),text:new fe({text:p[0].values_.activity_count.toString(),fill:new U({color:M("green-800",1)}),font:"bold 13px Work Sans"})})},w=h=>{const p=h.get("features");if(p!==void 0)return new oe({image:new ve({radius:16,fill:new U({color:M("green-200",1)}),stroke:new se({color:M("green-200",.4),width:14})}),text:new fe({text:p[0].values_.activity_count.toString(),fill:new U({color:M("green-800",1)}),font:"bold 13px Work Sans"})})},V=h=>{const p=h.get("features");if(p!==void 0)return new oe({image:new ve({radius:16,fill:new U({color:M("green-600",1)}),stroke:new se({color:M("green-600",.4),width:14})}),text:new fe({text:p[0].values_.activity_count.toString(),fill:new U({color:M("green-50",1)}),font:"bold 13px Work Sans"})})};function I(h){l.getView().fit(h,{padding:[50,50,50,50],easing:Ie,duration:1e3})}function q(h){const p=h.getGeometry();return p?new pe(Oe(p.getExtent())):new pe([0])}function ae(h){const p=b.value.find(T=>T.parcel_id===h);if(p){const T=u.value.find(F=>F.parcel_id===h);T&&(L.value=p,A.value=T,j.value=!0)}}function Ue(){j.value=!1,L.value=null,A.value=null,k&&k.getFeatures().clear()}return(h,p)=>(r(),y("div",{ref_key:"mapRef",ref:i,class:"relative h-full w-full"},[c(ce,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:_(()=>[j.value&&L.value&&A.value?(r(),G(fa,{key:0,activityResume:L.value,activityParcel:A.value,onClose:Ue},null,8,["activityResume","activityParcel"])):K("",!0)]),_:1})],512))}}),ya={class:"relative h-full w-full"},ma=e("div",{class:"h-full w-full bg-green-200 absolute"},null,-1),ga=W({__name:"activityMapWidget",props:{hideMap:{type:Boolean}},setup(S){const s=g(!1);return X(()=>{Fe(()=>{s.value=!0})}),(d,l)=>(r(),G(ue,{title:"Resoconto attività","is-map":""},{default:_(()=>[e("div",ya,[ma,c(ce,{"enter-active-class":d.hideMap?"transition duration-300 ease-out":"transition duration-300 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:_(()=>[!d.hideMap&&s.value?(r(),G(va,{key:0})):K("",!0)]),_:1},8,["enter-active-class"])])]),_:1}))}});const ha={class:"thin-scrollbar relative h-full w-full overflow-auto px-6 pb-4"},xa=e("div",{class:"text-info-700 flex pt-5 pb-3 w-full flex-shrink-0 items-center font-semibold"},[e("span",{class:"flex flex-grow text-text-oppositea"}," Meteo ")],-1),wa={class:"flex w-full flex-col items-center justify-center pt-2"},ba={class:"flex pb-6"},$a={class:"mr-5 border-r border-blue-200 pr-4 text-text-oppositea"},Da={class:"text-6xl font-extralight"},ka={class:"mb-3 flex flex-col md:flex-row w-full rounded-lg bg-blue-50 md:py-2 text-sm text-text-oppositea backdrop-blur-lg"},Ma={class:"font-light uppercase tracking-wider"},Sa={class:"text-2xl font-light"},La={class:"flex w-full rounded-lg bg-blue-50 py-2 text-sm text-text-oppositea backdrop-blur-lg"},Ca={class:"w-full pb-2 text-center text-xs font-light uppercase tracking-wider"},Aa={class:"w-full pb-1 text-center"},Fa={class:"w-full pl-1 text-center"},Ce=W({__name:"weatherWidget",setup(S){const s={id:"sunny",temp:"27°",icon:"fa-sun-bright",theme:"weather-widget-sun"},d={id:"rainy",temp:"14°",icon:"fa-cloud-showers",theme:"weather-widget-rain"},l=g(d),i=[{title:"Precipitazioni",value:"38 mm"},{title:"Vento",value:"12 km/h"},{title:"Temperature",value:"5° - 16°"}],n=g([]);X(()=>{const b=new Date,k=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],v=["fa-cloud-showers","fa-cloud-bolt","fa-cloud-fog","fa-sun-bright","fa-sun-bright"];for(let x=1;x<=5;x++){const z=new Date(b);z.setDate(z.getDate()+x);const B=Math.floor(Math.random()*15)+10;n.value.push({day:k[z.getDay()],icon:v[x-1],temp:B+"°"})}});function u(){l.value.id===d.id?l.value=s:l.value=d}return(b,k)=>(r(),G(ue,{"no-header":""},{default:_(()=>[e("div",ha,[xa,e("div",wa,[e("div",ba,[e("div",$a,[e("span",Da,f(l.value.temp),1)]),e("div",{class:"transition-colors-default relative inline-flex cursor-pointer text-blue-300 hover:text-blue-400",onClick:u},[e("i",{class:R(["fa-solid relative z-10 text-6xl",l.value.icon])},null,2)])]),e("div",ka,[(r(),y(Z,null,te(i,(v,x)=>e("div",{class:R(["flex flex-grow md:flex-col border-blue-200 px-4 py-2 md:py-0 justify-between md:justify-normal items-center md:items-start",x<i.length-1?"border-b md:border-b-0 md:border-r":""])},[e("span",Ma,f(v.title),1),e("span",Sa,f(v.value),1)],2)),64))]),e("div",La,[(r(!0),y(Z,null,te(n.value,(v,x)=>(r(),y("div",{class:R(["flex flex-grow flex-col border-blue-200 px-4",x<n.value.length-1?"border-r":""])},[e("span",Ca,f(v.day),1),e("span",Aa,[e("i",{class:R(["fa-solid relative z-10 text-xl text-blue-300",v.icon])},null,2)]),e("span",Fa,f(v.temp),1)],2))),256))])])])]),_:1}))}}),Ea={class:"relative h-full w-full flex justify-between px-4 items-center bg-gradient-to-br from-lime-500/20 dark:from-blue-500/20 from-0% to-green-500/10 dark:to-green-500/20 to-50%"},Ta={class:"flex items-center"},za={class:"text-green-400 mr-3"},Ba=e("span",{class:"font-medium text-sm text-green-800"},"1 nuovo messaggio",-1),Va={class:"flex flex-col items-center justify-end"},Ra=e("i",{class:"fal fa-arrow-right"},null,-1),Wa=W({__name:"notificationActionPanel",emits:["open"],setup(S,{emit:s}){return(d,l)=>(r(),y("div",Ea,[e("div",Ta,[e("span",za,[c(E(lt),{class:"w-6 h-6"})]),Ba]),e("div",Va,[c(re,{"is-success":"",onClick:l[0]||(l[0]=i=>s("open"))},{icon:_(()=>[Ra]),default:_(()=>[Y("Leggi")]),_:1})])]))}}),Pa={class:"relative h-full w-full flex justify-between px-4 items-center bg-gradient-to-br from-yellow-500/10 dark:from-yellow-500/20 from-0% to-red-500/10 dark:to-red-500/20 to-50%"},ja={class:"flex items-center"},Ha={class:"text-red-400 mr-3"},Ia=e("span",{class:"font-medium text-sm text-red-800"},"1 nuovo allarme",-1),Oa={class:"flex flex-col items-center justify-end"},Ga=e("i",{class:"fal fa-arrow-right"},null,-1),Na=W({__name:"alarmActionPanel",emits:["open"],setup(S,{emit:s}){return(d,l)=>(r(),y("div",Pa,[e("div",ja,[e("span",Ha,[c(E(it),{class:"w-6 h-6"})]),Ia]),e("div",Oa,[c(re,{"is-danger":"",onClick:l[0]||(l[0]=i=>s("open"))},{icon:_(()=>[Ga]),default:_(()=>[Y("Verifica")]),_:1})])]))}}),Ua={class:"absolute bottom-0 right-20 left-20 z-10 backdrop-blur-lg flex justify-center bg-bg-100/80 p-4 py-8 rounded-t-xl"},Za=e("i",{class:"fa-solid fa-arrow-right-to-arc"},null,-1),Ka="Aerial",Ya="Ak2gN0iZ3d02J-xwYSYgRp8oHFZCOneWeg_Hj7C2ZntIKTXCGc0HXVQ8GHkuxp17",Xa=W({__name:"AlarmNotificationMapViewer",emits:["open-activity"],setup(S,{emit:s}){const d=new ze({visible:!0,preload:1/0,source:new Be({key:Ya,imagerySet:Ka})}),l=Ve(),{map:i,mapRef:n,padding:u}=Re(),b=g(We),k=g(st),v=new Pe;let x=null;const z=new je;X(async()=>{n.value&&(i.setTarget(n.value),n.value.addEventListener("mouseleave",j),await new Promise(t=>setTimeout(t,500))),A(),i.getLayers().clear(),await B(),H()});async function B(){i.addLayer(d)}Ae(()=>{A()});function j(){l.emit("hover:map",[])}function L(t){const a=Ne();return t.forEach(m=>{const D=m.getGeometry();D&&Ge(a,D.getExtent())}),a}function A(){i.getLayers().getArray().filter(a=>a instanceof ne).forEach(a=>{i.removeLayer(a)}),v.getLength()&&v.clear()}function H(){const t=[];b.value.filter(C=>k.value.find(w=>w.parcelId===C.parcel_id&&w.value<20)).forEach(C=>{const w=z.readFeature(C.world_geom);w.setProperties({ref:C.parcel_id,type:"parcel",parcel_id:C.parcel_id}),v.push(w),t.push(w)}),x=new ye({features:t});const a=new me({distance:0,source:x,geometryFunction:o}),m=new ne({source:a,style:N,properties:{name:"parcelLayer",ref:ge.VECTOR,id:"parcel"},renderBuffer:500});i.addLayer(m),m.setZIndex(900);const D=L(v.getArray());$(D)}const N=t=>{const a=t.get("features");if(a!==void 0){const D=t.get("features")[0].getGeometry().getCoordinates(),C=k.value.find(ae=>ae.parcelId===a[0].values_.parcel_id);let w=M("color-bg-100",1),V=M("color-bg-100",0),I=M("color-bg-900",1),q=M("color-bg-100",1);return C&&(C.value<20&&(w=M("red-400",1),V=M("red-400",.3),I=M("red-700",1)),C.value>=20&&C.value<40&&(w=M("orange-400",1),V=M("orange-400",.3),I=M("orange-700",1)),C.value>=40&&(w=M("green-400",1),V=M("green-400",.3),I=M("green-700",1))),new oe({stroke:new se({color:w,width:2}),fill:new U({color:V}),text:C?new fe({text:C.value.toString(),fill:new U({color:q}),font:"bold 13px Work Sans",backgroundFill:new U({color:I}),backgroundStroke:new se({color:I,width:6}),padding:[4,6,4,7]}):void 0,geometry:new He(D)})}};function $(t){i.getView().fit(t,{padding:[50,50,150,50],easing:Ie,duration:1e3})}function o(t){const a=t.getGeometry();return a?new pe(Oe(a.getExtent())):new pe([0])}return(t,a)=>(r(),y("div",{ref_key:"mapRef",ref:n,class:"relative h-full w-full"},[e("div",Ua,[c(re,{"is-big":"","is-success":"","is-flat":"",onClick:a[0]||(a[0]=m=>s("open-activity"))},{icon:_(()=>[Za]),default:_(()=>[Y(" Pianifica irrigazione ")]),_:1})])],512))}}),qa={id:"1",name:"Bilancio idrico basso",description:"Bilancio idrico basso",threshold:20,thresholdMeasure:"mm",date:new Date,plots:[{plot_id:2,plot_name:"Sotto collina"},{plot_id:3,plot_name:"Vigneto portici"}]},Ja={class:"flex flex-col w-full h-full"},Qa=e("div",{class:"absolute w-full h-24 rounded-t-xl bg-gradient-to-br from-yellow-500/20 dark:from-yellow-500/30 from-0% to-red-500/20 dark:to-red-500/30 to-50%"},null,-1),ei=e("div",{class:"relative w-20 h-20 flex flex-shrink-0 justify-center items-center rounded-full bg-red-500 mx-auto mt-12"},[e("i",{class:"fa-regular fa-water-arrow-down text-red-100 text-2xl"})],-1),ti={class:"flex flex-col w-full"},ai={class:"flex flex-col w-8/12 rounded-xl items-center mx-auto pt-6 pb-4"},ii={class:"font-semibold text-2xl text-red-800"},si={class:"flex w-full pt-4"},li={class:"flex w-6/12 flex-col divide-y divide-border"},oi={class:"flex items-center py-4"},ni=e("i",{class:"fa-light fa-calendar text-xl text-gray-400 w-10"},null,-1),ri={class:"text-sm"},ci={class:"flex items-center py-4"},di=e("i",{class:"fa-light fa-map-location-dot text-xl text-gray-400 w-10"},null,-1),ui={class:"text-sm"},fi={class:"flex w-6/12 items-center justify-end"},_i={class:"flex items-baseline text-5xl font-light"},pi=e("span",{class:"pr-2 text-2xl"},f(" meno di "),-1),vi={class:"pl-1 text-2xl"},yi={class:"w-full h-full relative"},mi=e("div",{class:"h-full w-full bg-green-200 absolute"},null,-1),gi=W({__name:"alarmDetailModal",setup(S){const s=g(qa),d=g(!1),l=we(()=>{let n="";return s.value.plots.forEach(u=>{n+=u.plot_name+", "}),n.slice(0,-2)});function i(){Xe.push({name:"activity-new"})}return X(()=>{Fe(()=>{d.value=!0})}),(n,u)=>(r(),y("div",Ja,[Qa,ei,e("div",ti,[e("div",ai,[e("span",ii,f(s.value.name),1),e("div",si,[e("div",li,[e("div",oi,[ni,e("span",ri,f(E(Je)(s.value.date,"dd/MM  -  HH:mm")),1)]),e("div",ci,[di,e("span",ui,f(l.value),1)])]),e("div",fi,[e("p",_i,[pi,Y(" "+f(s.value.threshold),1),e("span",vi,f(s.value.thresholdMeasure),1)])])])])]),e("div",yi,[mi,c(ce,{"enter-active-class":"transition duration-300 ease-out delay-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:_(()=>[d.value?(r(),G(Xa,{key:0,onOpenActivity:i})):K("",!0)]),_:1})])]))}}),hi={id:57842,cuaa:"123456789",full_name:"Azienda Agricola Rossini",sector:"Pagamenti Diretti 2023 - 2027",module:"Sostegno di base al redditto per la sostenibilità ai sensi del Reg. 2021/2115",year:2023,creationDate:new Date("2023-02-01"),compiledDate:new Date("2023-03-10"),verificationDate:new Date("2023-06-22"),presentationDate:new Date("2023-07-18")},xi={class:"flex flex-col w-full h-full"},wi=e("div",{class:"absolute w-full h-24 rounded-t-xl bg-gradient-to-br from-lime-500/30 dark:from-blue-500/30 from-0% to-green-500/20 dark:to-green-500/30 to-50%"},null,-1),bi=e("div",{class:"relative w-20 h-20 flex flex-shrink-0 justify-center items-center rounded-full bg-green-500 mx-auto mt-12"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",class:"svg-image filled h-10 w-10 text-green-100 mt-2 ml-2"},[e("path",{d:"M0 96C0 60.7 28.7 32 64 32c44 0 88.1 0 132.1 0c19.1 0 37.4 7.6 50.9 21.1c14.3 14.3 28.6 28.6 42.9 42.9L448 96c35.3 0 64 28.7 64 64c0 10.9 0 21.8 0 32.7c-5.3-.5-10.6-.7-16-.7c-10.9 0-21.6 1-32 2.9c0-11.6 0-23.3 0-34.9c0-8.8-7.2-16-16-16c-53.8 0-107.6 0-161.4 0c-10.6 0-20.8-4.2-28.3-11.7c-15.1-15.1-30.1-30.2-45.2-45.3c-4.5-4.5-10.6-7-17-7c-44 0-88.1 0-132.1 0c-8.8 0-16 7.2-16 16c0 106.7 0 213.3 0 320c0 8.8 7.2 16 16 16c89.4 0 178.7 0 268 0c6.9 17.5 16.5 33.7 28.3 48c-98.8 0-197.5 0-296.3 0c-35.3 0-64-28.7-64-64C0 309.3 0 202.7 0 96zM352 368c0-79.5 64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144s-144-64.5-144-144zm76.7-11.3c-6.2 6.2-6.2 16.4 0 22.6c13.3 13.3 26.7 26.7 40 40c6.2 6.2 16.4 6.2 22.6 0c24-24 48-48 72-72c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0c-20.2 20.2-40.5 40.5-60.7 60.7c-9.6-9.6-19.1-19.1-28.7-28.7c-6.2-6.2-16.4-6.2-22.6 0z"})])],-1),$i={class:"flex w-full flex-col overflow-auto -mt-8 pt-10"},Di={class:"flex flex-col w-full"},ki={class:"flex flex-col w-8/12 rounded-xl items-center mx-auto pt-6 pb-4"},Mi=e("span",{class:"font-semibold text-2xl text-green-800"},"La tua domanda è stata presentata",-1),Si={class:"flex w-full pt-14"},Li={class:"border-t border-gray-100 w-full"},Ci={class:"divide-y divide-gray-100 w-full"},Ai={class:"flex items-center px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Fi=e("dt",{class:"text-sm font-medium text-gray-900"},"ID domanda",-1),Ei={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},Ti={class:"flex items-center px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},zi=e("dt",{class:"text-sm font-medium text-gray-900"},"Settore",-1),Bi={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},Vi={class:"flex items-center px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ri=e("dt",{class:"text-sm font-medium text-gray-900"},"Modulo",-1),Wi={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},Pi={class:"flex items-center px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ji=e("dt",{class:"text-sm font-medium leading-6 text-gray-900"},"Allegati",-1),Hi={class:"mt-2 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ii={role:"list",class:"divide-y divide-gray-100 rounded-md border border-gray-200"},Oi={class:"flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6"},Gi={class:"flex w-0 flex-1 items-center"},Ni=e("div",{class:"ml-4 flex min-w-0 flex-1 gap-2"},[e("span",{class:"truncate font-medium"},"Riepilogo domanda.pdf"),e("span",{class:"flex-shrink-0 text-gray-400"},"2.4mb")],-1),Ui=e("div",{class:"ml-4 flex-shrink-0"},[e("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-800"},"Download")],-1),Zi={class:"w-full h-full relative"},Ki={class:"bg-bg-100 pt-12 pb-12"},Yi={class:"mx-auto max-w-7xl px-6 lg:px-8"},Xi={class:"mx-auto grid max-w-2xl grid-cols-1 gap-8 overflow-hidden lg:mx-0 lg:max-w-none lg:grid-cols-4"},qi=["datetime"],Ji=e("svg",{viewBox:"0 0 4 4",class:"mr-4 h-1 w-1 flex-none","aria-hidden":"true"},[e("circle",{cx:"2",cy:"2",r:"2",fill:"currentColor"})],-1),Qi=e("div",{class:"absolute -ml-2 h-px w-screen -translate-x-full bg-gray-900/10 sm:-ml-4 lg:static lg:-mr-6 lg:ml-8 lg:w-auto lg:flex-auto lg:translate-x-0","aria-hidden":"true"},null,-1),es={class:"mt-4 text-sm font-semibold leading-8 tracking-tight text-gray-900"},ts={class:"mt-1 text-sm leading-5 text-gray-600"},as=W({__name:"notificationDetailModal",setup(S){const s=g(hi),d=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],l=[{name:"Domanda creata",description:"Il processo di creazione della domanda è stato avviato.",date:i(s.value.creationDate),dateTime:s.value.creationDate.toDateString()},{name:"Domanda compilata",description:"I dati da te richiesti sono stati inseriti correttamente.",date:i(s.value.compiledDate),dateTime:s.value.compiledDate.toDateString()},{name:"Domanda verificata",description:"La tua domanda ha passato i controlli di verifica dell'ente competente.",date:i(s.value.verificationDate),dateTime:s.value.verificationDate.toDateString()},{name:"Domanda presentata",description:"La tua domanda è stata presentata: i pagamenti verranno effettuati secondo le modalità previste.",date:i(s.value.presentationDate),dateTime:s.value.presentationDate.toDateString()}];function i(n){const u=d[n.getMonth()];return n.getDate()+" "+u+" "+n.getFullYear()}return(n,u)=>(r(),y("div",xi,[wi,bi,e("div",$i,[e("div",Di,[e("div",ki,[Mi,e("div",Si,[e("div",Li,[e("dl",Ci,[e("div",Ai,[Fi,e("dd",Ei,f(s.value.id),1)]),e("div",Ti,[zi,e("dd",Bi,f(s.value.sector),1)]),e("div",Vi,[Ri,e("dd",Wi,f(s.value.module),1)]),e("div",Pi,[ji,e("dd",Hi,[e("ul",Ii,[e("li",Oi,[e("div",Gi,[c(E(nt),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),Ni]),Ui])])])])])])])])]),e("div",Zi,[e("div",Ki,[e("div",Yi,[e("div",Xi,[(r(),y(Z,null,te(l,b=>e("div",{key:b.name},[e("time",{datetime:b.dateTime,class:"flex items-center text-sm font-semibold leading-6 text-blue-500"},[Ji,Y(" "+f(b.date)+" ",1),Qi],8,qi),e("p",es,f(b.name),1),e("p",ts,f(b.description),1)])),64))])])])])])]))}}),is={class:"flex h-full w-full flex-col items-start overflow-x-hidden px-2 sm:px-4 md:pt-6 lg:px-8 lg:pt-10"},ss={class:"hidden w-full justify-between md:flex",style:{height:"72px"}},ls={class:"flex flex-grow flex-col border-l-4 border-green-500 pl-4"},os={class:"font-serif text-4xl text-green-800"},ns=e("span",{class:"pt-2 text-base text-green-800"},"Hai 1 messaggio da leggere e 1 allarme da verificare",-1),rs={class:"flex items-center space-x-3 h-full"},cs={class:"w-96 h-full"},ds={class:"rounded-xl w-full h-full overflow-hidden"},us={class:"w-96 h-full"},fs={class:"rounded-xl w-full h-full overflow-hidden"},_s={class:"-mx-3 flex flex-wrap pb-4 pt-3 lg:flex-grow",style:{height:"calc(100% - 72px)"}},ps={class:"flex h-96 w-full flex-wrap md:h-full md:w-6/12 2xl:w-4/12"},vs={class:"hidden h-96 w-full px-3 py-3 md:block md:h-full"},ys={class:"block w-full px-3 py-3 md:hidden"},ms={class:"block w-full px-3 py-3 md:hidden"},gs={class:"block h-96 w-full px-3 py-3 md:h-1/2 2xl:hidden"},hs={class:"block h-96 w-full px-3 py-3 md:hidden"},xs={class:"hidden h-full w-6/12 flex-wrap md:flex 2xl:w-8/12"},ws={class:"w-full px-3 py-3 lg:h-1/2 2xl:w-6/12"},bs={class:"w-full px-3 py-3 lg:h-1/2 2xl:w-6/12"},$s={class:"hidden w-full px-3 py-3 md:h-96 lg:h-1/2 2xl:block 2xl:w-6/12"},Ds={class:"w-full px-3 py-3 md:h-96 lg:h-1/2 2xl:w-6/12"},ks=e("i",{class:"fal fa-arrow-left"},null,-1),Ms=e("i",{class:"fal fa-arrow-left"},null,-1),Ns=W({__name:"index",setup(S){const s=qe(),d=g(!1),l=g(!1);return(i,n)=>(r(),y(Z,null,[e("div",is,[e("div",ss,[e("div",ls,[e("span",os,"Buongiorno "+f(E(s).name),1),ns]),e("div",rs,[e("div",cs,[e("div",ds,[c(Na,{onOpen:n[0]||(n[0]=u=>d.value=!0)})])]),e("div",us,[e("div",fs,[c(Wa,{onOpen:n[1]||(n[1]=u=>l.value=!0)})])])])]),e("div",_s,[e("div",ps,[e("div",vs,[c(ga,{hideMap:d.value},null,8,["hideMap"])]),e("div",ys,[c(Ce)]),e("div",ms,[c(Le)]),e("div",gs,[c(Me)]),e("div",hs,[c(Se)])]),e("div",xs,[e("div",ws,[c(Ce)]),e("div",bs,[c(Le)]),e("div",$s,[c(Me)]),e("div",Ds,[c(Se)])])])]),c(ke,{"is-open":d.value,modalClass:"w-full lg:w-10/12 xl:w-8/12 2xl:w-6/12",onClose:n[3]||(n[3]=u=>d.value=!1),onSubmit:n[4]||(n[4]=u=>d.value=!1),"is-scrollable":"","no-padding":"","hide-footer":""},{footer:_(()=>[c(re,{onClick:n[2]||(n[2]=u=>d.value=!1),isOutlined:!0,"is-secondary":!0},{icon:_(()=>[ks]),default:_(()=>[Y("Indietro ")]),_:1})]),default:_(()=>[c(gi)]),_:1},8,["is-open"]),c(ke,{"is-open":l.value,modalClass:"w-full lg:w-10/12 xl:w-8/12 2xl:w-6/12",onClose:n[6]||(n[6]=u=>l.value=!1),onSubmit:n[7]||(n[7]=u=>l.value=!1),"is-scrollable":"","no-padding":""},{footer:_(()=>[c(re,{onClick:n[5]||(n[5]=u=>l.value=!1),isOutlined:!0,"is-secondary":!0},{icon:_(()=>[Ms]),default:_(()=>[Y("Indietro ")]),_:1})]),default:_(()=>[c(as)]),_:1},8,["is-open"])],64))}});export{Ns as default};
