import{t as F,O as H,o as h,K as _,H as L,e as M,a as y,m as A,P as G,d as R,T as P}from"./use-outside-click-da6ff33c.js";import{K as N,d as U,e as W,T as q,p as z}from"./CheckCircleIcon-727372cf.js";import{M as C,f as J,a as X}from"./description-8d21d89b.js";import{p as Q}from"./use-tree-walker-fb60298c.js";import{d as j,k as E,c as n,X as m,q as Y,s as x,L as Z,z as V,F as ee,v as ae,y as le}from"./index-47e0eb5e.js";function re(a,v){return a===v}let B=Symbol("RadioGroupContext");function D(a){let v=le(B,null);if(v===null){let b=new Error(`<${a} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,D),b}return v}let se=j({name:"RadioGroup",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>re},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-radiogroup-${F()}`}},inheritAttrs:!1,setup(a,{emit:v,attrs:b,slots:S,expose:u}){let d=E(null),o=E([]),g=N({name:"RadioGroupLabel"}),O=C({name:"RadioGroupDescription"});u({el:d,$el:d});let[p,k]=U(n(()=>a.modelValue),e=>v("update:modelValue",e),n(()=>a.defaultValue)),s={options:o,value:p,disabled:n(()=>a.disabled),firstOption:n(()=>o.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:n(()=>o.value.some(e=>s.compare(m(e.propsRef.value),m(a.modelValue)))),compare(e,r){if(typeof a.by=="string"){let l=a.by;return e?.[l]===r?.[l]}return a.by(e,r)},change(e){var r;if(a.disabled||s.compare(m(p.value),m(e)))return!1;let l=(r=o.value.find(i=>s.compare(m(i.propsRef.value),m(e))))==null?void 0:r.propsRef;return l!=null&&l.disabled?!1:(k(e),!0)},registerOption(e){o.value.push(e),o.value=H(o.value,r=>r.element)},unregisterOption(e){let r=o.value.findIndex(l=>l.id===e);r!==-1&&o.value.splice(r,1)}};Y(B,s),Q({container:n(()=>h(d)),accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});function c(e){if(!d.value||!d.value.contains(e.target))return;let r=o.value.filter(l=>l.propsRef.disabled===!1).map(l=>l.element);switch(e.key){case y.Enter:z(e.currentTarget);break;case y.ArrowLeft:case y.ArrowUp:if(e.preventDefault(),e.stopPropagation(),G(r,R.Previous|R.WrapAround)===P.Success){let l=o.value.find(i=>{var t;return i.element===((t=A(d))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break;case y.ArrowRight:case y.ArrowDown:if(e.preventDefault(),e.stopPropagation(),G(r,R.Next|R.WrapAround)===P.Success){let l=o.value.find(i=>{var t;return i.element===((t=A(i.element))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break;case y.Space:{e.preventDefault(),e.stopPropagation();let l=o.value.find(i=>{var t;return i.element===((t=A(i.element))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break}}let f=n(()=>{var e;return(e=h(d))==null?void 0:e.closest("form")});return x(()=>{Z([f],()=>{if(!f.value||a.defaultValue===void 0)return;function e(){s.change(a.defaultValue)}return f.value.addEventListener("reset",e),()=>{var r;(r=f.value)==null||r.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{disabled:e,name:r,id:l,form:i,...t}=a,T={ref:d,id:l,role:"radiogroup","aria-labelledby":g.value,"aria-describedby":O.value,onKeydown:c};return V(ee,[...r!=null&&p.value!=null?W({[r]:p.value}).map(([w,$])=>V(J,_({features:X.Hidden,key:w,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:w,value:$}))):[],L({ourProps:T,theirProps:{...b,...M(t,["modelValue","defaultValue","by"])},slot:{},attrs:b,slots:S,name:"RadioGroup"})])}}});var te=(a=>(a[a.Empty=1]="Empty",a[a.Active=2]="Active",a))(te||{});let pe=j({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-radiogroup-option-${F()}`}},setup(a,{attrs:v,slots:b,expose:S}){let u=D("RadioGroupOption"),d=N({name:"RadioGroupLabel"}),o=C({name:"RadioGroupDescription"}),g=E(null),O=n(()=>({value:a.value,disabled:a.disabled})),p=E(1);S({el:g,$el:g});let k=n(()=>h(g));x(()=>u.registerOption({id:a.id,element:k,propsRef:O})),ae(()=>u.unregisterOption(a.id));let s=n(()=>{var t;return((t=u.firstOption.value)==null?void 0:t.id)===a.id}),c=n(()=>u.disabled.value||a.disabled),f=n(()=>u.compare(m(u.value.value),m(a.value))),e=n(()=>c.value?-1:f.value||!u.containsCheckedOption.value&&s.value?0:-1);function r(){var t;u.change(a.value)&&(p.value|=2,(t=h(g))==null||t.focus())}function l(){p.value|=2}function i(){p.value&=-3}return()=>{let{id:t,value:T,disabled:w,...$}=a,I={checked:f.value,disabled:c.value,active:!!(p.value&2)},K={id:t,ref:g,role:"radio","aria-checked":f.value?"true":"false","aria-labelledby":d.value,"aria-describedby":o.value,"aria-disabled":c.value?!0:void 0,tabIndex:e.value,onClick:c.value?void 0:r,onFocus:c.value?void 0:l,onBlur:c.value?void 0:i};return L({ourProps:K,theirProps:$,slot:I,attrs:v,slots:b,name:"RadioGroupOption"})}}}),ve=q;export{pe as E,se as k,ve as w};
